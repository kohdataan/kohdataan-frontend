(this["webpackJsonpkohdataan-frontend"]=this["webpackJsonpkohdataan-frontend"]||[]).push([[0],{220:function(e,a,t){e.exports=t.p+"static/media/bot.c8cca1a5.svg"},234:function(e,a,t){e.exports=t.p+"static/media/camera-add-solid.0fa4b1f5.svg"},241:function(e,a,t){e.exports=t(487)},252:function(e,a,t){},318:function(e,a,t){},319:function(e,a,t){},329:function(e,a,t){},330:function(e,a,t){},331:function(e,a,t){},332:function(e,a,t){},334:function(e,a,t){},335:function(e,a,t){},339:function(e,a,t){},340:function(e,a,t){},342:function(e,a,t){},343:function(e,a,t){},345:function(e,a,t){},352:function(e,a,t){},365:function(e,a,t){},370:function(e,a,t){},375:function(e,a,t){},376:function(e,a,t){},377:function(e,a,t){},378:function(e,a,t){},379:function(e,a,t){},380:function(e,a,t){},381:function(e,a,t){},382:function(e,a,t){},383:function(e,a,t){},384:function(e,a,t){},385:function(e,a,t){},386:function(e,a,t){},387:function(e,a,t){},388:function(e,a,t){},389:function(e,a,t){},390:function(e,a,t){},391:function(e,a,t){},392:function(e,a,t){},393:function(e,a,t){},394:function(e,a,t){},395:function(e,a,t){},398:function(e,a,t){},400:function(e,a,t){},401:function(e,a,t){},402:function(e,a,t){},403:function(e,a,t){},404:function(e,a,t){},405:function(e,a,t){},406:function(e,a,t){},407:function(e,a,t){},408:function(e,a,t){},409:function(e,a,t){},410:function(e,a,t){},411:function(e,a,t){},412:function(e,a,t){},413:function(e,a,t){},414:function(e,a,t){},415:function(e,a,t){},416:function(e,a,t){},417:function(e,a,t){},418:function(e,a,t){},419:function(e,a,t){},420:function(e,a,t){},421:function(e,a,t){},422:function(e,a,t){},423:function(e,a,t){},424:function(e,a,t){},425:function(e,a,t){},426:function(e,a,t){},427:function(e,a,t){},428:function(e,a,t){},429:function(e,a,t){},430:function(e,a,t){},431:function(e,a,t){},432:function(e,a,t){},487:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(19),i=t.n(s),l=t(8),o=t(23);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=t(1),u=t.n(c),m=t(3),d=t(27),p=t(20),h=t(71),v=(t(252),Object(n.memo)(e=>{var a=e.className,t=e.children;return r.a.createElement("div",{className:a},t)})),k=t(7),f=t(13),b=(t(318),e=>{var a=e.children,t=e.className,n=Object(k.a)(e,["children","className"]);return r.a.createElement("div",{className:"bottom-navigation-container"},r.a.createElement("nav",Object.assign({className:t},n),a))});b.defaultProps={className:"bottom-navigation"};var E=Object(n.memo)(b),y=(t(319),Object(n.memo)(e=>{var a=e.title,t=e.route,n=e.icon;return r.a.createElement(l.c,{exact:!0,to:t,tabIndex:0,className:"nav-link",activeClassName:"nav-link-active nav-link-".concat(a),"aria-current":"page"},r.a.createElement("div",null,r.a.createElement("i",{"aria-hidden":"true",className:n,title:a})),r.a.createElement("p",{className:"label"},a))})),j=t(2),g=t(86),N=t.n(g);N.a.setAppElement("#root");var O={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-20%",transform:"translate(-50%, -50%)",position:"fixed",border:"none",borderRadius:"5px",textAlign:"center",maxHeight:"80vh",minWidth:"290px",maxWidth:"400px"},overlay:{position:"fixed",zIndex:"4000",backgroundColor:"rgba(0, 0, 0, 0.5)"}},x={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-20%",transform:"translate(-50%, -50%)",position:"fixed",border:"none",borderRadius:"5px",textAlign:"center",padding:"7vh 5vh",minHeight:"30vh",maxHeight:"80vh",width:"80vw",maxWidth:"400px"},overlay:{position:"fixed",zIndex:"4000",backgroundColor:"rgba(0, 0, 0, 0.5)"}},w={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-20%",transform:"translate(-50%, -50%)",position:"fixed",border:"none",borderRadius:"5px",textAlign:"center",padding:"8vh",minHeight:"30vh",maxHeight:"80vh",width:"80vw",maxWidth:"960px"},overlay:{position:"fixed",zIndex:"4000",backgroundColor:"rgba(0, 0, 0, 0.5)"}},S={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-20%",paddingTop:"30px",transform:"translate(-50%, -50%)",position:"fixed",border:"none",borderRadius:"5px",maxHeight:"95vh",maxWidth:"80vh",minWidth:"50vh",minHeight:"60vh"},overlay:{position:"fixed",zIndex:"4000",backgroundColor:"rgba(0, 0, 0, 0.5)"}},C={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-20%",paddingTop:"10px",paddingBottom:"10px",transform:"translate(-50%, -50%)",position:"fixed",border:"none",borderRadius:"5px",width:"80%",height:"180px",minHeight:"156px",minWidth:"330px",maxHeight:"306px",backgroundColor:"#2B373B"},overlay:{position:"fixed",zIndex:"4000",backgroundColor:"rgba(0, 0, 0, 0.5)"}},I={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-20%",transform:"translate(-50%, -50%)",position:"fixed",border:"none",borderRadius:"5px",maxHeight:"95vh",maxWidth:"80vh",minWidth:"50vh",minHeight:"60vh",padding:"0px"},overlay:{position:"fixed",zIndex:"4000",backgroundColor:"rgba(0, 0, 0, 0.5)"}},T=e=>{var a=e.children,t=e.modalIsOpen,n=e.closeModal,s=e.label,i=e.isLong,l=e.tutorial,o=e.editModal,c=e.cookie,u=e.isSendMessage;return r.a.createElement(N.a,{isOpen:t,onRequestClose:n,contentLabel:s,style:(()=>{var e=O;return i?e=S:l?e=w:o?e=x:c?e=C:u&&(e=I),e})(),role:"dialog",aria:{label:s,modal:!0}},a)};T.defaultProps={isLong:!1,modalIsOpen:!1,editModal:!1,tutorial:!1,cookie:!1,isSendMessage:!1};var A=Object(n.memo)(T),_=(t(329),t(220)),P=t.n(_),K=(t(330),e=>{var a=e.className,t=e.children,n=e.secondary,s=e.onClick,i=e.label,l=e.role;return r.a.createElement("button",{type:"button",className:"button-container ".concat(n?"button-secondary":""," ").concat(a),onClick:s,onKeyPress:s,tabIndex:"0","aria-label":i,role:l},t)});K.defaultProps={secondary:!1,label:"",role:"button"};var F=Object(n.memo)(K),U=t(53),D=r.a.forwardRef((e,a)=>{var t=e.label,n=e.name,s=e.showLabel,i=e.inputClassName,l=e.labelClassName,o=e.onChange,c=e.maxLength,u=e.rows;return r.a.createElement("label",{htmlFor:t,className:i},s&&t,r.a.createElement("textarea",{type:"text",name:n,id:t,ref:a,className:l,onChange:o,maxLength:c,rows:u}))});D.defaultProps={showLabel:!0,inputClassName:"",labelClassName:"",maxLength:1e3,rows:4};var M=Object(n.memo)(D),L=r.a.forwardRef((e,a)=>{var t=e.label,n=e.name,s=e.showLabel,i=e.showPlaceholder,l=e.onChange,o=e.ariaInvalid,c=e.inputClassName,u=e.labelClassName,m=e.type,d=e.disabled;return r.a.createElement("label",{htmlFor:t,className:c},s&&t,r.a.createElement("input",{type:m,name:n,ref:a,id:t,onChange:l,"aria-label":t,"aria-invalid":o,placeholder:i?t:"",className:u,disabled:d}))});L.defaultProps={type:"text",showLabel:!0,showPlaceholder:!1,ariaInvalid:!1,inputClassName:"",labelClassName:"",onChange:null,disabled:!1};var R=Object(n.memo)(L),V=(t(331),({handleEmailSending:e,handleClick:a,text:t,user:n})=>{var s=Object(U.a)(),i=s.register,o=s.handleSubmit,c=s.errors,d=s.clearError,p=function(){var t=Object(m.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(r.name.trim(),n?n.email:r.email.trim(),r.message.trim(),a?"Yhteydenotto":"Ongelma rekister\xf6itymisess\xe4");case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("main",{className:"registration-problem-container"},r.a.createElement("h1",{className:"main-title"},"Kohdataan"),r.a.createElement("div",{className:"registration-problem-content-container"},t&&t.includes("Kiitos")?r.a.createElement("div",{className:"registration-problem-text"},r.a.createElement("h2",{className:"registration-success-text"},t),r.a.createElement("p",null,"Vastaamme sinulle s\xe4hk\xf6postilla mahdollisimman pian.")):r.a.createElement(r.a.Fragment,null,t&&!t.includes("Kiitos")&&r.a.createElement("div",{className:"registration-problem-text"},r.a.createElement("p",{className:"registration-success-text"},t),r.a.createElement("hr",{className:"registration-problem-divider"})),r.a.createElement("div",{className:"registration-problem-text"},r.a.createElement("p",null,"Kerro mit\xe4 apua tarvitset."),r.a.createElement("p",null,"Vastaamme sinulle s\xe4hk\xf6postilla mahdollisimman pian."),r.a.createElement("hr",{className:"registration-problem-divider"})),r.a.createElement("div",{className:"registration-problem-input-fields-container"},r.a.createElement("form",{className:"registration-problem-form",onSubmit:o(p)},r.a.createElement("div",{className:"formfield-container"},r.a.createElement(R,{label:"Oma nimi",name:"name",onChange:()=>d("name"),ref:i({required:!0,minLength:2,maxLength:50,pattern:/^[a-z A-Z\xe4\xf6\xfc\xdf\xc4\xd6\xdc'-]+$/i}),ariaInvalid:!!c.name,inputClassName:"registration-problem-input-text",labelClassName:c.name?"registration-problem-errors-field":"registration-problem-input-field"}),r.a.createElement("div",{className:"error-text"},c.name&&"required"===c.name.type&&"Kirjoita nimi.",c.name&&("minLength"===c.name.type||"maxLength"===c.name.type||"pattern"===c.name.type)&&"Tarkista, ett\xe4 kirjoitit nimen oikein.")),!a&&r.a.createElement("div",{className:"formfield-container"},r.a.createElement(R,{label:"Oma s\xe4hk\xf6posti",name:"email",onChange:()=>d("email"),ref:i({required:!0,pattern:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i}),ariaInvalid:!!c.email,inputClassName:"registration-problem-input-text",labelClassName:c.email?"registration-problem-errors-field":"registration-problem-input-field"}),r.a.createElement("div",{className:"error-text"},c.email&&"required"===c.email.type&&"Kirjoita s\xe4hk\xf6posti.",c.email&&"pattern"===c.email.type&&"Tarkista, ett\xe4 kirjoitit s\xe4hk\xf6postin oikein.")),r.a.createElement("div",{className:"formfield-container"},r.a.createElement(M,{label:"Viesti",name:"message",onChange:()=>d("messsage"),ref:i({required:!0}),ariaInvalid:!!c.message,inputClassName:"registration-problem-input-text",labelClassName:c.message?"registration-problem-errors-field":"registration-problem-input-field",rows:3}),r.a.createElement("div",{className:"error-text"},c.message&&"required"===c.message.type&&"Kirjoita viesti.")),r.a.createElement("button",{type:"submit",className:"button registration-problem-button",onKeyPress:o(p),tabIndex:"0"},"l\xe4het\xe4 viesti"))))),a&&r.a.createElement(F,{className:"registration-problem-button",onClick:a,tabIndex:"0"},"Sulje"),!a&&r.a.createElement("div",{className:"registration-problem-links-container"},r.a.createElement(l.b,{className:"registration-problem-link",to:"/login"},"Olen vanha k\xe4ytt\xe4j\xe4 ja haluan kirjautua sis\xe4\xe4n."),r.a.createElement(l.b,{className:"registration-problem-link",to:"/createaccount"},"Olen uusi k\xe4ytt\xe4j\xe4 ja haluan rekister\xf6ity\xe4."),r.a.createElement(l.b,{className:"registration-problem-link",to:"/reset-password"},"Olen unohtanut salasanani."),r.a.createElement(l.b,{className:"registration-problem-link",to:"/email-verification"},"En ole saanut vahvistuslinkki\xe4.")))});V.defaultProps={handleClick:null,text:"",user:null};var H=Object(n.memo)(V),B=e=>{if(!e.ok)throw Error(e.statusText);return e.json()},J=function(){var e=Object(m.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/auth/login"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/auth/logout"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 4:return t=e.sent,e.abrupt("return",B(t));case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),z=function(){var e=Object(m.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/user"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}(),G=function(){var e=Object(m.a)(u.a.mark((function e(a){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/auth/forgot"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e.catch(1),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a){return e.apply(this,arguments)}}(),W=function(){var e=Object(m.a)(u.a.mark((function e(a){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/auth/reset"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e.catch(1),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a){return e.apply(this,arguments)}}(),Y=function(){var e=Object(m.a)(u.a.mark((function e(a){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/auth/check-resetlink"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e.catch(1),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a){return e.apply(this,arguments)}}(),Z=function(){var e=Object(m.a)(u.a.mark((function e(a){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/auth/update-password"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e.catch(1),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a){return e.apply(this,arguments)}}(),$=function(){var e=Object(m.a)(u.a.mark((function e(a,t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/user/").concat(a),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 4:return n=e.sent,e.abrupt("return",B(n));case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(m.a)(u.a.mark((function e(a,t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/user/username/").concat(a),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 4:return n=e.sent,e.abrupt("return",B(n));case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t){return e.apply(this,arguments)}}(),X=function(){var e=Object(m.a)(u.a.mark((function e(a,t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/user/").concat(t),{method:"PATCH",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 4:return r=e.sent,e.abrupt("return",B(r));case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t,n){return e.apply(this,arguments)}}(),ee=function(){var e=Object(m.a)(u.a.mark((function e(a,t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("https://someapi.kohdataan.fi/node_api",!(a.userInterests.length>=3)){e.next=12;break}return e.prev=2,e.next=5,fetch("".concat("https://someapi.kohdataan.fi/node_api","/userInterest"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 5:return n=e.sent,e.abrupt("return",B(n));case 9:throw e.prev=9,e.t0=e.catch(2),new Error(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(a,t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(m.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/userInterest"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 4:return t=e.sent,e.abrupt("return",B(t));case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),te=function(){var e=Object(m.a)(u.a.mark((function e(a,t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/userInterest/").concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 4:return n=e.sent,e.abrupt("return",B(n));case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(m.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/sendMail/problem"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}(),re=function(){var e=Object(m.a)(u.a.mark((function e(a,t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/user/").concat(t),{method:"DELETE",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 4:return r=e.sent,e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a,t,n){return e.apply(this,arguments)}}(),se=function(){var e=Object(m.a)(u.a.mark((function e(a,t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/user/deletenow/").concat(t),{method:"DELETE",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 4:return r=e.sent,e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a,t,n){return e.apply(this,arguments)}}(),ie=function(){var e=Object(m.a)(u.a.mark((function e(a,t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/user/restore/").concat(t),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 4:return r=e.sent,e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a,t,n){return e.apply(this,arguments)}}(),le=function(){var e=Object(m.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/emailverification/req"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}(),oe=function(){var e=Object(m.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/emailverification/ver"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(1),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}(),ce=e=>{var a=e.handleClick,t=e.history,s=e.user,i=Object(n.useState)(""),l=Object(j.a)(i,2),o=l[0],c=l[1],d=function(){var e=Object(m.a)(u.a.mark((function e(n,r,s,i){var l,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={name:n,email:r,message:s,type:i},e.next=3,ne(l);case 3:(o=e.sent)&&o.success&&!a?t.push("/messagesent"):c(a?"Kiitos viestist\xe4.":"Viestin l\xe4hetys ei onnistunut");case 5:case"end":return e.stop()}}),e)})));return function(a,t,n,r){return e.apply(this,arguments)}}();return r.a.createElement(H,{handleEmailSending:d,handleClick:a,text:o,user:s})};ce.defaultProps={history:null,handleClick:null,user:null};var ue=Object(n.memo)(ce,(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)}),me=(t(332),e=>{var a=e.handleClick,t=e.path,n=e.direct,s=e.inChat,i="";switch(/\/profile\/[a-z0-9.-]+/i.test(t)?"/member-profile":s&&n?"/private-chat":s&&!n?"/group-chat":t){case"/me":i='T\xe4m\xe4 on oma profiilisi. \n        \nT\xe4\xe4ll\xe4 n\xe4et omat profiilitietosi. N\xe4m\xe4 tiedot n\xe4kyv\xe4t my\xf6s muille k\xe4ytt\xe4jille.\n        \nT\xe4\xe4lt\xe4 p\xe4\xe4set muokkaamaan tietojasi ja kiinnostuksen kohteitasi. \n        \nJos haluat muokata tietojasi tai kiinnostuksen kohteitasi, valitse "Muokkaa".';break;case"/edit-me":i="T\xe4\xe4ll\xe4 voit muokata profiiliasi. \n        \nVoit vaihtaa oman kuvan. Kuva voi olla BMP-, JPG- tai PNG-tiedosto. Tiedoston koko voi olla enint\xe4\xe4n 50 MB. \n        \nVoit muuttaa nimesi ja asuinpaikkasi. Voit valita n\xe4kyyk\xf6 ik\xe4si ja asuinpaikkasi muille k\xe4ytt\xe4jille. Voit my\xf6s muokata kuvausta, jossa kerrot itsest\xe4si.\n        \nMuista tallentaa muutokset!";break;case"/friends":i="T\xe4\xe4ll\xe4 n\xe4et kaikki kaverisi. \n      \nT\xe4\xe4ll\xe4 n\xe4et, ovatko kaverisi l\xe4hett\xe4neet sinulle uusia viestej\xe4.\n        \nKaikki k\xe4ytt\xe4j\xe4t, joiden kanssa olet viestitellyt kahdestaan, ovat kavereitasi.\n        \nVoit l\xe4hett\xe4\xe4 toiselle k\xe4ytt\xe4j\xe4lle yksityisviestin h\xe4nen profiilistaan. P\xe4\xe4set toisen k\xe4ytt\xe4j\xe4n profiiliin ryhm\xe4n kautta, kun klikkaat ryhm\xe4ss\xe4 h\xe4nen kuvakettaan.\n        \nJos et halua en\xe4\xe4 viestitell\xe4 kaverin kanssa, voit est\xe4\xe4 h\xe4net. Voit laittaa eston p\xe4\xe4lle ja my\xf6hemmin poistaa sen, kun klikkaat kaverin nimen per\xe4ss\xe4 olevia pisteit\xe4.";break;case"/edit-interests":i="T\xe4\xe4ll\xe4 voit muokata kiinnostuksen kohteitasi.\n        \nVoit lis\xe4t\xe4 uusia tai poistaa vanhoja kiinnostuksen kohteita klikkaamalla niit\xe4. \n        \nVoit valita 3-5 kohdetta.\n        \nMuista tallentaa muutokset!";break;case"/":i="T\xe4\xe4ll\xe4 n\xe4et kaikki ryhm\xe4si.\n        \nT\xe4\xe4ll\xe4 n\xe4et uudet ryhm\xe4t, joita ehdotamme sinulle. Ehdotamme sinulle joka p\xe4iv\xe4 uusia ryhmi\xe4. Voit itse valita mihin ryhmiin liityt.\n        \nT\xe4\xe4ll\xe4 n\xe4et my\xf6s kaikki omat ryhm\xe4t, joihin olet jo liittynyt. N\xe4et, onko ryhmiin tullut uusia viestej\xe4. P\xe4\xe4set keskustelemaan muiden ryhm\xe4l\xe4isten kanssa, kun klikkaat ryhm\xe4n kuvaketta.\n        \nVoit kuulua korkeintaan viiteen ryhm\xe4\xe4n. Jos kuulut jo viiteen ryhm\xe4\xe4n, ja haluat liitty\xe4 uuteen ryhm\xe4\xe4n, sinun t\xe4ytyy ensin poistua jostain vanhasta ryhm\xe4st\xe4.";break;case"/group-chat":i="T\xe4\xe4ll\xe4 voit keskustella muiden ryhm\xe4l\xe4isten kanssa. \n        \nVoit kirjoittaa ja l\xe4hett\xe4\xe4 kuvia, videoita ja \xe4\xe4niviestej\xe4.       \n        \nKun klikkaat ryhm\xe4n nime\xe4, n\xe4et ryhm\xe4n tiedot. N\xe4et ryhm\xe4n j\xe4senet, ja milloin he ovat olleet paikalla. N\xe4et my\xf6s, mitk\xe4 asiat ryhm\xe4n j\xe4seni\xe4 kiinnostaa.       \n        \nKun klikkaat ryhm\xe4n j\xe4senen nime\xe4, n\xe4et h\xe4nen profiilinsa. Profiilissa voit l\xe4hett\xe4\xe4 h\xe4nelle yksityisen viestin.         \n        \nT\xe4\xe4ll\xe4 voit my\xf6s poistua ryhm\xe4st\xe4. Muista, ett\xe4 jos poistut ryhm\xe4st\xe4, et voi palata siihen takaisin.\n        \nJos huomaat keskustelussa asiattoman viestin tai viestej\xe4, voit ilmoittaa siit\xe4 valvojalle. Valvoja voi poistaa viestin. Valvoja voi tarvittaessa my\xf6s liitty\xe4 keskusteluun. Valvojalla on p\xe4\xe4sy kaikkiin ryhm\xe4keskusteluihin.";break;case"/member-profile":i="T\xe4m\xe4 on toisen k\xe4ytt\xe4j\xe4n profiili.\n        \nT\xe4\xe4ll\xe4 n\xe4et tiedot, jotka h\xe4n haluaa kertoa itsest\xe4\xe4n muille k\xe4ytt\xe4jille.\n        \nJos haluat jutella k\xe4ytt\xe4j\xe4n kanssa kahdestaan, voit l\xe4hett\xe4\xe4 h\xe4nelle yksityisen viestin.\n        \nK\xe4ytt\xe4j\xe4t, joiden kanssa viestittelet kahdestaan, n\xe4kyv\xe4t Kavereissasi.";break;case"/private-chat":i="T\xe4\xe4ll\xe4 voit keskustella kaverisi kanssa kahdestaan.\n        \nVoit kirjoittaa ja l\xe4hett\xe4\xe4 kuvia, videoita ja \xe4\xe4niviestej\xe4.\n        \nN\xe4it\xe4 yksityisi\xe4 viestej\xe4 ei n\xe4e kukaan muu.";break;case"/account":i="T\xe4\xe4ll\xe4 n\xe4et omat rekister\xf6itymistietosi. N\xe4m\xe4 tiedot eiv\xe4t n\xe4y muille k\xe4ytt\xe4jille. \n        \nT\xe4\xe4ll\xe4 voit muokata tietojasi, jos esimerkiksi sukunimesi, s\xe4hk\xf6postisi tai puhelinnumerosi vaihtuu.\n        \nT\xe4\xe4ll\xe4 voit my\xf6s poistaa k\xe4ytt\xe4j\xe4tilisi kokonaan. Kun poistat k\xe4ytt\xe4j\xe4tilisi, poistamme sen palvelusta viikon p\xe4\xe4st\xe4. Jos haluat jatkaa palvelun k\xe4ytt\xf6\xe4, kirjaudu palveluun ennen kuin viikko on kulunut. Kun poistat k\xe4ytt\xe4j\xe4tilisi, viestisi j\xe4\xe4v\xe4t palveluun nimett\xf6m\xe4n\xe4."}return r.a.createElement("div",{className:"page-information-container"},r.a.createElement("div",{className:"page-info-text-content"},i),r.a.createElement(F,{className:"button button-close",onClick:a},"Sulje"))});me.defaultProps={direct:!1,inChat:!1,path:null};var de=Object(n.memo)(me),pe=Object(n.forwardRef)((e,a)=>{var t=e.handleLogout,s=e.path,i=e.inChat,o=e.direct,c=e.user,u=Object(n.useState)(!1),m=Object(j.a)(u,2),d=m[0],p=m[1],h=Object(n.useState)(!1),v=Object(j.a)(h,2),k=v[0],f=v[1],b=Object(n.useState)(!1),E=Object(j.a)(b,2),y=E[0],g=E[1],N=Object(n.useState)(!1),O=Object(j.a)(N,2),x=O[0],w=O[1],S=Object(n.useState)(!1),C=Object(j.a)(S,2),I=C[0],T=C[1],_=e=>e(!0),K=e=>e(!1);return r.a.createElement("div",{className:i?"nav-bot-chat":"nav-bot",ref:a},r.a.createElement(F,{className:"button-image",onClick:()=>_(p),label:"Avaa botti"},r.a.createElement("img",{src:P.a,alt:"Botti"})),r.a.createElement(A,{modalIsOpen:d,closeModal:()=>K(p),label:"Botti"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-item"},r.a.createElement("i",{className:"fas fa-question-circle modal-icon","aria-hidden":"true"}),r.a.createElement(F,{className:"bot-link",role:"link",tabIndex:0,onClick:()=>{f(!0),_(f)}},"Mit\xe4 t\xe4ll\xe4 sivulla tehd\xe4\xe4n"),r.a.createElement(A,{modalIsOpen:k,closeModal:()=>K(f),label:"Tietoa t\xe4st\xe4 sivusta"},r.a.createElement(de,{path:s,handleClick:()=>{f(!1),K(f)},direct:o,inChat:i}))),r.a.createElement("hr",{"aria-hidden":"true"}),r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-item"},r.a.createElement("i",{className:"fas fa-life-ring modal-icon","aria-hidden":"true"}),r.a.createElement(F,{className:"bot-link",onClick:()=>{g(!0),_(g)}},"L\xe4het\xe4 valvojalle viesti"),r.a.createElement(A,{modalIsOpen:y,isSendMessage:!0,closeModal:()=>K(g),label:"Viestin l\xe4hetys"},r.a.createElement(ue,{handleClick:()=>{g(!1),K(g)},user:c})))),r.a.createElement("hr",{"aria-hidden":"true"}),r.a.createElement("div",{className:"modal-item"},r.a.createElement("i",{className:"fas fa-info-circle modal-icon","aria-hidden":"true"}),r.a.createElement(F,{className:"bot-link",onClick:()=>{w(!0),_(w)}},"Lis\xe4tietoa palvelusta"),r.a.createElement(A,{modalIsOpen:x,closeModal:()=>K(w),label:"Lis\xe4tietoja palvelusta"},r.a.createElement("div",null,r.a.createElement(F,{className:"icon-btn go-back-button image-max-size-exceeded",onClick:()=>K(w),label:"Sulje"}," "),r.a.createElement("div",{className:"link-to-main-page-content"},r.a.createElement("p",{className:"link-info-text"},"Kohdataan-sivuilta saat lis\xe4\xe4 tietoa ja ohjeita palvelun k\xe4ytt\xf6\xf6n."),r.a.createElement("p",null,r.a.createElement("a",{className:"link-to-main-page",href:"https://kohdataan.fi",tabIndex:0},"Siirry Kohdataan-sivuille.")))))),r.a.createElement("hr",{"aria-hidden":"true"}),r.a.createElement("div",{className:"modal-item"},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-cog modal-icon","aria-hidden":"true"})),r.a.createElement(l.b,{to:"/account",onClick:()=>K(p)},"Rekister\xf6itymis\xadtiedot")),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-sign-out-alt modal-icon","aria-hidden":"true"})),r.a.createElement(F,{className:"bot-link",role:"link",tabIndex:0,onClick:()=>{T(!0),_(T)}},"Kirjaudu ulos"),r.a.createElement(A,{modalIsOpen:I,closeModal:()=>K(T),label:"Vahvista uloskirjautuminen"},r.a.createElement("div",null,r.a.createElement("h3",{className:"interests-modal-text"},"Haluatko varmasti kirjautua ulos?"),r.a.createElement(F,{className:"button button-secondary log-out-btn",onClick:()=>K(T)},"En"),r.a.createElement(F,{className:"button log-out-btn",onClick:()=>{t(),K(p)}},"Kyll\xe4")))),r.a.createElement(F,{className:"button button-close",onClick:()=>K(p),label:"Sulje"},"Sulje")))});pe.defaultProps={inChat:!1,direct:!1};var he=Object(n.memo)(pe),ve=function(){var e=Object(m.a)(u.a.mark((function e(a,t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,localStorage.removeItem("userId"),localStorage.removeItem("authToken"),e.next=5,a(localStorage.getItem("authToken"));case 5:return e.next=7,t();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a,t){return e.apply(this,arguments)}}(),ke=Object(o.b)(e=>{var a=e.entities.users.currentUserId;return{currentUserId:a,user:e.entities.users.profiles[a]}},e=>Object(p.bindActionCreators)({logout:f.logout},e))(Object(d.g)(Object(n.memo)(e=>{var a=e.location.pathname,t=e.logout,n=e.user;if("chat"===a.split("/")[1])return r.a.createElement("div",null);if("registration"===a.split("/")[1])return r.a.createElement("div",null);return r.a.createElement(E,null,r.a.createElement(y,{title:"Profiili",route:"/me",icon:"fas fa-user-circle"}),r.a.createElement(y,{title:"Kaverit",route:"/friends",icon:"fas fa-comment-dots"}),r.a.createElement(y,{title:"Ryhm\xe4t",route:"/",icon:"fas fa-user-friends"}),r.a.createElement(he,{handleLogout:()=>ve(q,t),path:a,user:n}))},(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)}))),fe=t(34),be=t(62),Ee=t(58),ye=t.n(Ee),je=function(){var e=Object(m.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/channelInvitation"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 4:return t=e.sent,e.abrupt("return",B(t));case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),ge=function(){var e=Object(m.a)(u.a.mark((function e(a,t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/channel/members/").concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 4:return n=e.sent,e.abrupt("return",B(n));case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(m.a)(u.a.mark((function e(a,t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/channelPurpose/addUser/").concat(t),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 4:return n=e.sent,e.abrupt("return",B(n));case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(m.a)(u.a.mark((function e(a,t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/channelPurpose/removeUser/").concat(t),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 4:return n=e.sent,e.abrupt("return",B(n));case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(m.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/channelPurpose/resetUserChannels"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 4:return t=e.sent,e.abrupt("return",B(t));case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),we=(t(334),{Siniset:"#0000FF",Vaaleansiniset:"#ADD8E6",Tummansiniset:"#00008B",Haaleansiniset:"#A9D5E8",Kirkkaansiniset:"#0505FF",Merensiniset:"#15BEF0","S\xe4hk\xf6nsiniset":"#0000CD",Taivaansiniset:"#87CEED",Laivastonsiniset:"#000080","Syv\xe4nsiniset":"#0E0A70","Y\xf6nsiniset":"#00009C","Ter\xe4ksensiniset":"#4682B4",Lemmikinsiniset:"#7997B3",Indigonsiniset:"#4B0082","J\xe4\xe4nsiniset":"#E0FFFF",Punaiset:"#FF0000",Vaaleanpunaiset:"#FFC0CB",Tummanpunaiset:"#8B0000",Haaleanpunaiset:"#ED5353",Kirkkaanpunaiset:"#FF1414",Viininpunaiset:"#A31C1C",Ruosteenpunaiset:"#B7410E","Syv\xe4npunaiset":"#8F0303",Joulunpunaiset:"#FC0303",Tulenpunaiset:"#FF2400",Kirsikanpunaiset:"#DE3163",Unikonpunaiset:"#EB0707",Tiilenpunaiset:"#B22222",Omenanpunaiset:"#A80A0A",Keltaiset:"#FFFF00",Vaaleankeltaiset:"#F7F74F",Tummankeltaiset:"#FFE100",Haaleankeltaiset:"#F5F578",Kirkkaankeltaiset:"#FFF700",Kullankeltaiset:"#FFD700",Auringonkeltaiset:"#FFE600",Sinapinkeltaiset:"#f5D11D","Syv\xe4nkeltaiset":"#FFEA00",Oljenkeltaiset:"#F5E56E",Okrankeltaiset:"#D18B00",Leinikinkeltaiset:"#FCF10F","Vihre\xe4t":"#008000","Vaaleanvihre\xe4t":"#90EE90","Tummanvihre\xe4t":"#006400","Haaleanvihre\xe4t":"#98FB98","Kirkkaanvihre\xe4t":"#05FF05","Mets\xe4nvihre\xe4t":"#228B22","Ruohonvihre\xe4t":"#7CFC00","Mintunvihre\xe4t":"#CFFFE5","Limenvihre\xe4t":"#32CD32","Syv\xe4nvihre\xe4t":"#053614","Merenvihre\xe4t":"#2E8B57","Oliivinvihre\xe4t":"#6B8E23","Sinivihre\xe4t":"#008080",Ruskeat:"#804201",Vaaleanruskeat:"#C49058",Tummanruskeat:"#4A2804",Haaleanruskeat:"#BA9670",Kullanruskeat:"#A65805",Suklaanruskeat:"#4F291E",Kuparinruskeat:"#B87333",Kastanjanruskeat:"#800000",Pronssinruskeat:"#8C7853","P\xe4hkin\xe4nruskeat":"#82270C",Punaruskeat:"#702A16",Toffeenruskeat:"#F2CB55",Hiekanruskeat:"#524729",Siirapinruskeat:"#472001",Oranssit:"#FFA500",Vaaleanoranssit:"#FFBF00",Tummanoranssit:"#FF7700",Haaleanoranssit:"#FADD73",Kirkkaanoranssit:"#FFC803",Violetit:"#C8A2C8",Vaaleanvioletit:"#FAD9FA",Tummanvioletit:"#AD07AD",Haaleanvioletit:"#F5E9F5",Kirkkaanvioletit:"#FF00FF",Harmaat:"#808080",Vaaleanharmaat:"#D3D3D3",Tummanharmaat:"#6E6D6D",Haaleanharmaat:"#F0F0F0",Kirkkaanharmaat:"#D9D7D7",Hopeanharmaat:"#C0C0C0","Syv\xe4nharmaat":"#363535",Mustat:"#000000",Sysimustat:"#0D0D0D","Y\xf6nmustat":"#1F1D1D",Lakritsinmustat:"#2E2222",Valkoiset:"#FFFFFF",Luonnonvalkoiset:"#F2F2E9",Lumenvalkoiset:"#FFFAFA",Liidunvalkoiset:"#FFFEF9",Kermanvalkoiset:"#FFFFED",Turkoosit:"#40E0D0",Vaaleanturkoosit:"#7FFFD4",Tummanturkoosit:"#00B2B5",Haaleanturkoosit:"#AFEEEE",Kirkkaanturkoosit:"#05F1F5","Syv\xe4nturkoosit":"#00A7D1","Keskiy\xf6nsiniset":"#000D61",Mustikansiniset:"#4B6E9C",Farkunsiniset:"#2A469C",Musteensiniset:"#000F2E",Safiirinsiniset:"#0F52BA",Harmaansiniset:"#465F75",Kissankellonsiniset:"#7767C2",Ruiskukansiniset:"#6495ED",Sinivioletit:"#8A2BE2",Terrakotanpunaiset:"#BA4D36",Punamullanpunaiset:"#801818",Rubiininpunaiset:"#910101",Ruusunpunaiset:"#E04F82",Ketsupinpunaiset:"#D10606",Paloautonpunaiset:"#C91602",Vadelmanpunaiset:"#C40441",Mansikanpunaiset:"#DE0404",Puolukanpunaiset:"#C90028",Verenpunaiset:"#960202",Ferrarinpunaiset:"#F50C0C",Aniliininpunaiset:"#BD0488",Marjapuuronpunaiset:"#E36291",Mesimarjanpunaiset:"#94032E",Chilinpunaiset:"#C20C0C",Laventelinpunaiset:"#FFF0F5",Luumunpunaiset:"#DDA0DD",Karmiininpunaiset:"#DC143C",Korallinpunaiset:"#FF7F50",Tomaatinpunaiset:"#FF6347",Herukanpunaiset:"#D40000",Persikanpunaiset:"#FFDAB9",Oranssinpunaiset:"#FF4500",Greipinoranssit:"#EBD621",Appelsiininoranssit:"#FF6C03",Mandariininoranssit:"#FF5303",Voikukankeltaiset:"#F0E130",Rikinkeltaiset:"#F1DD38",Currynkeltaiset:"#CCA01D",Banaaninkeltaiset:"#FFE135",Rentukankeltaiset:"#FFF200",Sitruunankeltaiset:"#FFF44F",Voinkeltaiset:"#FBFF80","Vehn\xe4nkeltaiset":"#F5DEB3",Ruskeankeltaiset:"#875F00","Vihre\xe4nkeltaiset":"#ADFF2F","Kev\xe4\xe4nvihre\xe4t":"#00FF44","Keltaisenvihre\xe4t":"#9ACD32","Smaragdinvihre\xe4t":"#064F40","Myrkynvihre\xe4t":"#A3B81C","Havunvihre\xe4t":"#1F3D0C","Sammaleenvihre\xe4t":"#474F0D","Armeijanvihre\xe4t":"#2F3616","Harmaanvihre\xe4t":"#575E3A","Omenanvihre\xe4t":"#69CB15","P\xe4\xe4ryn\xe4nvihre\xe4t":"#A0C734","Tillinvihre\xe4t":"#61960C","Apilanvihre\xe4t":"#288521","Kuusenvihre\xe4t":"#325C33","M\xe4nnynvihre\xe4t":"#53782A","Koivunvihre\xe4t":"#659C13","Vedenvihre\xe4t":"#03BB85",Kaakaonruskeat:"#35281E",Seepianruskeat:"#704214",Maitokahvinruskeat:"#C8AD90",Mahonginruskeat:"#420D09",Pahvinruskeat:"#A18550",Kaarnanruskeat:"#1A0F0B","K\xe4vynruskeat":"#573314",Piparkakunruskeat:"#9F5529",Ruosteenruskeat:"#B7410E",Harmaanruskeat:"#756452",Kanelinruskeat:"#7A5000",Hiilenharmaat:"#393D3C",Hiirenharmaat:"#6E6E6E",Elefantinharmaat:"#786C6C",Grafiitinharmaat:"#A2A5AA",Betoninharmaat:"#D2D1CD",Siniharmaat:"#7693A6",Helmenharmaat:"#E3E3E3",Savunharmaat:"#888C8F",Hylkeenharmaat:"#8D9994","Ter\xe4ksenharmaat":"#656566",Armeijanharmaat:"#838385",Lyijynharmaat:"#687378",Myrskynharmaat:"#78787F",Loskanharmaat:"#E3DFDA","J\xe4\xe4nharmaat":"#E0E0DE",Punaharmaat:"#856D6D",Tuhkanharmaat:"#BDBAAA","Vihre\xe4nharmaat":"#788878",Maantienharmaat:"#A1927A",Tinanharmaat:"#7A7A78","J\xe4k\xe4l\xe4nharmaat":"#C4CFC8",Pulunharmaat:"#858585",Pajunkissanharmaat:"#D9D9D9",Ruskeanharmaat:"#554D42",Noenmustat:"#151B21",Korpinmustat:"#141A16",Salmiakinmustat:"#19241D"}),Se=(t(335),e=>{var a=e.nickname,t=e.iconColor,s=e.userId,i=e.currentUserId,l=e.key,o=a[0],c=Object(n.useState)(null),u=Object(j.a)(c,2),m=u[0],d=u[1];return Object(n.useEffect)(()=>{(()=>{var e="".concat('"https://someapi.kohdataan.fi"',"/api/v4/users/").concat(s,"/image?").concat(Date.now());d(e)})()},[s]),i!==s&&r.a.createElement("div",{className:"group-boxes-member",key:l},r.a.createElement("div",{className:"group-boxes-member-icon-wrapper"},r.a.createElement("i",{"aria-hidden":"true",title:o}),r.a.createElement("div",{className:"label chat-message-sender-icon",style:{backgroundColor:t,backgroundImage:"url(".concat(m,")")}}," ")),r.a.createElement("p",{className:"suggestion-box-nickname"},a))});Se.defaultProps={currentUserId:""};var Ce=Object(n.memo)(Se),Ie=Object(n.memo)(e=>{var a=e.channel,t=e.getMembers,s=e.unreadCount,i=e.profiles,o=e.currentUserId,c=e.getPosts,d=e.showTownSquare,p=Object(n.useState)([]),h=Object(j.a)(p,2),v=h[0],k=h[1],f=Object(n.useState)([]),b=Object(j.a)(f,2),E=b[0],y=b[1],g=Object(n.useState)([]),N=Object(j.a)(g,2),O=N[0],x=N[1],w=Object(n.useState)({}),S=Object(j.a)(w,2),C=S[0],I=S[1],T=Object(n.useState)([]),A=Object(j.a)(T,2),_=A[0],P=A[1],K=Object(n.useState)(null),F=Object(j.a)(K,2),U=F[0],D=F[1];return Object(n.useEffect)(()=>{(()=>{if(a&&a.purpose)try{var e=JSON.parse(a.purpose),t=Object.keys(e).sort((a,t)=>e[t]-e[a]);y(t)}catch(n){console.log(n)}})()},[a,y]),Object(n.useEffect)(()=>{(function(){var e=Object(m.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.id){e.next=5;break}return e.next=3,t(a.id);case 3:n=e.sent,k(n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},[a,t]),Object(n.useEffect)(()=>{(()=>{var e=v.map(e=>e.user_id),a=i.filter(a=>-1!==e.indexOf(a.id));P(a)})()},[v,i]),Object(n.useEffect)(()=>{(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.id){e.next=5;break}return e.next=3,c(a.id,0,100);case 3:(t=e.sent).data&&t.data.posts&&I(t.data.posts);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},[a,c]),Object(n.useEffect)(()=>{(function(){var e=Object(m.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s&&s>0&&C&&(a=Object.keys(C).length-s,(t=Object.values(C).sort((e,a)=>e.create_at-a.create_at).slice(a))&&x(t.filter(e=>""===e.type).length));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},[s,C]),Object(n.useEffect)(()=>{v&&D(v.find(e=>e.user_id===o))},[U,o,v]),r.a.createElement(r.a.Fragment,null,"town-square"!==a.name||d?r.a.createElement(l.b,{className:"".concat(O>0?"group-box-unreads":""," group-box"),to:{pathname:"/chat/".concat(a.id),state:{unreadCount:s,currentUser:U}}},r.a.createElement("div",{className:"group-box-content"},r.a.createElement("div",{className:"group-header"},r.a.createElement("div",{className:"group-color-icon",style:{backgroundColor:"town-square"===a.name?"grey":we[a.display_name],border:"".concat(a.display_name.toLowerCase().includes("valkoiset")?"1px solid grey":"none")}}),r.a.createElement("h2",null,"town-square"===a.name?"Kohdataan":a.display_name)),"town-square"!==a.name&&r.a.createElement("div",{className:"group-interests"},r.a.createElement("p",null,"Kiinnostukset: ".concat(E.slice(0,3).join(", ")))),"town-square"!==a.name?r.a.createElement("div",{className:"group-current-members"},r.a.createElement("span",{className:"sr-only"},"J\xe4senet"),_&&_.map(e=>r.a.createElement(Ce,{key:"group-".concat(e.id),nickname:e.nickname,currentUserId:o,userId:e.id}))):r.a.createElement("div",{className:"monitor-group-text"},r.a.createElement("p",null,"T\xe4ss\xe4 ryhm\xe4ss\xe4 voit jutella kaikkien muiden k\xe4ytt\xe4jien kanssa."),r.a.createElement("p",null,"Ryhm\xe4 on auki arkisin klo 9-21."),r.a.createElement("p",null,"Valvojat ovat ryhm\xe4ss\xe4 arkisin klo 9-17."))),1===O&&r.a.createElement("div",{className:"group-unreads-text"},r.a.createElement("span",null,"".concat(O," uusi viesti"))),O>1&&r.a.createElement("div",{className:"group-unreads-text"},r.a.createElement("span",null,"".concat(O," uutta viesti\xe4"))),O<=0&&r.a.createElement("div",{className:"group-unreads-text no-unreads"},r.a.createElement("p",null,"Ei uusia viestej\xe4"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:" group-box-content-inactive"},r.a.createElement("div",{className:"group-header"},r.a.createElement("div",{className:"group-color-icon",style:{backgroundColor:"grey"}}),r.a.createElement("h2",null,"Kohdataan")),r.a.createElement("div",{className:"monitor-group-text"},r.a.createElement("p",null,"T\xe4ss\xe4 ryhm\xe4ss\xe4 voit jutella kaikkien muiden k\xe4ytt\xe4jien kanssa."),r.a.createElement("p",null,"Ryhm\xe4 on auki arkisin klo 9-21."),r.a.createElement("p",null,"Valvojat ovat ryhm\xe4ss\xe4 arkisin klo 9-17.")))))}),Te=t(221),Ae=e=>{var a=e.history,t=e.steps,n=e.updateTutorialWatched,s=e.navigateBack,i={back:s?"Seuraava":"Edellinen",close:"Sulje",last:"/"===a.location.pathname?"Valmis":"Seuraava",next:s?"Edellinen":"Seuraava",skip:"Ohita"};return r.a.createElement(Te.a,{steps:t,callback:e=>{var t=e.action,r=e.lifecycle,i=e.step;s||"next"===t&&"complete"===r&&".nav-bot"===i.target&&a.push("/friends"),"next"===t&&"complete"===r&&".nav-link-Kaverit"===i.target&&a.push("/"),"next"===t&&"complete"===r&&".nav-link-Ryhm\xe4t"===i.target&&n(),"skip"===t&&n()},locale:i,continuous:!0,disableScrolling:!0,styles:s?{buttonNext:{backgroundColor:"transparent",color:"black",fontFamily:"Poppins",fontSize:"16px",borderRadius:"30px",padding:"5px 10px",marginRight:"30px",outline:"none",position:"absolute",left:30,bottom:20},buttonBack:{marginLeft:"auto",fontFamily:"Poppins",fontSize:"16px",borderRadius:"30px",padding:"5px 10px",color:"black",backgroundColor:"#f59023",outline:"none",position:"absolute",right:20,bottom:20},buttonClose:{display:"none"},spotlight:{backgroundColor:"transparent"}}:{buttonNext:{backgroundColor:"#f59023",color:"black",fontFamily:"Poppins",fontSize:"16px",borderRadius:"30px",padding:"5px 10px",marginRight:"30px",position:"absolute",right:20,bottom:20},buttonBack:{marginLeft:"auto",fontFamily:"Poppins",fontSize:"16px",borderRadius:"30px",padding:"5px 10px",color:"black",position:"absolute",left:30,bottom:20},buttonSkip:{marginLeft:"auto",fontFamily:"Poppins",fontSize:"14px",borderRadius:"30px",padding:"5px 10px",color:"black"},buttonClose:{display:"none"},spotlight:{backgroundColor:"transparent"}},disableOverlayClose:!0,disableCloseOnEsc:!0})};Ae.defaultProps={history:null,navigateBack:!1};var _e=Ae,Pe=(t(339),e=>{var a=e.history,t=e.channels,n=e.teams,s=e.getMembers,i=e.profiles,l=e.getUnreadCount,o=e.currentUserId,c=e.tutorialWatched,u=e.updateUser,m=e.getPosts,d=e.showTownSquare,p=[{target:".nav-link-Ryhm\xe4t",content:r.a.createElement("div",null,r.a.createElement("p",{className:"tutorial-step"},"6/6"),r.a.createElement("h1",{className:"tutorial-header"},"Voit jutella ja tutustua uusiin ihmisiin ryhmiss\xe4."," "),r.a.createElement("p",{className:"tutorial-text"},"L\xf6yd\xe4t ryhm\xe4t t\xe4\xe4lt\xe4, kohdasta Ryhm\xe4t."),r.a.createElement(F,{className:"button groups-tutorial-btn",onClick:()=>{a.push("/friends")}},"Edellinen")),disableBeacon:!0}];return r.a.createElement("section",{className:"groups-wrapper"},r.a.createElement("header",{className:"groups-header"},r.a.createElement("h1",null,"Omat ryhm\xe4t")),r.a.createElement("div",{className:"groups-boxes"},Object.values(t).map(e=>r.a.createElement(Ie,{key:e.id,channel:e,getMembers:s,profiles:i,unreadCount:l(e.id),currentUserId:o,teams:n,getPosts:m,showTownSquare:d}))),!c&&r.a.createElement(_e,{steps:p,updateTutorialWatched:()=>u({tutorialWatched:!0}),history:a}))});Pe.defaultProps={profiles:{},history:null};var Ke=Object(n.memo)(Pe),Fe=(t(340),t(224)),Ue=t.n(Fe),De=(t(342),(e,a)=>a&&a[e]&&a[e].roles.includes("system_admin")),Me=(e,a)=>{var t=a.currentTeamId,n=a&&a.membersInTeam&&a.membersInTeam[t]&&a.membersInTeam[t][e];return n&&n.scheme_admin},Le=e=>{var a,t=e.channel,n=e.members,s=e.hidden,i=e.top,l=e.profiles,o=e.teams;return r.a.createElement("div",{className:"group-box group-suggestion-box ".concat(s?"hidden-box":""),"aria-hidden":s,style:{top:"-".concat(i+2,"px ")}},r.a.createElement("div",{className:"group-suggestion-box-content"},r.a.createElement("div",{className:"group-header"},r.a.createElement("div",{className:"group-color-icon",style:{backgroundColor:we[t.display_name],border:"".concat(t.display_name.toLowerCase().includes("valkoiset")?"1px solid grey":"none")}}),r.a.createElement("h2",{className:"channel-suggestion-header"},t.display_name)),r.a.createElement("div",{className:"group-in-common"},t.purpose&&Object.keys(t.purpose).length>0?r.a.createElement("p",{className:"group-in-common-text"},"Kiinnostukset: ".concat((a=t.purpose,Object.keys(a).sort((e,t)=>a[t]-a[e])).slice(0,3).join(", "))):r.a.createElement("div",{className:"suggestion-box-info"},r.a.createElement("p",null,"T\xe4ss\xe4 ryhm\xe4ss\xe4 ei ole viel\xe4 muita j\xe4seni\xe4."),r.a.createElement("p",null,"Liity ryhm\xe4\xe4n ensimm\xe4isen\xe4."))),t&&n&&r.a.createElement("div",{className:"suggestion-members-wrapper"},r.a.createElement("div",{className:"group-current-members"},n&&n.filter(e=>e&&0===e.delete_at&&"deleted"!==e.position&&!De(e.id,l)&&!Me(e.id,o)).map(e=>r.a.createElement(Ce,{key:"suggestion-".concat(e.id),userId:e.id,nickname:e.nickname}))))))};Le.defaultProps={hidden:!1,top:-10};var Re=Object(n.memo)(Le),Ve=(t(343),e=>{var a=e.zeroMargin;return r.a.createElement("div",{className:"loader-container"},r.a.createElement("div",{className:"".concat(a?"no-margin-spinner":"margin-spinner"," spinner")},r.a.createElement("div",{className:"bounce1"}),r.a.createElement("div",{className:"bounce2"}),r.a.createElement("div",{className:"bounce3"})))});Ve.defaultProps={zeroMargin:!1};var He=Ve,Be=Object(n.memo)(e=>{var a=e.channels,t=e.joinedChannels,s=e.profiles,i=e.teams,l=e.handleJoinChannel,o=e.channelMembers,c=e.getChannelInvitations,d=e.resetChannelInvitations,p=Object(n.useState)(a),h=Object(j.a)(p,2),v=h[0],k=h[1],f=Object(n.useState)(!1),b=Object(j.a)(f,2),E=b[0],y=b[1],g=()=>{k(v.slice(0,-1)),1===v.length&&d()},N=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,c();case 3:y(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(()=>{k([...a])},[a]),r.a.createElement("section",{className:"group-suggestions"},r.a.createElement("h1",null,"Uudet ryhm\xe4t"),t&&t.length<6&&v&&v.length>0&&!E?r.a.createElement("div",{className:"group-suggestion-info"},"Kiinnostaako sinua seuraava ryhm\xe4?"):r.a.createElement("div",null,t&&t.length<6?r.a.createElement("div",null,r.a.createElement("p",null,"Sinulle ehdotetaan uusia ryhmi\xe4 p\xe4ivitt\xe4in kiinnostusten mukaan."),r.a.createElement(F,{secondary:!0,className:"get-suggestions-again-button",onClick:N},"N\xe4yt\xe4 uudestaan")):r.a.createElement("p",null,"Olet jo viidess\xe4 ryhm\xe4ss\xe4. Jos haluat liitty\xe4 uuteen ryhm\xe4\xe4n, poistu ensi jostain vanhasta ryhm\xe4st\xe4.")),r.a.createElement("div",{className:"group-suggestion-boxes"},E&&r.a.createElement(He,null),t&&t.length<6&&v&&v.length>0&&!E&&r.a.createElement("div",null,v.map((e,a)=>a===v.length-1?r.a.createElement(Ue.a,{key:e.id,min:80,buttons:({left:a})=>r.a.createElement("div",{className:"suggestion-buttons-wrapper"},r.a.createElement(F,{className:"suggestion-button button-skip",onClick:()=>{a()}},"\xc4l\xe4 liity"),r.a.createElement(F,{onClick:l(e.id),className:"suggestion-button button-join",secondary:!0},"Liity")),onAfterSwipe:g},r.a.createElement(Re,{key:v[a].id,channel:v[a],members:o[v[a].id],profiles:s,teams:i})):r.a.createElement(Re,{hidden:!0,key:e.id,channel:v[a],members:o[v[a].id],teams:i,profiles:s,top:v.length-a})))))}),Je=t(5),qe=e=>function(){var a=Object(m.a)(u.a.mark((function a(t){var n,r,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,J(e);case 3:if(!((n=a.sent)&&n.user&&n.token)){a.next=12;break}return localStorage.setItem("userId",n.user.id),localStorage.setItem("authToken",n.token),r=e.email,s=e.password,a.next=10,t(Object(f.login)(r,s));case 10:a.next=16;break;case 12:return a.next=14,t({type:"KOHDATAAN_USER_LOGIN_FAILURE",payload:""});case 14:return a.next=16,t({type:"KOHDATAAN_USER_LOGIN_FAILURE",payload:n,error:!0});case 16:a.next=23;break;case 18:return a.prev=18,a.t0=a.catch(0),console.error(a.t0),a.next=23,t({type:"KOHDATAAN_USER_LOGIN_FAILURE",payload:a.t0,error:!0});case 23:case"end":return a.stop()}}),a,null,[[0,18]])})));return function(e){return a.apply(this,arguments)}}(),ze=()=>function(){var e=Object(m.a)(u.a.mark((function e(a){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("userId"),n=localStorage.getItem("authToken"),e.prev=2,!n){e.next=9;break}return e.next=6,$(t,n);case 6:return r=e.sent,e.next=9,a({type:"KOHDATAAN_ADD_USER_TO_STATE",user:r});case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("e"),a({type:"KOHDATAAN_GET_USER_FAILURE",payload:e.t0,error:!0});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(a){return e.apply(this,arguments)}}(),Ge=e=>{var a=localStorage.getItem("userId"),t=localStorage.getItem("authToken");return function(){var n=Object(m.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,X(e,a,t);case 3:return n.next=5,r({type:"KOHDATAAN_UPDATE_USER",user:e});case 5:n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0),r({type:"KOHDATAAN_UPDATE_USER_FAILURE",payload:n.t0,error:!0});case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},We=e=>{var a=localStorage.getItem("userId"),t=localStorage.getItem("authToken");return function(){var n=Object(m.a)(u.a.mark((function n(r){var s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Z(e,a,t);case 3:if(!(s=n.sent)||!s.ok){n.next=9;break}return n.next=7,r({type:"UPDATE_USER_PASSWORD"});case 7:n.next=12;break;case 9:if(!s){n.next=12;break}return n.next=12,r({type:"UPDATE_USER_PASSWORD_FAILURE",payload:s.message,error:!0});case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.error(n.t0);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e){return n.apply(this,arguments)}}()},Ye=e=>{var a=localStorage.getItem("userId"),t=localStorage.getItem("authToken");return function(){var n=Object(m.a)(u.a.mark((function n(r){var s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ie(e,a,t);case 3:if(!((s=n.sent)&&s.success&&s.restored)){n.next=7;break}return n.next=7,r({type:"KOHDATAAN_RESTORE_USER"});case 7:n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),console.error(n.t0),r({type:"KOHDATAAN_UPDATE_USER_FAILURE",payload:n.t0,error:!0});case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},Ze=()=>{var e=localStorage.getItem("authToken");return function(){var a=Object(m.a)(u.a.mark((function a(t){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ae(e);case 3:return n=a.sent,a.next=6,t({type:"KOHDATAAN_GET_USER_INTERESTS",userInterests:n.result[0]});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},$e=e=>{var a=localStorage.getItem("userId"),t=localStorage.getItem("authToken");return function(){var n=Object(m.a)(u.a.mark((function n(r){var s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s=Object(Je.a)({userId:a},e),n.next=4,ee(s,t);case 4:return n.next=6,xe(t);case 6:return n.next=8,r(Ze());case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.error(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()};var Qe=t(225),Xe=t(36),ea=t(102),aa=t(156),ta=function(){var e=Object(m.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/interest"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 4:return t=e.sent,e.abrupt("return",B(t));case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),na=()=>{var e=localStorage.getItem("authToken");return function(){var a=Object(m.a)(u.a.mark((function a(t){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ta(e);case 3:return n=a.sent,a.next=6,t({type:"KOHDATAAN_GET_INTERESTS",interests:n});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},ra=()=>function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"KOHDATAAN_START_ROOT_LOADING"});case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),sa=()=>function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"KOHDATAAN_ROOT_LOADING_READY"});case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ia=()=>function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe.Client4.setUrl("".concat('"https://someapi.kohdataan.fi"'));case 2:return e.next=4,a(Object(Qe.init)("web","".concat("wss://someapi.kohdataan.fi")));case 4:return e.next=6,a(Object(aa.setServerVersion)("5.20.1"));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),la=()=>function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("authToken")){e.next=8;break}return e.next=4,a(ze());case 4:return e.next=6,a(Ze());case 6:return e.next=8,a(Object(f.loadMe)());case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),oa=()=>function(){var e=Object(m.a)(u.a.mark((function e(a,t){var n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t().entities.teams.teams,r=Object.keys(n)[0],s=Object.values(n)[0],!r||!s){e.next=8;break}return e.next=6,a(Object(ea.selectTeam)(s));case 6:return e.next=8,a(Object(ea.getTeamMembers)(r));case 8:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),ca=()=>function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(ra());case 2:return e.next=4,a(ia());case 4:return e.next=6,a(na());case 6:return e.next=8,a(la());case 8:return e.next=10,a(oa());case 10:return e.next=12,a(sa());case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ua=()=>function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"KOHDATAAN_START_INVITATION_FETCHING"});case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ma=()=>function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"KOHDATAAN_INVITATION_FETCHING_READY"});case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),da=e=>function(){var a=Object(m.a)(u.a.mark((function a(t){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ge(localStorage.getItem("authToken"),e);case 3:return n=a.sent,a.next=6,t({type:"KOHDATAAN_GET_CHANNEL_INVITATION_MEMBERS",members:n.userDetails,channelId:e});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}(),pa=()=>function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(Ge({channelInvitationsAt:Date.now()}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ha=()=>{var e=localStorage.getItem("authToken");return function(){var a=Object(m.a)(u.a.mark((function a(t){var n,r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,je(e);case 3:return n=a.sent,t({type:"KOHDATAAN_GET_CHANNEL_INVITATIONS",channelInvitations:n}),r=[],n&&n.found&&n.found.forEach(e=>{r.push(t(da(e.id)))}),a.next=9,Promise.all(r);case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),console.error(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},va=()=>function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"KOHDATAAN_RESET_CHANNEL_INVITATIONS"});case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ka=()=>function(){var e=Object(m.a)(u.a.mark((function e(a,t){var n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t(),r=n.user,s=r&&r.channelInvitationsAt,!(ye()().diff(s,"hours")>=24)&&s){e.next=9;break}return e.next=7,a(ha());case 7:return e.next=9,a(pa());case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a,t){return e.apply(this,arguments)}}(),fa=()=>function(){var e=Object(m.a)(u.a.mark((function e(a,t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(ua());case 2:return e.next=4,a(la());case 4:return e.next=6,a(oa());case 6:return n=t().entities.teams.teams,r=Object.keys(n)[0],e.next=10,a(Object(fe.fetchMyChannelsAndMembers)(r));case 10:return e.next=12,a(ka());case 12:return e.next=14,a(Object(f.getProfiles)());case 14:return e.next=16,a(ma());case 16:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),ba=e=>{var a=e.history,t=e.channels,s=e.teams,i=e.channelSuggestionMembers,l=e.currentUserId,o=e.myChannels,c=e.joinChannel,d=e.channelSuggestions,p=e.getChannelMembers,h=e.fetchChannelsAndInvitations,v=e.getInvitationsAgain,k=e.resetChannelInvitations,f=e.profiles,b=e.user,E=e.updateUser,y=e.getPosts,g=e.posts;b.profileReady||a.push("/registration/info");var N=Object(n.useState)(!1),O=Object(j.a)(N,2),x=O[0],w=O[1],S=Object(n.useState)([]),C=Object(j.a)(S,2),I=C[0],T=C[1],A=Object(n.useState)(!1),_=Object(j.a)(A,2),P=_[0],K=_[1],F=Object(n.useState)([]),U=Object(j.a)(F,2),D=U[0],M=U[1];Object(n.useEffect)(()=>{(function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:w(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},[h]),Object(n.useEffect)(()=>{var e=ye()(),a=e.isoWeekday(),t=ye()("09:00:00","hh:mm:ss"),n=ye()("21:00:00","hh:mm:ss");e.isBetween(t,n)&&K(!0),6!==a&&7!==a||K(!1)},[]),Object(n.useEffect)(()=>{o&&T([...d.filter(e=>e&&e.id&&!Object.keys(o).includes(e.id))])},[o,d]);var L=e=>Object.values(e).filter(e=>"D"!==e.type&&"off-topic"!==e.name),R=()=>Object.values(t).filter(e=>Object.keys(o).includes(e.id));return Object(n.useEffect)(()=>{(()=>{var e=f&&Object.values(f).map(e=>f[e.id]).filter(e=>e&&0===e.delete_at).filter(e=>"deleted"!==e.position).filter(e=>"surveybot"!==e.username).filter(e=>!De(e.id,f)&&!Me(e.id,s));M(e)})()},[f,M,s]),x?r.a.createElement("main",null,r.a.createElement(Be,{channels:I,joinedChannels:L(R()),handleJoinChannel:e=>Object(m.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ne(localStorage.getItem("authToken"),e);case 3:return n=Object.keys(s)[0],t.next=6,c(l,n,e);case 6:a.push("/chat/".concat(e)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),channelMembers:i,getChannelInvitations:v,resetChannelInvitations:k,profiles:D,teams:s}),r.a.createElement(Ke,{history:a,channels:L(R()),getMembers:p,profiles:D,getUnreadCount:e=>{if(t){var a=Object.values(t).find(a=>a.id===e);if(a)return a.total_msg_count-o[a.id].msg_count}return 0},currentUserId:l,updateUser:E,tutorialWatched:b.tutorialWatched,teams:s,getPosts:y,posts:g,showTownSquare:P})):r.a.createElement(He,null)};ba.defaultProps={channelSuggestions:[],channelSuggestionMembers:{}};var Ea=Object(o.b)(e=>{var a=e.entities.users.currentUserId,t=e.entities.teams,n=e.entities.channels.channels,r=e.entities.users.profiles[a],s=e.entities.users.profiles,i=e.entities.posts.posts,l=e.entities.channels.membersInChannel,o=e.entities.channels.myMembers,c=e.user;return{currentUserId:a,channelSuggestions:e.channels.found,channelSuggestionMembers:e.channels.members,user:c,mmUser:r,profiles:s,teams:t,posts:i,channels:n,members:l,myChannels:o}},e=>Object(p.bindActionCreators)({joinChannel:fe.joinChannel,getChannelMembers:fe.getChannelMembers,fetchChannelsAndInvitations:fa,getInvitationsAgain:ha,resetChannelInvitations:va,updateUser:Ge,getPosts:be.getPosts},e))(Object(n.memo)(ba,(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)})),ya=e=>{var a=e.component,t=e.location,n=Object(k.a)(e,["component","location"]);return r.a.createElement(d.b,Object.assign({},n,{render:e=>localStorage.getItem("authToken")?r.a.createElement(a,e):r.a.createElement(d.a,{to:{pathname:"/login",state:{from:t}}})}))};ya.defaultProps={location:""};var ja=Object(n.memo)(ya),ga=t(166),Na=(t(345),t(119)),Oa=t.n(Na),xa=t(226),wa=t.n(xa),Sa=(t(352),t(123)),Ca=t.n(Sa),Ia=e=>{var a=e.id,t=e.sender,s=e.text,i=e.isUserLeavingOrJoiningChannel,o=e.currentUserId,c=e.senderId,u=e.type,m=e.timeSent,d=e.dateSent,p=e.showDate,h=e.directChannel,v=e.files,k=e.channelId,f=e.senderMmUsername,b=e.iconMemberStatus,E=e.isAdmin,y=e.pinPost,g=e.filesData,N=e.lastPost,O=e.dividerId,x=Object(n.useState)(s),w=Object(j.a)(x,2),S=w[0],C=w[1],I=Object(n.useState)(null),T=Object(j.a)(I,2),A=T[0],_=T[1],P=Object(n.useState)(!1),K=Object(j.a)(P,2),U=K[0],D=K[1];S.includes("P01st4")&&(C("Viesti poistettu."),D(!0));var M=d===(new Date).toLocaleDateString()?"T\xe4n\xe4\xe4n":d,L=["chat-message-wrapper",o===c?"wrapper-sent":"wrapper-received",i&&E?"content-system-message-admin":""],R=["chat-message-content",o===c?"content-sent":"content-received",i&&!E?"content-system-message":"",E?"content-received-admin":""];Object(n.useEffect)(()=>{"system_join_channel"===u||"system_join_team"===u?C(c===o?"Sin\xe4 liityit kanavalle.":"K\xe4ytt\xe4j\xe4 liittyi kanavalle."):"system_leave_channel"!==u&&"system_leave_team"!==u||C(c===o?"Sin\xe4 poistuit kanavalta.":"K\xe4ytt\xe4j\xe4 poistui kanavalta.")},[o,c,u]),Object(n.useEffect)(()=>{(()=>{var e="".concat('"https://someapi.kohdataan.fi"',"/api/v4/users/").concat(c,"/image?").concat(Date.now());_(e)})()},[c]);var V=(e,a,t)=>r.a.createElement("a",{href:e,key:t,className:"message-content-link"},a);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{"aria-haspopup":"false",role:"article","data-focusable":"true",tabIndex:0,"aria-live":N?"polite":"off",className:"message-container"},N?r.a.createElement("span",{className:"sr-only"},"Viimeisin viesti."):"",p&&r.a.createElement("div",{className:"show-date-content"},r.a.createElement("div",{className:"date-divider"}),r.a.createElement("span",{className:"date-divider-text"},M),r.a.createElement("div",{className:"date-divider"})),O===a&&r.a.createElement("div",{className:"show-date-content"},r.a.createElement("div",{className:"new-message-divider"}),r.a.createElement("h2",{className:"new-message-divider-text",id:"newMessages"},"Uudet tapahtumat"),r.a.createElement("div",{className:"new-message-divider"})),r.a.createElement("div",{className:L.join(" ")},r.a.createElement("div",{className:"message-outer"},r.a.createElement("span",{className:"sr-only"},"Viesti l\xe4hett\xe4j\xe4lt\xe4",E?"Valvoja":t),""!==m?r.a.createElement("header",{className:"chat-message-header-content ".concat(c===o?"own-chat-message-header":"other-user-message-header")},o!==c&&!h&&r.a.createElement("p",{"aria-hidden":!0,className:"chat-message-sender ".concat("Poistunut k\xe4ytt\xe4j\xe4"===t?"chat-message-sender-unknown":"")},E?"Valvoja":t),r.a.createElement("span",{className:"chat-message-timestamp"},m)):r.a.createElement("div",{className:"message-without-header-content"}),r.a.createElement("div",{className:"".concat(o===c?"message-icon-and-content-sent":"message-icon-and-content")},o!==c&&"Poistunut k\xe4ytt\xe4j\xe4"!==t&&r.a.createElement("header",null,E?r.a.createElement("div",{className:"label chat-message-sender-icon",style:{backgroundColor:"black",color:"white"}},r.a.createElement("span",null,"K"),r.a.createElement("span",{className:"sr-only"},"Valvoja")):r.a.createElement(l.b,{to:"/profile/".concat(f),className:"channel-name-link","aria-label":"Linkki profiiliin"},r.a.createElement("i",{"aria-hidden":"true",title:t[0]}),r.a.createElement("div",{className:"label chat-message-sender-icon",style:{backgroundImage:"url(".concat(A,")")}})),r.a.createElement("div",{className:b,"aria-hidden":!0}),r.a.createElement("span",{className:"sr-only"},(()=>{var e="";return b.includes("online")?e="K\xe4ytt\xe4j\xe4 paikalla":b.includes("offline")?e="K\xe4ytt\xe4j\xe4 offline":b.includes("away")&&(e="K\xe4ytt\xe4j\xe4 poissa"),e})())),o!==c&&"Poistunut k\xe4ytt\xe4j\xe4"===t&&r.a.createElement("div",{className:"deleted-user-icon-container"},r.a.createElement("div",{className:"chat-message-sender-icon"},r.a.createElement("i",{className:"fas fa-circle deleted-user-chat-icon"}))),r.a.createElement("div",{className:"chat-message-content-field"},r.a.createElement("div",{className:R.join(" ")},v&&!U&&v[0]&&g[v[0]].mime_type.includes("image")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(l.b,{to:"".concat(k,"/").concat(v[0])},r.a.createElement("img",{className:"message-image",src:"".concat('"https://someapi.kohdataan.fi"',"/api/v4/files/").concat(v[0],"/thumbnail"),alt:"liite"}),r.a.createElement("span",{className:"sr-only"},"Linkki kuvaan")),r.a.createElement("span",{className:"sr-only"},"Kuvateksti"),E?r.a.createElement(Ca.a,{className:"image-message-content-text chat-message-content-text",componentDecorator:V},S):r.a.createElement("p",{className:"image-message-content-text chat-message-content-text"},S)),v&&!U&&v[0]&&g[v[0]].mime_type.includes("video")&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"player-wrapper","aria-label":"Videoviesti"},r.a.createElement(Oa.a,{className:"react-player",url:"".concat('"https://someapi.kohdataan.fi"',"/api/v4/files/").concat(v[0]),controls:!0,config:{file:{attributes:{controlsList:"nodownload noremoteplayback",disablePictureInPicture:!0}}},width:"100%",height:"200px",style:{outline:"none"}})),r.a.createElement("span",{className:"sr-only"},"Viesti"),E?r.a.createElement(Ca.a,{className:"image-message-content-text chat-message-content-text",componentDecorator:V},S):r.a.createElement("p",{className:"image-message-content-text chat-message-content-text"},S)),v&&!U&&v[0]&&g[v[0]].mime_type.includes("audio")&&r.a.createElement("div",{className:"player-wrapper","aria-label":"\xe4\xe4niviesti"},r.a.createElement(wa.a,{src:"".concat('"https://someapi.kohdataan.fi"',"/api/v4/files/").concat(v[0]),controls:!0,preload:"metadata",controlsList:"nodownload",style:{maxWidth:"53vw",outline:"none"}})),v&&U&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"sr-only"},"Viesti"),r.a.createElement("p",{className:"chat-message-content-text"},S)),!v&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"sr-only"},"Viesti"),E?r.a.createElement(Ca.a,{className:"chat-message-content-text",componentDecorator:V},S):r.a.createElement("p",{className:"chat-message-content-text"},S))),o!==c&&!h&&!E&&!i&&r.a.createElement(F,{className:"chat-report-message-icon",onClick:()=>y(a,c,s),label:"Ilmoita asiattomasta viestist\xe4"},r.a.createElement("i",{className:"fas fa-ellipsis-v","aria-hidden":"true"}))))))))};Ia.defaultProps={type:"",senderId:"",files:null,senderMmUsername:"",iconMemberStatus:"",isAdmin:!1},Ia.defaultProps={dividerId:null};var Ta=Object(n.memo)(Ia),Aa=(e,a)=>{var t=Object.values(a).find(a=>a.id===e);return t?t.username:""},_a=e=>"system_join_channel"===e.type||"system_leave_channel"===e.type||"system_join_team"===e.type||"system_leave_team"===e.type,Pa=e=>{var a=e.posts,t=e.teams,s=e.currentUserId,i=e.getNickNamebyId,l=e.directChannel,o=e.channelId,c=e.profiles,u=e.getStatusById,m=e.pinPost,d=e.filesData,p=e.dividerId,h=e.lastViewedAt,v=Object(n.useState)([]),k=Object(j.a)(v,2),f=k[0],b=k[1],E=Object(n.useRef)(),y=null,g=null,N=null,O=e=>De(e,c)||Me(e,t);Object(n.useEffect)(()=>{E.current.scrollTop=E.current.scrollHeight}),Object(n.useEffect)(()=>{var e=a.filter(e=>"system_purpose_change"!==e.type&&(""===e.type||_a(e)&&!O(e.user_id)));b(e)},[a]);var x=e=>e.create_at===h;return r.a.createElement("div",{className:"chat-message-list-container chat--message-list",ref:E},r.a.createElement("div",{className:"chat--message-list--container"},a.length>0&&f.map(e=>{var a,t=(e=>{var a=!1,t=!0,n=i(e.user_id),r=new Date(e.create_at).toLocaleDateString("fi-FI",{year:"numeric",month:"numeric",day:"numeric"}),s=new Date(e.create_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return null===y&&""!==y&&(y=s,N=n),r===g&&y===s&&(t=!1),N!==n&&(t=!0,N=n),y=s,r!==g&&(g=r,a=!0),{sendTime:t?s:"",sendDate:r,show:a}})(e),n=_a(e);return e&&e.user_id&&r.a.createElement(Ta,{key:e.id,id:e.id,files:e.file_ids,type:e.type,url:e.url,sender:i(e.user_id),text:n?"":e.message,isUserLeavingOrJoiningChannel:n,senderId:e.user_id,currentUserId:s,directChannel:l,timeSent:t.sendTime,dateSent:t.sendDate,showDate:t.show,channelId:o,senderMmUsername:Aa(e.user_id,c),iconMemberStatus:(a=e.user_id,"chat-".concat(u(a),"-status-icon")),isAdmin:O(e.user_id),pinPost:m,filesData:d,lastPost:x(e),dividerId:p})})))};Pa.defaultProps={dividerId:null};var Ka=Object(n.memo)(Pa),Fa=(t(365),e=>{var a=e.channel,t=e.toggleSider,n=e.otherUser,s=e.direct,i=e.handleLogout,o=e.otherUserName,c=e.location,u=e.deleted,m=e.mmUser,d=n||a.display_name;return r.a.createElement("header",{className:"chat-header"},r.a.createElement(l.b,{className:"chat-header-item chat-header-nav-back-button",to:s?"/friends":"/"},s?"< Kaverit":"< Ryhm\xe4t"),!s&&r.a.createElement(F,{onClick:t,className:"channel-name-button"},r.a.createElement("h1",{className:"chat-header-item chat-header-channel-name"},n||("town-square"===a.name?"Kohdataan":a.display_name))),s&&!u&&r.a.createElement(l.b,{to:"/profile/".concat(o),className:"channel-name-link"}," ",r.a.createElement("h1",{className:"chat-header-item chat-header-channel-name"},d)),s&&u&&r.a.createElement("div",{className:"channel-header-deleted"}," ",r.a.createElement("h1",{className:"chat-header-item chat-header-channel-name"},"Poistunut k\xe4ytt\xe4j\xe4")),r.a.createElement("div",{className:"chat-header-item"},r.a.createElement(he,{handleLogout:i,inChat:!0,direct:s,path:c.pathname,user:m})))});Fa.defaultProps={channel:{}},Fa.defaultProps={otherUser:null,otherUserName:null,deleted:!1};var Ua=Object(n.memo)(Fa),Da=t(120),Ma=t.n(Da),La=t(124),Ra=t.n(La),Va=(t(370),e=>{var a=e.handleSubmit,t=e.message,s=e.handleChange,i=e.fileId,l=e.closeModal,o=e.filesData,c=e.orientation;Object(n.useEffect)(()=>{s("")},[s]);var d=Object(n.useState)(t),p=Object(j.a)(d,2),h=p[0],v=p[1],k=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(t,h);case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),f=["preview-image",(()=>{var e;switch(c){case 2:e="flip";break;case 3:e="rotate-180";break;case 4:e="flip-and-rotate-180";break;case 5:e="flip-and-rotate-270";break;case 6:e="rotate-90";break;case 7:e="flip-and-rotate-90";break;case 8:e="rotate-270";break;default:e=""}return e})()];return r.a.createElement("main",{className:"image-preview-content"},r.a.createElement("div",{className:"image"},r.a.createElement(F,{className:"image-preview-close-modal-button go-back-button",onClick:l,label:"Sulje"}," "),i&&o[i].mime_type.includes("image")&&r.a.createElement("img",{className:f.join(" "),src:"".concat('"https://someapi.kohdataan.fi"',"/api/v4/files/").concat(i),alt:"attachment",width:"100%",height:"100%"}),i&&o[i].mime_type.includes("video")&&r.a.createElement("div",{className:"player-wrapper"},r.a.createElement(Oa.a,{className:"react-player",url:"".concat('"https://someapi.kohdataan.fi"',"/api/v4/files/").concat(i),controls:!0,width:"100%",height:"100%"}))),r.a.createElement("div",{className:"image-preview-form"},r.a.createElement("div",{className:"image-preview-user-input-wrapper"},r.a.createElement("form",{onSubmit:e=>k(e),className:"image-preview-user-input-content"},r.a.createElement(Ma.a,{className:"image-preview-user-input-text-field",id:"image-message",type:"text",value:h,onChange:e=>v(e.target.value),placeholder:"Kirjoita viesti",maxRows:3,rows:1,"aria-label":"Lis\xe4\xe4 kuvateksti"}),r.a.createElement("button",{type:"submit",className:"send-message-button",tabIndex:"0","aria-label":"L\xe4het\xe4"})))))});Va.defaultProps={message:"",orientation:0};var Ha=Object(n.memo)(Va),Ba=t(167),Ja=t.n(Ba),qa=t(168),za=t.n(qa),Ga=(t(375),Object(n.memo)(e=>{var a=e.handleSubmit,t=e.closeModal,s=e.isRecording,i=Object(n.useState)(null),l=Object(j.a)(i,2),o=l[0],c=l[1],d=Object(n.useState)(null),p=Object(j.a)(d,2),v=p[0],k=p[1],f=Object(n.useState)(!1),b=Object(j.a)(f,2),E=b[0],y=b[1],g=r.a.createRef();Object(n.useEffect)(()=>{E?(g.current.stop(),v.stopRecording(),o.stop()):v&&v.startRecording()},[E,v,o,g]),Object(n.useEffect)(()=>{s&&!h.isIE&&(o||function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,navigator.mediaDevices.getUserMedia({audio:!0});case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()());return()=>{o&&o.stop()}},[s,o]),Object(n.useEffect)(()=>{o&&k(new Ja.a(o,{type:"audio",mimeType:"audio/wav",recorderType:Ba.StereoAudioRecorder}))},[o]);return r.a.createElement("main",{className:"audio-recording-content"},h.isIE&&r.a.createElement("div",{className:"IE-info-container"},r.a.createElement("p",{className:"IE-info-text"},"Interner Explorer -selaimella ei valitettavasti voi l\xe4hett\xe4\xe4 \xe4\xe4niviestej\xe4."),r.a.createElement(F,{onClick:t,className:"button IE-close-button"},"Sulje")),!v&&!h.isIE&&r.a.createElement("div",{className:"audio-description-text"},r.a.createElement("p",null,"Odottaa mikrofonia...")),v&&r.a.createElement("div",null,r.a.createElement("div",{className:"audio-recording-info"},r.a.createElement(za.a,{ref:g,lastUnit:"s",checkpoints:[{time:6e4,callback:()=>y(!0)}]},r.a.createElement("div",{className:"audio-timer"},r.a.createElement(za.a.Seconds,null))),r.a.createElement("span",{className:E?"pulse-done":"pulse-recording"})),r.a.createElement("p",{className:"audio-description-text"},E?"\xc4\xe4nitys valmis":"\xc4\xe4nitys k\xe4ynniss\xe4..."),r.a.createElement("div",{className:"audio-control-buttons"},r.a.createElement(F,{className:"button cancel-button",onClick:()=>{E?t():v?v.stopRecording(()=>{t()}):t()}},"peruuta"),r.a.createElement(F,{className:"button save-button",onClick:()=>{if(E){var e=v.getBlob(),n=new File([e],"audio.wav");a(n),t()}else v?v.stopRecording(()=>{var e=v.getBlob(),n=new File([e],"audio.wav");a(n),t()}):t()}},"l\xe4het\xe4"))))})),Wa=(t(376),Object(n.memo)(e=>{var a=e.createPost,t=e.channel,s=e.uploadFile,i=e.filesData,l=Object(n.useState)(""),o=Object(j.a)(l,2),c=o[0],d=o[1],p=Object(n.useState)(""),v=Object(j.a)(p,2),k=v[0],f=v[1],b=Object(n.useState)(!1),E=Object(j.a)(b,2),y=E[0],g=E[1],N=Object(n.useState)(!1),O=Object(j.a)(N,2),x=O[0],w=O[1],S=Object(n.useState)(0),C=Object(j.a)(S,2),I=C[0],T=C[1],_=e=>{e&&h.isBrowser&&Ra.a.getData(e,()=>{if(Ra.a.pretty(e)){var a=Ra.a.getTag(e,"Orientation");T(a)}})},P=Object(n.useState)(!1),K=Object(j.a)(P,2),U=K[0],D=K[1],M=Object(n.useState)(!1),L=Object(j.a)(M,2),R=L[0],V=L[1],H=()=>{g(!1),w(!1),f(""),T(0),d(""),D(!1)},B=r.a.createRef(),J=function(){var e=Object(m.a)(u.a.mark((function e(n,r){var s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),s=r,""!==r&&void 0!==r||(s=c),i={channel_id:t.id,message:s,file_ids:""!==k?[k]:null},!(c&&(l=c,0!==l.replace(/^\s+|\s+$/g,"").length)||""!==k)){e.next=8;break}return e.next=7,a(i);case 7:f("");case 8:d(""),g(!1);case 10:case"end":return e.stop()}var l}),e)})));return function(a,t){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(u.a.mark((function e(a){var n,r,i,l,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V(!0),n=t.id,r=new FormData,_(a.target.files[0]),i=a.target.files[0],a.target.value="",r.append("files",i),r.append("channel_id",n),!(i.size>5e7)){e.next=12;break}w(!0),e.next=19;break;case 12:return g(!0),e.next=15,s(n,null,null,r);case 15:l=e.sent,o=l&&l.data&&l.data.file_infos&&l.data.file_infos[0].id,f(o),V(!1);case 19:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),z=function(){var e=Object(m.a)(u.a.mark((function e(n){var r,i,l,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!1),(r=new FormData).append("files",n),r.append("channel_id",t.id),e.next=6,s(t.id,null,null,r);case 6:return i=e.sent,l=i&&i.data.file_infos[0].id,o={channel_id:t.id,message:"",file_ids:[l]},e.next=11,a(o);case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"chat-user-input-wrapper"},r.a.createElement("form",{onSubmit:J,className:"chat-user-input-content"},r.a.createElement(Ma.a,{className:"chat-user-input-text-field",id:"message",type:"text",value:c,onChange:e=>{d(e.target.value)},placeholder:"Kirjoita viesti",maxRows:3,rows:1,"aria-label":"Kirjoita viesti"}),r.a.createElement("input",{style:{display:"none"},type:"file",accept:"image/*,video/*,video/mp4",onChange:q,ref:B,"aria-label":"Liit\xe4 tiedosto"}),r.a.createElement("div",{className:"userinput-buttons"},r.a.createElement(F,{className:"icon-btn",onClick:()=>{B.current.click()},label:"L\xe4het\xe4 kuva tai video"},r.a.createElement("div",{className:"send-image-attachment-button"})),r.a.createElement(F,{className:"icon-btn",onClick:()=>{D(!0),g(!0)},label:"L\xe4het\xe4 \xe4\xe4niviesti"},r.a.createElement("div",{className:"send-voice-attachment-button"})),r.a.createElement("button",{type:"submit",className:"send-message-button",tabIndex:"0","aria-label":"L\xe4het\xe4 viesti"}))),r.a.createElement(A,{modalIsOpen:y,closeModal:H,label:U?"\xc4\xe4niviestin l\xe4hetys":"Esikatselu",isLong:!0,className:"image-preview-modal",overlayClassName:"image-preview-modal-overlay"},!U&&R&&!x&&r.a.createElement("div",null,r.a.createElement(F,{className:"icon-btn go-back-button image-max-size-exceeded",onClick:H,label:"Sulje"}," "),r.a.createElement(He,null),r.a.createElement("p",{className:"uploading-text"},"Ladataan...")),!U&&!R&&r.a.createElement(Ha,{handleSubmit:J,message:c,handleChange:d,fileId:k,closeModal:H,filesData:i,orientation:I,isUploading:R}),U&&r.a.createElement(Ga,{handleSubmit:z,closeModal:H,isRecording:U})),r.a.createElement(A,{modalIsOpen:x,label:"Tiedosto on liian suuri",closeModal:H},r.a.createElement("div",null,r.a.createElement("p",{className:"image-max-size-exceeded-text"},"Tiedosto on liian suuri!"),r.a.createElement(F,{className:"icon-btn go-back-button image-max-size-exceeded",onClick:H,label:"Sulje"}))))})),Ya=(t(377),t(378),Object(n.memo)(e=>{var a=e.userId,t=e.nickName,n=e.currentUserId,s=e.profiles,i=e.teams,o=e.iconMemberStatus,c=t[0],u=()=>s&&s[a]&&s[a].username;return De(a,s)||Me(a,i)?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:"chat-header-members-sider-member"},n!==a&&r.a.createElement(l.b,{to:"/profile/".concat(u()),className:"channel-name-link"},r.a.createElement("i",{"aria-hidden":"true",title:c}),r.a.createElement("div",{className:"label chat-message-sender-icon",style:{backgroundImage:"url(\n                  ".concat('"https://someapi.kohdataan.fi"',"/api/v4/users/").concat(a,"/image?").concat(Date.now(),"\n                )")}})),n===a&&r.a.createElement("div",null,r.a.createElement("i",{"aria-hidden":"true",title:c}),r.a.createElement("div",{className:"label chat-message-sender-icon",style:{backgroundImage:"url(\n                  ".concat('"https://someapi.kohdataan.fi"',"/api/v4/users/").concat(a,"/image?").concat(Date.now(),"\n                )")}})),r.a.createElement("span",{className:o}),n!==a&&r.a.createElement(l.b,{className:"members-sider-profile-link chat-member-nickname",to:"/profile/".concat(u())},t),n===a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"chat-member-nickname"},t),r.a.createElement("span",{className:"chat-header-current-user-label"},"(sin\xe4)")))})),Za=(t(379),Object(n.memo)(e=>{var a=e.showConfirmation,t=e.closeModal,n=e.handleLeaveChannel;return r.a.createElement("div",{className:"leave-channel-modal-wrapper"},r.a.createElement(A,{modalIsOpen:a,closeModal:t,label:"leaveChannelModal"},r.a.createElement("h2",null,"Haluatko varmasti poistua ryhm\xe4st\xe4?"),r.a.createElement(F,{onClick:t,className:"cancel-leave-channel-button"},"En"),r.a.createElement(l.b,{className:"leave-channel-link",to:"/"},r.a.createElement(F,{onClick:n,className:"confirm-leave-channel-button"},"Kyll\xe4"))))})),$a=(e,a)=>{var t=t=>{e.current&&!e.current.contains(t.target)&&a()};Object(n.useEffect)(()=>(document.addEventListener("click",t),()=>{document.removeEventListener("click",t)}))},Qa=Object(n.memo)(e=>{var a=e.members,t=e.profiles,s=e.channel,i=e.teams,l=e.getNickNamebyId,o=e.getStatusById,c=e.currentUserId,u=e.handleLeaveChannel,m=e.toggleSiderClosedIfOpen,d=Object(n.useState)(!1),p=Object(j.a)(d,2),h=p[0],v=p[1],k=Object(n.useRef)();return $a(k,()=>{m()}),"town-square"===s.name?r.a.createElement("div",{className:"chat-header-members-sider",id:"members-sider",ref:k},r.a.createElement("div",{className:"chat-header-members-sider-content"},r.a.createElement("p",null,"T\xe4ss\xe4 ryhm\xe4ss\xe4 voit jutella kaikkien muiden k\xe4ytt\xe4jien kanssa."),r.a.createElement("p",null,"Ryhm\xe4 on auki arkisin klo 9-21."),r.a.createElement("p",null,"Valvojat ovat ryhm\xe4ss\xe4 arkisin klo 9-17."),r.a.createElement("p",null,"Kaikki k\xe4ytt\xe4j\xe4t kuuluvat t\xe4h\xe4n ryhm\xe4\xe4n, joten ryhm\xe4\xe4n l\xe4hetetyt viestit n\xe4kyv\xe4t kaikille."),r.a.createElement("p",null,"Jos haluat l\xe4hett\xe4\xe4 valvojalle viestin, jota muut eiv\xe4t n\xe4e, voit tehd\xe4 sen botin kautta."))):r.a.createElement("div",{className:"chat-header-members-sider",id:"members-sider",ref:k},r.a.createElement("div",{className:"chat-header-members-sider-content"},r.a.createElement("h4",{className:"chat-header-members-sider-title "},"J\xe4senet"),a.map(e=>{return r.a.createElement(Ya,{key:e.user_id,userId:e.user_id,profiles:t,teams:i,nickName:l(e.user_id),currentUserId:c,iconMemberStatus:(a=e.user_id,"chat-header-".concat(o(a),"-status-icon"))});var a}),r.a.createElement(F,{onClick:()=>v(!0),className:"members-sider-leave-group-button"},"Poistu ryhm\xe4st\xe4"),r.a.createElement(Za,{handleLeaveChannel:u,closeModal:()=>v(!1),showConfirmation:h})))}),Xa=(t(380),e=>{var a=e.channel,t=e.teams,s=e.posts,i=e.profiles,l=e.createPost,o=e.uploadFile,c=e.getFilesForPost,u=e.currentUserId,m=e.profilesInChannel,d=e.membersInChannel,p=e.handleLeaveChannel,h=e.statuses,v=e.handleLogout,k=e.sendEmail,f=e.location,b=e.pinPost,E=e.filesData,y=e.mmUser,g=e.dividerId,N=e.lastViewedAt,O=Object(n.useState)(null),x=Object(j.a)(O,2),w=x[0],S=x[1];Object(n.useEffect)(()=>{S(d.find(e=>e.user_id===u))},[w,u,d]);var C=Object(n.useState)(!1),I=Object(j.a)(C,2),T=I[0],_=I[1],P=Object(n.useState)(!1),K=Object(j.a)(P,2),U=K[0],D=K[1],M=Object(n.useState)(!1),L=Object(j.a)(M,2),R=L[0],V=L[1],H=Object(n.useState)(null),B=Object(j.a)(H,2),J=B[0],q=B[1],z=Object(n.useState)(null),G=Object(j.a)(z,2),W=G[0],Y=G[1],Z=Object(n.useState)(null),$=Object(j.a)(Z,2),Q=$[0],X=$[1],ee="D"===a.type,ae=Object(n.useState)([]),te=Object(j.a)(ae,2),ne=te[0],re=te[1];Object(n.useEffect)(()=>{(()=>{if(ee)re(d);else{var e=m.map(e=>e.id),a=Object.values(d).filter(a=>e.includes(a.user_id));re(a)}})()},[d,m,ee]);var se=e=>{var a=Object.values(i).find(a=>a.id===e),t="K\xe4ytt\xe4j\xe4";return a&&0===a.delete_at&&"deleted"!==a.position?(a&&a.nickname&&(t=a.nickname),t):"Poistunut k\xe4ytt\xe4j\xe4"},ie=e=>Object.values(i).find(a=>a.id===e),le=e=>e?h[e]:"",oe=()=>{if(ee){var e=ne.find(e=>e.user_id!==u),a=e&&e.user_id,t=Object.values(i).find(e=>e.id===a);if(t&&(0!==t.delete_at||"deleted"===t.position))return!0}return!1},ce=()=>{Y(ie(null)),X(null),D(!1),q(null)},ue=()=>{V(!1)};return r.a.createElement("main",{className:"chat-wrapper",id:"chat"},r.a.createElement(Ua,{channel:a,toggleSider:()=>_(!T),otherUser:(()=>{if(ee){var e=d.find(e=>e.user_id!==u);if(e)return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"friend-icon",src:"".concat('"https://someapi.kohdataan.fi"',"/api/v4/users/").concat(e.user_id,"/image"),alt:"Profiilikuva"}),r.a.createElement("span",{className:"direct-chat-header-name"},se(e.user_id)))}return null})(),otherUserName:(()=>{if(ee){var e=d.find(e=>e.user_id!==u),a=e&&e.user_id,t=Object.values(i).find(e=>e.id===a);return t&&t.username}return null})(),direct:ee,handleLogout:v,location:f,deleted:oe(),mmUser:y}),r.a.createElement(Ka,{posts:s,getFilesForPost:c,currentUserId:u,getNickNamebyId:se,directChannel:ee,channelId:a.id,profiles:i,getStatusById:le,pinPost:(e,a,t)=>{Y(ie(a)),X(t),D(!0),q(e)},filesData:E,teams:t,location:f,dividerId:g,lastViewedAt:N}),a.id&&r.a.createElement(Wa,{channel:a,createPost:l,uploadFile:o,currentUserId:u,filesData:E}),a.id&&oe()&&ee&&r.a.createElement("div",{className:"inactive-userinput-field"},r.a.createElement("p",null,"Et voi l\xe4hett\xe4\xe4 viesti\xe4 poistuneelle k\xe4ytt\xe4j\xe4lle.")),T&&!ee&&r.a.createElement(Qa,{members:ne,profiles:i,currentUserId:u,getNickNamebyId:se,handleLeaveChannel:p,getStatusById:le,toggleSiderClosedIfOpen:()=>{T&&_(!1)},channel:a,teams:t}),r.a.createElement(A,{modalIsOpen:U,closeModal:ce,label:"report-message-modal"},r.a.createElement("h3",null,"Haluatko ilmoittaa t\xe4m\xe4n viestin asiattomaksi?"),r.a.createElement("div",{className:"report-message-buttons-wrapper"},r.a.createElement(F,{secondary:!0,onClick:()=>ce(),className:"report-message-button"},r.a.createElement("p",null,"En")),r.a.createElement(F,{onClick:()=>(e=>{var t=ie(u);k({name:"".concat(t.nickname,"(").concat(t.username,")"),email:t.email,message:"K\xe4ytt\xe4j\xe4 ".concat(W.nickname,"(").concat(W.username,") l\xe4hetti seuraavan viestin ryhm\xe4\xe4n ").concat(a.display_name,": ").concat(Q),type:"reported post"}),b(e),ce(),V(!0)})(J),className:"report-message-button"},r.a.createElement("p",null,"Kyll\xe4")))),r.a.createElement(A,{modalIsOpen:R,closeModal:ue,label:"report-message-finish-modal"},r.a.createElement("h3",null,"Viesti ilmoitettu asiattomaksi."),r.a.createElement(F,{className:"report-message-finish-button",onClick:ue},"Valmis")))});Xa.defaultProps={membersInChannel:[],dividerId:null};var et=Object(n.memo)(Xa),at=Object(o.b)((e,a)=>{var t=e.entities.users.currentUserId,n=e.entities.teams,r=e.entities.channels.channels,s=e.entities.users.profiles[t],i=e.entities.users.profiles,l=e.entities.posts.posts;return{currentUserId:t,currentChannelId:a.match.params.id,user:s,profiles:i,teams:n,posts:l,channels:r,statuses:e.entities.users.statuses,files:e.entities.files.files}},e=>Object(p.bindActionCreators)({getPosts:be.getPosts,createPost:be.createPost,getFilesForPost:ga.getFilesForPost,uploadFile:ga.uploadFile,fetchMyChannelsAndMembers:fe.fetchMyChannelsAndMembers,getChannelMembers:fe.getChannelMembers,getProfiles:f.getProfiles,getProfilesInChannel:f.getProfilesInChannel,removeChannelMember:fe.removeChannelMember,viewChannel:fe.viewChannel,matterMostLogout:f.logout,pinPost:be.pinPost,getPostsAfter:be.getPostsAfter},e))(Object(n.memo)(e=>{var a=e.posts,t=e.profiles,s=e.createPost,i=e.getProfiles,l=e.currentUserId,o=e.channels,c=e.teams,d=e.fetchMyChannelsAndMembers,p=e.currentChannelId,h=e.getPosts,v=e.getChannelMembers,k=e.removeChannelMember,f=e.viewChannel,b=e.uploadFile,E=e.getFilesForPost,y=e.statuses,g=e.matterMostLogout,N=e.location,O=e.pinPost,x=e.files,w=e.user,S=e.getPostsAfter,C=Object(n.useState)([]),I=Object(j.a)(C,2),T=I[0],A=I[1],_=Object(n.useState)([]),P=Object(j.a)(_,2),K=P[0],F=P[1],U=o[p],D=Object(n.useState)([]),M=Object(j.a)(D,2),L=M[0],R=M[1],V=Object(n.useState)(0),H=Object(j.a)(V,2),B=H[0],J=H[1],z=Object(n.useState)([]),G=Object(j.a)(z,2),W=G[0],Y=G[1],Z=N&&N.state?N.state.currentUser:null;Object(n.useEffect)(()=>{p&&v(p).then(e=>F(e.data))},[o,p,v]),Object(n.useEffect)(()=>{var e=function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.find(e=>e.user_id===l);case 2:(a=e.sent)&&J(a.last_viewed_at);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();K&&e()},[K,J,l]),Object(n.useEffect)(()=>{(function(){var e=Object(m.a)(u.a.mark((function e(){var t,n,r,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Z){e.next=10;break}if(!(t=Object.values(a).find(e=>e.create_at===Z.last_viewed_at))){e.next=10;break}return e.next=5,S(p,t.id);case 5:n=e.sent,r=Object.values(n.data.posts).filter(e=>""===e.type),s=Object.values(r).map(e=>e.id),i=n.data.order.filter(e=>s.includes(e)),R(i);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},[p,S,Z]),Object(n.useEffect)(()=>{i()},[i]),Object(n.useEffect)(()=>{var e=c.currentTeamId;e&&d(e)},[c,d]),Object(n.useEffect)(()=>{p&&(h(p,0,100),f(p))},[c,a,h,f,p]);var $=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oe(localStorage.getItem("authToken"),p);case 3:k(p,l),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(()=>{var e;if(p){var t=(e=>{var a=Object.values(e);return a.sort((e,a)=>e.create_at-a.create_at),a})((e=p,Object.values(a).filter(a=>a.channel_id===e)));A(t)}},[a,c,p]);return Object(n.useEffect)(()=>{(()=>{var e=K&&K.map(e=>t[e.user_id]).filter(e=>e&&0===e.delete_at&&"deleted"!==e.position&&!De(e.id,t)&&!Me(e.id,c));Y(e)})()},[K,t,Y,c]),r.a.createElement(r.a.Fragment,null,U&&r.a.createElement(et,{channel:U,posts:T,profiles:t,teams:c,createPost:s,getFilesForPost:E,uploadFile:b,currentUserId:l,profilesInChannel:W,membersInChannel:K,handleLeaveChannel:$,statuses:y,getUserByUsername:Q,sendEmail:ne,handleLogout:()=>ve(q,g),location:N,pinPost:O,filesData:x,mmUser:w,getPostsAfter:S,dividerId:L&&L[L.length-1],lastViewedAt:B}))},(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)})),tt=(t(381),e=>{var a=e.handleLogin,t=e.user,s=e.uuid,i=e.error,o=e.textToAdd,c=Object(U.a)(),d=c.register,p=c.handleSubmit,h=c.errors,v=c.setError,k=c.clearError;Object(n.useEffect)(()=>{t&&"Email needs to be verified"===t.errorMessage?v("email","VerificationError"):t&&t.errorMessage&&(v("email","loginError"),v("password","loginError"))},[t,v]);var f=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t.email.trim().toLowerCase(),t.password);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("main",{className:"login-container"},r.a.createElement("h1",{className:"main-title"},"Kohdataan"),s&&r.a.createElement("p",{id:"message-text"},"Kiitos s\xe4hk\xf6postin vahvistamisesta."),i&&"cookiesNotAccepted"===i&&r.a.createElement("p",{id:"message-text"},"Jos haluat k\xe4ytt\xe4\xe4 Kohdataan-somea, sinun t\xe4ytyy hyv\xe4ksy\xe4 ev\xe4steiden k\xe4ytt\xf6."),o&&r.a.createElement("p",{id:"message-text"},o),r.a.createElement("div",{className:"login-fields-container"},r.a.createElement("h2",{className:"login-title"},"Kirjautuminen"),r.a.createElement("form",{className:"login-input-fields-container",onSubmit:p(f)},r.a.createElement("div",{className:"formfield-container"},r.a.createElement(R,{label:"S\xe4hk\xf6posti",name:"email",onChange:()=>k(),ref:d({required:!0}),ariaInvalid:!!h.email,inputClassName:"create-account-input-text",labelClassName:h.email?"create-account-errors-field":"create-account-input-field"}),r.a.createElement("div",{className:"error-text"},h.email&&"required"===h.email.type&&"Kirjoita s\xe4hk\xf6postiosoite.",h.email&&"loginError"===h.email.type&&"Tarkista, ett\xe4 kirjoitit s\xe4hk\xf6postin oikein.",h.email&&"VerificationError"===h.email.type&&"S\xe4hk\xf6posti pit\xe4\xe4 varmentaa ennen sis\xe4\xe4nkirjautumista.")),r.a.createElement("div",{className:"formfield-container"},r.a.createElement(R,{label:"Salasana",name:"password",onChange:()=>k(),ref:d({required:!0}),type:"password",ariaInvalid:!!h.password,inputClassName:"create-account-input-text",labelClassName:h.password?"create-account-errors-field":"create-account-input-field"}),r.a.createElement("div",{className:"error-text"},h.password&&"required"===h.password.type&&"Kirjoita salasana.",h.password&&"loginError"===h.password.type&&"Tarkista, ett\xe4 kirjoitit salasanan oikein.")),r.a.createElement("button",{type:"submit",className:"create-account-button",onKeyPress:p(f),tabIndex:"0"},"Kirjaudu")),r.a.createElement("div",{className:"login-links-container"},r.a.createElement(l.b,{className:"login-link",to:"/reset-password"},"Olen unohtanut salasanani."),r.a.createElement(l.b,{className:"login-link",to:"/registrationproblem"},"Tarvitsen apua kirjautumisessa."),r.a.createElement(l.b,{className:"login-link",to:"/createaccount"},"Olen uusi k\xe4ytt\xe4j\xe4 ja haluan rekister\xf6ity\xe4."))))});tt.defaultProps={uuid:!1,error:null,textToAdd:null};var nt=Object(n.memo)(tt),rt=e=>{var a=e.match.params.uuid,t=e.userLogin,s=e.addUserToState,i=e.user,l=e.history,o=Object(n.useState)(!1),c=Object(j.a)(o,2),d=c[0],p=c[1],h=Object(n.useState)(null),v=Object(j.a)(h,2),k=v[0],f=v[1];Object(n.useEffect)(()=>(document.body.className="create-account-body",()=>{document.body.className=""})),Object(n.useEffect)(()=>{localStorage.getItem("authToken")?i.profileReady?l.push("/"):l.push("/registration/info"):a&&oe({uuid:a}).then(e=>{e.success?p(!0):p(!1)})},[i,l,a]);var b=function(){var e=Object(m.a)(u.a.mark((function e(a,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!document.cookie.includes("CookieConsent=true")){e.next=8;break}return r={email:a,password:n},e.next=4,t(r);case 4:return e.next=6,s();case 6:e.next=9;break;case 8:f("cookiesNotAccepted");case 9:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement(nt,{handleLogin:b,user:i,uuid:d,error:k,textToAdd:l.location.state&&l.location.state.textToAdd})};rt.defaultProps={match:null,textToAdd:null};var st=Object(o.b)(e=>({user:e.user}),e=>Object(p.bindActionCreators)({userLogin:qe,addUserToState:ze},e))(Object(n.memo)(rt,(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)})),it=t(227),lt=t.n(it),ot=(t(382),Object(n.memo)(({closeModal:e})=>r.a.createElement("div",{className:"privacy-policy-modal-container"},r.a.createElement("div",{className:"privacy-policy-modal-content"},r.a.createElement("div",{className:"privacy-policy-header-content"},r.a.createElement("h1",{className:"privacy-policy-header"},"Tietosuoja\xadseloste"),r.a.createElement(F,{className:"privacy-policy-icon-btn",onClick:e,label:"Sulje"},r.a.createElement("div",{className:"go-back-button"}))),r.a.createElement("p",{className:"bold-text"},"(voimassa 27.4.2020 alkaen)"),r.a.createElement("div",{className:"service-info-content"},r.a.createElement("p",null,"T\xe4m\xe4 on ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelun tietosuojaseloste. Tietosuojaselosteessa kerrotaan, mit\xe4 henkil\xf6tietoja palvelussa k\xe4ytt\xe4jist\xe4 ker\xe4t\xe4\xe4n ja mit\xe4 henkil\xf6tiedoilla tehd\xe4\xe4n."),r.a.createElement("ol",{className:"service-info-list"},r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Rekisterinpit\xe4j\xe4"),r.a.createElement("div",{className:"list-block-item"},"Kehitysvammaliitto ry",r.a.createElement("br",null),"Linnoitustie 2 B",r.a.createElement("br",null),"02600 Espoo",r.a.createElement("br",null),"Y-tunnus: 0116608-8",r.a.createElement("br",null),"Puhelin: (09) 348 090 (vaihde)",r.a.createElement("br",null))),r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Yhteyshenkil\xf6 rekisteriin liittyviss\xe4 asioissa"),r.a.createElement("div",{className:"list-block-item"},"Nimi: Tanja R\xe4s\xe4nen",r.a.createElement("br",null),"Puhelin: 0400 675 674",r.a.createElement("br",null),"S\xe4hk\xf6posti:"," ",r.a.createElement("a",{className:"email-link",href:"mailto:tanja.rasanen@kvl.fi"},"tanja.rasanen@kvl.fi"),r.a.createElement("br",null),"Voit kysy\xe4 yhteyshenkil\xf6lt\xe4 lis\xe4tietoa t\xe4st\xe4 selosteesta tai henkil\xf6tietojesi k\xe4yt\xf6st\xe4.",r.a.createElement("br",null))),r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Tietosuojavastaava"),r.a.createElement("div",{className:"list-block-item"},"Nimi: Marko Peltom\xe4ki",r.a.createElement("br",null),"Puhelin: (09) 3480 9262",r.a.createElement("br",null),"S\xe4hk\xf6posti:"," ",r.a.createElement("a",{className:"email-link",href:"mailto:marko.peltomaki@kvl.fi"},"marko.peltomaki@kvl.fi"),r.a.createElement("br",null))),r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Rekisterin nimi"),r.a.createElement("p",null,r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelun k\xe4ytt\xe4j\xe4rekisteri")),r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Mihin tarkoituksiin rekisteri\xe4 k\xe4ytet\xe4\xe4n?"),r.a.createElement("p",null,r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelu on sosiaalisen median palvelu, jossa voi tutustua uusiin ihmisiin. Palvelussa voi keskustella muiden k\xe4ytt\xe4jien kanssa ryhmiss\xe4 tai kahdestaan. Palvelussa voi viesti\xe4 kirjoittamalla, kuvilla, videoilla ja \xe4\xe4niviesteill\xe4."),r.a.createElement("p",null,"Ker\xe4\xe4mme ja k\xe4sittelemme vain sellaisia henkil\xf6tietojasi, joita tarvitaan ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelun k\xe4ytt\xf6\xf6n."),"K\xe4sittelemme ja k\xe4yt\xe4mme henkil\xf6tietojasi, jotta voimme",r.a.createElement("ul",null,r.a.createElement("li",null,"tarjota sinulle palvelun"),r.a.createElement("li",null,"kehitt\xe4\xe4 palvelua"),r.a.createElement("li",null,"ottaa yhteytt\xe4 ongelmatilanteissa"),r.a.createElement("li",null,"tiedottaa palvelun muutoksista, esimerkiksi k\xe4ytt\xf6ehtojen muutoksista"),r.a.createElement("li",null,"markkinoida palvelua.")),r.a.createElement("p",null,"Henkil\xf6tietojesi k\xe4ytt\xf6 perustuu Kehitysvammaliiton ja sinun v\xe4liseen sopimukseen"," ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelun k\xe4yt\xf6st\xe4."),r.a.createElement("p",null,"Kehitysvammaliitolla voi my\xf6s olla niin kutsuttuja oikeutettuja etuja, joiden perusteella se voi k\xe4ytt\xe4\xe4 henkil\xf6tietojasi. T\xe4llaisia oikeutettuja etuja ovat mm. oikeus edist\xe4\xe4 palvelun k\xe4ytt\xf6\xe4 markkinoinnin avulla sek\xe4 oikeus selvitt\xe4\xe4 mahdollisia v\xe4\xe4rink\xe4yt\xf6ksi\xe4 ja muita ongelmatilanteita.")),r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Mink\xe4laisia tietoja rekisteri sis\xe4lt\xe4\xe4?"),r.a.createElement("div",{className:"list-block-item"},"Kun rekister\xf6idyt palvelun k\xe4ytt\xe4j\xe4ksi, sinusta ker\xe4t\xe4\xe4n:",r.a.createElement("ul",null,r.a.createElement("li",null,"etu-ja sukunimi"),r.a.createElement("li",null,"syntym\xe4aika"),r.a.createElement("li",null,"s\xe4hk\xf6postiosoite"),r.a.createElement("li",null,"puhelinnumero"),r.a.createElement("li",null,"salasana")),r.a.createElement("br",null),"Kun luot k\xe4ytt\xe4j\xe4profiilin, joka n\xe4kyy muille k\xe4ytt\xe4jille, sinusta ker\xe4t\xe4\xe4n:",r.a.createElement("ul",null,r.a.createElement("li",null,"kutsumanimi"),r.a.createElement("li",null,"asuinkunta"),r.a.createElement("li",null,"kuvaus itsest\xe4"),r.a.createElement("li",null,"kuva itsest\xe4"),r.a.createElement("li",null,"kiinnostuksen kohteet.")),r.a.createElement("br",null),"Kun k\xe4yt\xe4t palvelua sinusta ker\xe4t\xe4\xe4n:",r.a.createElement("ul",null,r.a.createElement("li",null,"lokitietoja, jotka sis\xe4lt\xe4v\xe4t muun muassa tietokoneesi tai mobiililaitteesi IP-osoitteen sek\xe4 laitteessa olevan k\xe4ytt\xf6j\xe4rjestelm\xe4n ja selaimen"),r.a.createElement("li",null,"palvelun ryhm\xe4keskusteluihin kirjoittamasi tekstit ja muut jakamasi materiaalit.")))),r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Miten henkil\xf6tietoja ker\xe4t\xe4\xe4n?"),r.a.createElement("p",null,"Ker\xe4\xe4mme henkil\xf6tietoja vain sinulta itselt\xe4si sek\xe4 ev\xe4steiden ja vastaavien teknologioiden avulla laitteistasi. Tietoja ker\xe4t\xe4\xe4n ker\xe4t\xe4\xe4n esimerkiksi silloin kun"),r.a.createElement("ul",null,r.a.createElement("li",null,"rekister\xf6idyt palveluun"),r.a.createElement("li",null,"kirjaudut sis\xe4\xe4n palveluun"),r.a.createElement("li",null,"luot tai muokkaat omaa profiiliasi"),r.a.createElement("li",null,"muokkaat rekister\xf6itymistietojasi"),r.a.createElement("li",null,"liityt ryhmiin"),r.a.createElement("li",null,"keskustelet muiden k\xe4ytt\xe4jien kanssa"),r.a.createElement("li",null,"liikut palvelussa sivuilta toiselle"),r.a.createElement("li",null,"olet yhteydess\xe4 valvojiin ongelmatilanteissa.")),r.a.createElement("br",null)),r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Miten henkil\xf6tietoja s\xe4ilytet\xe4\xe4n ja suojataan?"),r.a.createElement("p",null,"Henkil\xf6tiedot ker\xe4t\xe4\xe4n tietokantoihin ja lokitiedostoihin. Tietokannat, tiedostot ja niiden varmuuskopiot sijaitsevat lukituissa tiloissa ja ne on suojattu palomuureilla, salasanoilla sek\xe4 muilla teknisill\xe4 keinoilla. Tiedot sijaitsevat Suomessa."),r.a.createElement("p",null,"Tietoihin p\xe4\xe4sev\xe4t vain ne Kehitysvammaliiton ty\xf6ntekij\xe4t, joiden ty\xf6h\xf6n tietojen k\xe4sittely kuuluu. Lis\xe4ksi tietoihin p\xe4\xe4sev\xe4t sellaiset henkil\xf6t, joilta Kehitysvammaliitto ostaa palvelun kehitt\xe4mist\xe4 tai yll\xe4pitoa. Kaikilla n\xe4ill\xe4 henkil\xf6ill\xe4 on velvollisuus pit\xe4\xe4 tiedot salassa. Tietoja ei siis saa kertoa kenellek\xe4\xe4n."),r.a.createElement("p",null,"Henkil\xf6tietoja s\xe4ilytet\xe4\xe4n niin kauan kuin k\xe4ytt\xe4j\xe4ll\xe4 on k\xe4ytt\xe4j\xe4tili sek\xe4 enint\xe4\xe4n yksi vuosi sen j\xe4lkeen. Henkil\xf6tietoja voidaan s\xe4ilytt\xe4\xe4 kauemmin, jos se on perusteltua.")),r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Ev\xe4steet"),r.a.createElement("p",null,r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelussa k\xe4ytet\xe4\xe4n ev\xe4steit\xe4, jotta palvelu toimii ja sit\xe4 voi k\xe4ytt\xe4\xe4."),r.a.createElement("p",null,"Ev\xe4steet ovat pieni\xe4, tietokoneesi tai mobiililaitteesi selaimelle tallennettavia tekstitiedostoja, jotka eiv\xe4t vahingoita laitettasi. Ev\xe4steet tunnistavat tietokoneesi tai mobiililaitteesi, kun tulet palveluun ja liikut sen sis\xe4ll\xe4."),r.a.createElement("p",null,r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelun ev\xe4steiden avulla ker\xe4t\xe4\xe4n my\xf6s tietoa palvelun k\xe4yt\xf6st\xe4 ja kehitet\xe4\xe4n palvelua. Ev\xe4steiden avulla ei ker\xe4t\xe4 henkil\xf6tietojasi tai selaushistoriaasi."),r.a.createElement("p",null,"Tietokoneesi selaimen tai mobiililaitteen asetuksista voit hallita ev\xe4steiden k\xe4ytt\xf6\xe4 tai halutessasi est\xe4\xe4 ne kokonaan. Jos est\xe4t asetuksistasi ev\xe4steiden k\xe4yt\xf6n kokonaan, et pysty k\xe4ytt\xe4m\xe4\xe4n ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelua.")),r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Tietojen luovuttaminen ulkopuolisille tahoille tai siirt\xe4minen EU:n tai ETA:n ulkopuolelle"),r.a.createElement("p",null,"Henkil\xf6tietoja ei luovuteta ulkopuolisille tahoille eik\xe4 siirret\xe4 Euroopan unionin tai Euroopan talousalueen ulkopuolelle, jos se ei ole palvelun teknisen toteuttamisen vuoksi tarpeellista."),r.a.createElement("p",null,"Ulkopuoliset henkil\xf6t saavat k\xe4ytt\xe4\xe4 henkil\xf6tietoja Kehitysvammaliiton luvalla vain",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelun kehitt\xe4miseen."),r.a.createElement("p",null,"Henkil\xf6tietoja voidaan kuitenkin luovuttaa eteenp\xe4in, jos viranomainen tai laki vaatii.")),r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Mit\xe4 oikeuksia rekister\xf6idyll\xe4 on omiin henkil\xf6tietoihinsa?"),r.a.createElement("p",null,"Rekister\xf6ityn\xe4 sinulla on oikeus:"),r.a.createElement("ul",null,r.a.createElement("li",null,"tarkastaa, mit\xe4 henkil\xf6tietoja sinusta on tallennettu"," ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelun rekisteriin"),r.a.createElement("li",null,"saada virheellinen henkil\xf6tietosi korjattua"),r.a.createElement("li",null,"saada henkil\xf6tietosi poistettua rekisterist\xe4, jos Kehitysvammaliitolla ei ole en\xe4\xe4 perustetta jatkaa tietojen k\xe4ytt\xf6\xe4"),r.a.createElement("li",null,"peruuttaa mahdolliset suostumuksesi henkil\xf6tietojesi k\xe4ytt\xf6\xf6n"),r.a.createElement("li",null,"vastustaa henkil\xf6tietojesi k\xe4ytt\xf6\xe4"),r.a.createElement("li",null,"rajoittaa henkil\xf6tietojesi k\xe4ytt\xf6\xe4"),r.a.createElement("li",null,"saada tietosi siirretty\xe4 j\xe4rjestelm\xe4st\xe4 toiseen"),r.a.createElement("li",null,"vastustaa itse\xe4si koskevaa profilointia"),r.a.createElement("li",null,"tehd\xe4 valitus Kehitysvammaliiton toiminnasta tietosuojavaltuutetun toimistoon.")),"Voit tehd\xe4 oikeuksiasi koskevan pyynn\xf6n ottamalla yhteytt\xe4 kohdassa 2 mainittuun yhteyshenkil\xf6\xf6n."),r.a.createElement("br",null),r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Mink\xe4 maan lains\xe4\xe4d\xe4nt\xf6\xe4 henkil\xf6tietojen k\xe4sittelyyn sovelletaan?"),r.a.createElement("p",null,r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelun henkil\xf6rekisteriin ja siihen sis\xe4ltyvien henkil\xf6tietojen k\xe4sittelyyn sovelletaan Suomen lains\xe4\xe4d\xe4nt\xf6\xe4 sek\xe4 suoraan Suomessa sovellettavaa EU:n lains\xe4\xe4d\xe4nt\xf6\xe4, kuten EU:n tietosuoja-asetusta.")),r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Miten voimme p\xe4ivitt\xe4\xe4 t\xe4t\xe4 tietosuojaselostetta?"),r.a.createElement("p",null,"Kehit\xe4mme palveluamme ja toimintaamme jatkuvasti, ja sen takia my\xf6s henkil\xf6tietojen k\xe4sittelyyn voi tulla muutoksia. P\xe4ivit\xe4mme tarvittaessa tietosuojaselosteen vastaamaan muutoksia. Muutokset voivat perustua my\xf6s lains\xe4\xe4d\xe4nn\xf6n muutoksiin. Suosittelemme, ett\xe4 tutustut tietosuojaselosteemme sis\xe4lt\xf6\xf6n s\xe4\xe4nn\xf6llisesti."),r.a.createElement("p",null,"Ilmoitamme sinulle, jos alamme k\xe4ytt\xe4\xe4 henkil\xf6tietojasi muuhun tarkoitukseen kuin siihen, johon henkil\xf6tietosi ker\xe4ttiin. Ilmoitamme asiasta ja uudesta tietosuojaselosteesta etuk\xe4teen. Jos tietosuojaselosteeseen tulee muita muutoksia, ilmoitamme niist\xe4 verkkosivuillamme."))))),r.a.createElement(F,{className:"profile-modal-button privacy-policy-modal-button",onClick:e},"Sulje")))),ct=(t(383),Object(n.memo)(({setRulesAccepted:e,setOpenErrorModal:a})=>{var t=Object(n.useState)(!1),s=Object(j.a)(t,2),i=s[0],l=s[1],o=Object(n.useState)(!1),c=Object(j.a)(o,2),u=c[0],m=c[1],d=()=>{a(!0),l(!1)};return r.a.createElement("div",{className:"create-account-modal-container"},r.a.createElement("div",{className:"service-rules-content"},r.a.createElement(F,{className:"accept-rules-link",onClick:()=>{l(!0)}},"Hyv\xe4ksy palvelun k\xe4ytt\xf6ehdot"),r.a.createElement(A,{modalIsOpen:i,closeModal:d,label:"Hyv\xe4ksy k\xe4ytt\xf6s\xe4\xe4nn\xf6t-dialogi",isLong:!0,aria:{labelledby:"Hyv\xe4ksy k\xe4ytt\xf6s\xe4\xe4nn\xf6t-dialogi",modal:!0}},r.a.createElement("div",{className:"service-rules-content"},r.a.createElement("div",{className:"service-rules-header-content"},r.a.createElement("h1",{className:"service-info-header"},"K\xe4ytt\xf6ehdot"),r.a.createElement(F,{className:"accept-rules-icon-btn",onClick:d,label:"Sulje"},r.a.createElement("div",{className:"go-back-button"}))),r.a.createElement("p",{className:"bold-text"},"(voimassa 27.4.2020 alkaen)"),r.a.createElement("div",{className:"service-info-content"},r.a.createElement("section",null,r.a.createElement("p",null,"N\xe4m\xe4 k\xe4ytt\xf6ehdot ovat sinun ja Kehitysvammaliiton v\xe4linen sopimus ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelun k\xe4yt\xf6st\xe4."),r.a.createElement("p",null,"Lue ehdot huolellisesti l\xe4pi. Jos haluat k\xe4ytt\xe4\xe4 palvelua, sinun t\xe4ytyy ensin hyv\xe4ksy\xe4 n\xe4m\xe4 ehdot. Voit hyv\xe4ksy\xe4 ehdot t\xe4m\xe4n tekstin lopussa."),r.a.createElement("p",null,"Jos haluat kysy\xe4 k\xe4ytt\xf6ehdoista, voit l\xe4hett\xe4\xe4 s\xe4hk\xf6postia osoitteeseen"," ",r.a.createElement("a",{className:"email-link",href:"mailto:kohdataan@kohdataan.fi"},"kohdataan@kohdataan.fi"),".")),r.a.createElement("section",null,r.a.createElement("ol",{className:"service-info-list"},r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Mik\xe4 on ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelu?"),r.a.createElement("p",null," ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelu on sosiaalisen median palvelu, jossa voit tutustua uusiin ihmisiin. Voit keskustella palvelussa muiden k\xe4ytt\xe4jien kanssa ryhmiss\xe4 tai kahdestaan. Voit viesti\xe4 palvelussa kirjoittamalla, kuvilla, videoilla ja \xe4\xe4niviesteill\xe4."),r.a.createElement("p",null," ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelu on ilmainen, kotimainen ja turvallinen palvelu. Palvelua moderoidaan eli keskusteluista poistetaan asiattomat sis\xe4ll\xf6t. Valvojaan saa tarvittaessa yhteyden, ja valvoja pyrkii vastaamaan viesteihin mahdollisimman pian.")),r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},r.a.createElement("span",{className:"uppercase-text"},"Kohdataan "),"-palvelun ik\xe4raja ja muut vaatimukset"),r.a.createElement("p",null," ","Voit k\xe4ytt\xe4\xe4"," ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelua, jos olet v\xe4hint\xe4\xe4n 15-vuotias. Sinulla t\xe4ytyy olla toimiva s\xe4hk\xf6postiosoite ja puhelinnumero. Palvelu on ilmainen, mutta sinun t\xe4ytyy itse maksaa omat laitteesi ja internetyhteytesi."),r.a.createElement("p",null," ","Voit rekister\xf6ity\xe4 palveluun vain omilla, oikeilla henkil\xf6tiedoilla. Palveluun ei saa ilmoittaa v\xe4\xe4ri\xe4 henkil\xf6tietoja.")),r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Mit\xe4 vastuita meill\xe4 on?"),r.a.createElement("div",{className:"list-item-content"},r.a.createElement("p",null," ","Kehitysvammaliitto tarjoaa sinulle parhaan mahdollisen"," ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelun ."),r.a.createElement("p",null," ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelussa saattaa olla virheit\xe4, ja se voi olla joskus poissa k\xe4yt\xf6st\xe4. Kehitysvammaliitto pyrkii korjaamaan virheet niin, ett\xe4 ne haittaavat palvelun k\xe4ytt\xf6\xe4 mahdollisimman v\xe4h\xe4n."),r.a.createElement("p",null,"Kehitysvammaliitto ei ole vastuussa, jos"," ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelun k\xe4ytt\xf6 aiheuttaa vahinkoja tai muita ongelmia, esimerkiksi maksuja internetin k\xe4ytt\xe4misest\xe4 puhelimella."),r.a.createElement("p",null,"Kehitysvammaliitto ei ole vastuussa materiaaleista, joita k\xe4ytt\xe4j\xe4t jakavat palvelussa."))),r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Mit\xe4 vastuita sinulla on?"),r.a.createElement("p",null," ","Sinulla voi olla"," ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelussa vain yksi k\xe4ytt\xe4j\xe4tili. K\xe4ytt\xe4j\xe4tili aukeaa, kun rekister\xf6idyt palveluun."),r.a.createElement("p",null,"K\xe4yt\xe4t palvelua omalla vastuullasi. Olet vastuussa omasta k\xe4ytt\xe4j\xe4tilist\xe4si. \xc4l\xe4 kerro tai anna tilisi salasanaa muille. Jos ep\xe4ilet, ett\xe4 joku muu tiet\xe4\xe4 salasanasi, vaihda se heti uuteen. Voit my\xf6s ottaa yhteytt\xe4 meihin, niin autamme sinua."),r.a.createElement("p",null,"Olet vastuussa kaikesta materiaalista, jota jaat"," ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelussa. Jaa vain materiaalia, johon sinulla on oikeus. \xc4l\xe4 jaa viestej\xe4 ja materiaaleja, jotka ovat laittomia, asiattomia tai loukkaavia."),r.a.createElement("p",null,r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelun s\xe4\xe4nn\xf6iss\xe4 kerrotaan lis\xe4\xe4, millaisia materiaaleja kannattaa jakaa."),r.a.createElement("p",null,r.a.createElement("a",{href:"https://kohdataan.fi/saannot/",className:"service-info-link"},"Siirry Kohdataan-sivuilla oleviin s\xe4\xe4nt\xf6ihin.")),r.a.createElement("p",null,"S\xe4\xe4nn\xf6t ovat osa Kehitysvammaliiton ja sinun v\xe4list\xe4 sopimusta.")),r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Miten muut voivat k\xe4ytt\xe4\xe4 materiaaliasi?"),r.a.createElement("p",null,"Kehitysvammaliitto ei k\xe4yt\xe4 materiaalejasi mihink\xe4\xe4n, ei muokkaa, eik\xe4 jaa niit\xe4 eteenp\xe4in. Sinulla s\xe4ilyv\xe4t kaikki tekij\xe4noikeudet materiaaleihisi, joita jaat palvelussa."),r.a.createElement("p",null,"Muiden k\xe4ytt\xe4jien kuvia ja materiaaleja ei saa kopioida eik\xe4 jakaa eteenp\xe4in. On kuitenkin mahdollista, ett\xe4 joku muu jakaa palvelussa olevia materiaaleja eteenp\xe4in ilman lupaa. Me emme pysty est\xe4m\xe4\xe4n sit\xe4 teknisesti. Ilmoita meille, jos huomaat, ett\xe4 materiaalejasi jaetaan eteenp\xe4in.")),r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Henkil\xf6tiedot ja yksityisyys"),r.a.createElement("div",null,r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelu ker\xe4\xe4 sinusta seuraavat henkil\xf6tiedot:\u202f",r.a.createElement("ul",null,r.a.createElement("li",null,"kun rekister\xf6idyt palvelun k\xe4ytt\xe4j\xe4ksi",r.a.createElement("ul",null,r.a.createElement("li",null,"etu-ja sukunimesi"),r.a.createElement("li",null,"syntym\xe4aikasi"),r.a.createElement("li",null,"s\xe4hk\xf6postiosoit\xadteesi"),r.a.createElement("li",null,"puhelinnume\xadrosi"),r.a.createElement("li",null,"luomasi salasana"))),r.a.createElement("li",null,"kun luot k\xe4ytt\xe4j\xe4profiilin, joka n\xe4kyy muille k\xe4ytt\xe4jille",r.a.createElement("ul",null,r.a.createElement("li",null,"kutsumanimesi"),r.a.createElement("li",null,"asuinpaikkasi"),r.a.createElement("li",null,"kuvasi"),r.a.createElement("li",null,"kuvauksen itsest\xe4si"),r.a.createElement("li",null,"kiinnostuksen kohteesi"))),r.a.createElement("li",null,"keskusteluryhmiin tuottamasi materiaalit, kuten tekstit, valokuvat, videot\u202fja \xe4\xe4net."))),r.a.createElement("p",null,"Yksityisyytesi on meille hyvin t\xe4rke\xe4\xe4. Ker\xe4\xe4mme sinusta ainoastaan niit\xe4 tietoja, joita tarvitaan, ett\xe4 voit k\xe4ytt\xe4\xe4 ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelua ja saada meilt\xe4 viestej\xe4."),r.a.createElement("p",null,"Voit katsoa ja muokata omia tietojasi omassa profiilissasi ja Rekister\xf6itymistiedot-osiossa. Jos tietosi muuttuvat, k\xe4y muuttamassa ne Rekister\xf6itymistiedot-osiossa."),r.a.createElement("p",null,"Kun k\xe4yt\xe4t"," ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelua, hyv\xe4ksyt samalla, ett\xe4 voimme tallentaa ev\xe4steit\xe4 tietokoneellesi tai mobiililaitteellesi."),r.a.createElement("p",null,"Henkil\xf6tietojen k\xe4sittelyst\xe4 ja ev\xe4steiden k\xe4yt\xf6st\xe4 kerrotaan lis\xe4\xe4 palvelun tietosuojaselosteessa."),r.a.createElement(F,{className:"service-info-link",role:"link",onClick:()=>m(!0)},r.a.createElement("span",null,"Siirry tietosuojaselosteeseen.")),r.a.createElement(A,{modalIsOpen:u,closeModal:()=>m(!1),isLong:!0,label:"Tietosuojaseloste",aria:{label:"Tietosuojaseloste",modal:!0}},r.a.createElement("aside",{id:"Tietosuojaseloste"},r.a.createElement(ot,{closeModal:()=>m(!1)})))),r.a.createElement("br",null),r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Kuinka palvelun k\xe4ytt\xf6 voi loppua?"),r.a.createElement("p",null,"Voit lopettaa"," ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelun k\xe4yt\xf6n ja poistaa k\xe4ytt\xe4j\xe4tilisi Rekister\xf6itymistiedot-osiossa. Voit my\xf6s pyyt\xe4\xe4 palvelun valvojaa poistamaan k\xe4ytt\xe4j\xe4tilisi. L\xe4het\xe4 valvojalle s\xe4hk\xf6postia siit\xe4 s\xe4hk\xf6postiosoitteesta, jota k\xe4ytit, kun rekister\xf6idyit palveluun."),r.a.createElement("p",null,"Voit k\xe4ytt\xe4\xe4"," ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelua vain, jos noudatat n\xe4it\xe4 k\xe4ytt\xf6ehtoja. Jos et noudata k\xe4ytt\xf6ehtoja, Kehitysvammaliitto voi poistaa k\xe4ytt\xe4j\xe4tilisi ja est\xe4\xe4 sinua avaamasta uutta k\xe4ytt\xe4j\xe4tili\xe4."),r.a.createElement("p",null,"Kun k\xe4ytt\xe4j\xe4tilisi poistetaan, k\xe4ytt\xe4j\xe4profiilisi ja kaikki profiilitietosi poistuvat"," ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelusta. Profiilitiedot poistuvat kaikissa tilanteissa, silloin kun itse poistat k\xe4ytt\xe4j\xe4tilin ja silloin kun me poistamme sen. Kaikki ryhm\xe4keskusteluissa jakamasi viestit ja materiaalit s\xe4ilyv\xe4t palvelussa."),r.a.createElement("p",null,"Kehitysvammaliitolla on oikeus tehd\xe4"," ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palveluun muutoksia tai lopettaa koko palvelu. Jos palvelu lopetetaan, Kehitysvammaliitto ilmoittaa siit\xe4 sinulle s\xe4hk\xf6postilla hyviss\xe4 ajoin etuk\xe4teen.\xa0\xa0")),r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Miten n\xe4ihin k\xe4ytt\xf6ehtoihin voidaan tehd\xe4 muutoksia?"),r.a.createElement("p",null,"Kehitysvammaliitto voi muuttaa n\xe4it\xe4 k\xe4ytt\xf6ehtoja ilman, ett\xe4 ilmoittaa siit\xe4 sinulle etuk\xe4teen. Jos muutamme k\xe4ytt\xf6ehtojen sis\xe4lt\xf6\xe4 paljon, ilmoitamme sinulle muutoksista s\xe4hk\xf6postilla siihen s\xe4hk\xf6postiosoitteeseen, joka n\xe4kyy k\xe4ytt\xe4j\xe4tilill\xe4si."),r.a.createElement("p",null,"Jos jatkat"," ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelun k\xe4ytt\xf6\xe4, hyv\xe4ksyt samalla uudet k\xe4ytt\xf6ehdot. Jos et hyv\xe4ksy muutettuja ehtoja, et voi jatkaa palvelun k\xe4ytt\xf6\xe4 ja voit poistaa k\xe4ytt\xe4j\xe4tilisi palvelusta.")),r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Miten riidat ratkaistaan?"),r.a.createElement("p",null,r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelu ja n\xe4m\xe4 k\xe4ytt\xf6ehdot on tehty niin, ett\xe4 ne noudattavat Suomen lakeja. Jos sinulle ja Kehitysvammaliitolle tulee riita palvelusta ja sen k\xe4yt\xf6st\xe4, yrit\xe4mme ensin sopia riidan yhdess\xe4. Jos se ei onnistu, riita ratkaistaan sinun kotipaikkasi k\xe4r\xe4j\xe4oikeudessa. Voit my\xf6s vied\xe4 riidan kuluttajariitalautakuntaan, joka suosittelee, miten asia kannattaa ratkaista. Ennen kuin viet riidan kuluttajariitalautakuntaan, kannattaa pyyt\xe4\xe4 apua oman kunnan kuluttajaneuvojalta.")),r.a.createElement("li",null,r.a.createElement("span",{className:"service-info-list-item"},"Ota yhteytt\xe4"),r.a.createElement("p",null,"Voit ottaa yhteytt\xe4"," ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelun valvojiin aina, kun sinulla on kysytt\xe4v\xe4\xe4 tai ongelmia palvelun k\xe4yt\xf6ss\xe4."),r.a.createElement("p",null,"Voit ottaa yhteytt\xe4 valvojiin palvelussa olevalla lomakkeella tai s\xe4hk\xf6postilla "," ",r.a.createElement("a",{className:"email-link",href:"mailto:kohdataan@kohdataan.fi"},"kohdataan@kohdataan.fi"),".")))),r.a.createElement("section",null,r.a.createElement("h2",null,"Yhteystiedot"),"Kehitysvammaliitto ry",r.a.createElement("br",null),"Linnoitustie 2 B",r.a.createElement("br",null),"02600 Espoo",r.a.createElement("br",null),"Y-tunnus: 0116608-8",r.a.createElement("br",null),"Puhelin: (09) 348 090 (vaihde)",r.a.createElement("br",null))),r.a.createElement(F,{className:"profile-modal-button accept-rules-modal-button",onClick:()=>{e(!0),l(!1)}},"Hyv\xe4ksy")))))})),ut=Object(n.memo)(({setRulesAccepted:e,setOpenErrorModal:a})=>r.a.createElement(ct,{setRulesAccepted:e,setOpenErrorModal:a}),(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)}),mt=t(122),dt=(t(384),r.a.forwardRef((e,a)=>{for(var t=e.label,s=e.showLabel,i=e.ariaInvalid,l=e.errors,o=e.inputClassName,c=e.labelClassName,u=e.noOptionsMessage,m=e.name,d=e.onChange,p=e.value,h=Object(n.useState)(""),v=Object(j.a)(h,2),k=v[0],f=v[1],b=[],E=(new Date).getFullYear(),y=[{value:1,label:"01"},{value:2,label:"02"},{value:3,label:"03"},{value:4,label:"04"},{value:5,label:"05"},{value:6,label:"06"},{value:7,label:"07"},{value:8,label:"08"},{value:9,label:"09"}],g=10,N=[],O=e=>{var a="1px solid #f59023";return e?a="1px solid white":!l||"day"!==l.ref.name&&"month"!==l.ref.name&&"year"!==l.ref.name||(a="1px solid #ff5c69"),a},x={container:e=>Object(Je.a)(Object(Je.a)({},e),{},{width:"100%"}),menu:e=>Object(Je.a)(Object(Je.a)({},e),{},{border:"2px solid #f59023"}),placeholder:e=>Object(Je.a)(Object(Je.a)({},e),{},{color:"white",fontSize:"15px"}),clearIndicator:e=>Object(Je.a)(Object(Je.a)({},e),{},{display:"none"}),dropdownIndicator:e=>Object(Je.a)(Object(Je.a)({},e),{},{padding:"1px"}),indicatorSeparator:e=>Object(Je.a)(Object(Je.a)({},e),{},{display:"none"}),option:(e,a)=>Object(Je.a)(Object(Je.a)({},e),{},{color:"white",background:a.isFocused?"grey":"#1c1c1c"}),control:(e,a)=>Object(Je.a)(Object(Je.a)({},e),{},{borderRadius:25,flexGrow:1,flexBasis:"auto",border:a.isFocused?O(!0):O(!1),boxShadow:"none",background:"#3a3a3a",color:"white",margin:"0"}),input:()=>({color:"white"}),singleValue:()=>({color:"white"})};E>=1900;)b.push({value:E,label:E}),E-=1;for(;g<=31;)y.push({value:g,label:g}),g+=1;switch(m){case"day":N=y;break;case"month":N=[{value:"01",label:"Tammi"},{value:"02",label:"Helmi"},{value:"03",label:"Maalis"},{value:"04",label:"Huhti"},{value:"05",label:"Touko"},{value:"06",label:"Kes\xe4"},{value:"07",label:"Hein\xe4"},{value:"08",label:"Elo"},{value:"09",label:"Syys"},{value:"10",label:"Loka"},{value:"11",label:"Marras"},{value:"12",label:"Joulu"}];break;case"year":N=b}return Object(n.useEffect)(()=>{(()=>{var e="".concat(t,"-combobox");f(e)})()},[t]),r.a.createElement("label",{htmlFor:t,className:c},s&&t,r.a.createElement(mt.a,{id:t,name:m,options:N,ref:a,isSearchable:!0,isClearable:!0,isRequired:!0,placeholder:t,"aria-label":k,"aria-invalid":i,role:"combobox",styles:x,onChange:d,className:o,value:p.label,noOptionsMessage:u}))}));dt.defaultProps={showLabel:!1,ariaInvalid:!1,errors:null,inputClassName:"",labelClassName:""};var pt=Object(n.memo)(dt);N.a.setAppElement("#root");var ht={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"20%",transform:"translate(-50%, -50%)",position:"fixed",border:"solid 1px #f5a623",borderRadius:"10px",textAlign:"center",width:"300px",backgroundColor:"#fff2e7"},overlay:{position:"fixed",zIndex:"2000",backgroundColor:"rgba(0, 0, 0, 0.5)"}},vt={position:"absolute",top:5,right:5,borderRadius:"0",margin:"10px"},kt=Object(n.memo)(e=>{var a=e.content,t=e.modalIsOpen,n=e.closeModal,s=e.label;return r.a.createElement(N.a,{isOpen:t,onRequestClose:n,contentLabel:s,style:ht,role:"dialog",aria:{labelledby:s,modal:!0}},r.a.createElement("aside",null,r.a.createElement("button",{type:"button",className:"go-back-button",onClick:n,style:vt,"aria-label":"Sulje",onKeyPress:n,tabIndex:"0"}),r.a.createElement("p",{className:"text-paragraph"},a)))}),ft=e=>{var a=ye()(e.birthdate);return ye()().diff(a,"years")},bt=(t(385),t(386),Object(n.memo)(({closeModal:e})=>r.a.createElement("div",{className:"accessibility-statement-modal-container"},r.a.createElement("div",{className:"accesibility-statement-modal-content"},r.a.createElement("div",{className:"accessibility-statement-header-content"},r.a.createElement("h1",{className:"accessibility-statement-header"},"Saavutettavuus\xadseloste"),r.a.createElement(F,{className:"accessibility-statement-icon-btn",onClick:e,label:"Sulje"},r.a.createElement("div",{className:"go-back-button"}))),r.a.createElement("p",{className:"bold-text"},"(voimassa 27.4.2020 alkaen)"),r.a.createElement("div",{className:"service-info-content"},r.a.createElement("p",null,"T\xe4m\xe4 on ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelun saavutettavuusseloste."),r.a.createElement("h2",{className:"accessibility-statement-headline"},"Mit\xe4 tarkoittavat saavutettavuus ja saavutettavuusseloste?"),r.a.createElement("p",null,"Saavutettavuusseloste kertoo verkkopalvelun saavutettavuudesta."),r.a.createElement("p",null,"Saavutettavaa verkkopalvelu on sellainen, jota voivat k\xe4ytt\xe4\xe4 mahdollisimman monet ihmiset. Saavutettavaa verkkopalvelua voivat siis k\xe4ytt\xe4\xe4 my\xf6s ihmiset, joilla on jokin vamma tai toimintarajoite. Esimerkiksi n\xe4k\xf6vamma, kuulovamma, liikuntavamma tai kehitysvamma ei est\xe4 palvelun k\xe4ytt\xf6\xe4, jos palvelu on tehty hyvin ja saavutettavasti."),r.a.createElement("p",null,r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelussa monet asiat on tehty hyvin ja saavutettavasti, mutta joitakin asioita voidaan viel\xe4 parantaa."),r.a.createElement("h2",{className:"accessibility-statement-headline"},r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelun saavutettavuus\xa0"),r.a.createElement("p",null,r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelua koskee laki digitaalisten palvelujen tarjoamisesta.\xa0Lain mukaan julkisilla varoilla rahoitettujen verkkopalvelujen t\xe4ytyy olla saavutettavia."),r.a.createElement("p",null,r.a.createElement("a",{href:"https://www.finlex.fi/fi/laki/alkup/2019/20190306",className:"service-info-link"},"Siirry lakiin t\xe4st\xe4.")),r.a.createElement("p",null,r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelu t\xe4ytt\xe4\xe4 kriittiset saavutettavuusvaatimukset WCAG 2.1 -kriteerien mukaan. Palvelun saavutettavuuden on arvioinut Kehitysvammaliiton asiantuntija."),r.a.createElement("h2",{className:"accessibility-statement-headline"},"Sis\xe4ll\xf6t, jotka eiv\xe4t ole viel\xe4 saavutettavia"),r.a.createElement("h3",{className:"accessibility-statement-headline"},"Saavutettavuuspuutteet:"),r.a.createElement("p",null,"Ruudunlukuohjelman k\xe4ytt\xe4j\xe4 ei saa varmistusta siit\xe4, ett\xe4 profiili- ja rekister\xf6itymistietoja on muokattu onnistuneesti. \xa0"),r.a.createElement("h3",{className:"accessibility-statement-headline"},"Saavutettavuusvaatimukset, jotka eiv\xe4t t\xe4yty:"),r.a.createElement("p",null,"4.1.3 Tilasta kertovat viestit"),r.a.createElement("h3",{className:"accessibility-statement-headline"},"Syy noudattamatta j\xe4tt\xe4miselle:\xa0"),r.a.createElement("p",null,"Palvelun kaikkia ominaisuuksia ei ole viel\xe4 toteutettu. Puute korjataan mahdollisimman pian."),r.a.createElement("h2",{className:"accessibility-statement-headline"},"Sis\xe4lt\xf6, joka ei kuulu lains\xe4\xe4d\xe4nn\xf6n piiriin\xa0"),r.a.createElement("p",null,"K\xe4ytt\xe4jien tuottama tai jakama sis\xe4lt\xf6 ei kuulu lains\xe4\xe4d\xe4nn\xf6n piiriin. T\xe4llaisia sis\xe4lt\xf6j\xe4 ovat esimerkiksi viesteiss\xe4 olevat tekstit, kuvat, videot tai \xe4\xe4niviestit. N\xe4m\xe4 sis\xe4ll\xf6t eiv\xe4t v\xe4ltt\xe4m\xe4tt\xe4 ole saavutettavia."),r.a.createElement("h2",{className:"accessibility-statement-headline"},"Anna palautetta"),r.a.createElement("p",null,"Jos huomaat ",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelun saavutettavuudessa ongelmia, anna meille palautetta. Voit antaa palautetta saavutettavuudesta s\xe4hk\xf6postitse "," ",r.a.createElement("a",{className:"email-link",href:"mailto:kohdataan@kohdataan.fi"},"kohdataan@kohdataan.fi"),". Vastaamme palautteeseen kahden viikon aikana. Pyrimme jatkuvasti",r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelun saavutettavuutta."),r.a.createElement("h2",{className:"accessibility-statement-headline"},"Saavutettavuuden valvonta\xa0"),r.a.createElement("p",null,"Etel\xe4-Suomen aluehallintovirasto valvoo saavutettavuusvaatimusten toteutumista. Jos olet laittanut meille saavutettavuuspalautetta, mutta et ole tyytyv\xe4inen vastaukseen tai et saa vastausta 14 p\xe4iv\xe4n aikana, voit antaa palautetta Etel\xe4-Suomen aluehallintovirastoon. Aluehallintoviraston sivulla kerrotaan, miten palautetta annetaan ja miten se k\xe4sitell\xe4\xe4n."),r.a.createElement("p",null,r.a.createElement("a",{href:"https://www.saavutettavuusvaatimukset.fi/oikeutesi/oikeutesi-antaa-palautetta-saavutettavuudesta/",className:"service-info-link"},"Siirry aluehallintoviraston ohjeisiin t\xe4st\xe4.")),r.a.createElement("h2",{className:"accessibility-statement-headline"},r.a.createElement("span",{className:"uppercase-text"},"Kohdataan"),"-palvelun yhteystiedot\xa0"),r.a.createElement("span",null,"S\xe4hk\xf6posti: "," ",r.a.createElement("a",{className:"email-link",href:"mailto:kohdataan@kohdataan.fi"},"kohdataan@kohdataan.fi")),r.a.createElement("br",null),r.a.createElement("span",null,"Puhelinnumero: 09 348 090 (vaihde)"),r.a.createElement("br",null),r.a.createElement("h2",{className:"accessibility-statement-headline"},"Valvontaviranomaisen yhteystiedot\xa0"),r.a.createElement("span",null,"Etel\xe4-Suomen aluehallintovirasto"),r.a.createElement("br",null),r.a.createElement("span",null,"Saavutettavuuden valvonnan yksikk\xf6"),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("a",{href:"https://saavutettavuusvaatimukset.fi",className:"service-info-link"},"www.saavutettavuusvaatimukset.fi")),r.a.createElement("span",null,"S\xe4hk\xf6posti:"," ",r.a.createElement("a",{className:"email-link",href:"mailto:saavutettavuus@avi.fi"},"saavutettavuus@avi.fi")),r.a.createElement("br",null),r.a.createElement("span",null,"Puhelinnumero: 02 9501 6000"),r.a.createElement("br",null))),r.a.createElement(F,{className:"profile-modal-button accessibility-statement-modal-button",onClick:e},"Sulje")))),Et=({handleAccountCreation:e,apiErrors:a})=>{var t=Object(U.a)(),s=t.register,i=t.handleSubmit,o=t.errors,c=t.watch,u=t.setValue,m=t.setError,d=t.clearError,p=Object(n.useState)(!1),h=Object(j.a)(p,2),v=h[0],k=h[1],f=Object(n.useState)(!1),b=Object(j.a)(f,2),E=b[0],y=b[1],g=Object(n.useState)(""),N=Object(j.a)(g,2),O=N[0],x=N[1],w=Object(n.useState)(""),S=Object(j.a)(w,2),C=S[0],I=S[1],T=Object(n.useState)(""),_=Object(j.a)(T,2),P=_[0],K=_[1],D=Object(n.useState)({}),M=Object(j.a)(D,2),L=M[0],V=M[1],H=Object(n.useState)(!1),B=Object(j.a)(H,2),J=B[0],q=B[1],z=Object(n.useState)(!1),G=Object(j.a)(z,2),W=G[0],Y=G[1],Z=Object(n.useState)(!1),$=Object(j.a)(Z,2),Q=$[0],X=$[1];Object(n.useEffect)(()=>{a&&a.fields&&V(a)},[a,V]);var ee=()=>{q(!1)},ae=a=>{var t=ye.a.utc({year:P,month:C-1,day:O}).format(),n=ft({birthdate:t})>=15;n||(m("day","registrationError","Voit k\xe4ytt\xe4\xe4 palvelua, jos olet yli 15-vuotias."),m("month","registrationError","Voit k\xe4ytt\xe4\xe4 palvelua, jos olet yli 15-vuotias."),m("year","registrationError","Voit k\xe4ytt\xe4\xe4 palvelua, jos olet yli 15-vuotias.")),v||q(!0),n&&v&&e(a.firstname.trim(),a.lastname.trim(),t,a.email.trim().toLowerCase(),a.phoneNumber,a.password)};return r.a.createElement("main",{role:"main",className:"create-account-container"},r.a.createElement("h1",{className:"main-title"},"Kohdataan"),r.a.createElement("div",{className:"create-account-content-container"},r.a.createElement("h2",{className:"create-account-title"},"Rekister\xf6ityminen"),r.a.createElement("p",{className:"create-account-text"},"Anna omat tiedot. Tiedot n\xe4kyv\xe4t vain sinulle. Kaikki tiedot ovat pakollisia."),r.a.createElement("form",{className:"create-account-input-content-container",onSubmit:i(ae),autoComplete:"on"},r.a.createElement("div",{className:"formfield-container"},r.a.createElement(R,{label:"Etunimi",name:"firstname",ref:s({required:!0,minLength:2,maxLength:20,pattern:/^[a-z A-Z\xe4\xf6\xfc\xdf\xc4\xd6\xdc'-]+$/i}),ariaInvalid:!!o.firstname,inputClassName:"create-account-input-text",labelClassName:o.firstname?"create-account-errors-field":"create-account-input-field"}),r.a.createElement("div",{className:"error-text"},o.firstname&&"required"===o.firstname.type&&"Kirjoita etunimi",o.firstname&&("minLength"===o.firstname.type||"maxLength"===o.firstname.type)&&"Etunimen tulee olla 2-20 merkki\xe4 pitk\xe4.",o.firstname&&"pattern"===o.firstname.type&&"Tarkista, ett\xe4 kirjoitit etunimen oikein.")),r.a.createElement("div",{className:"formfield-container"},r.a.createElement(R,{label:"Sukunimi",name:"lastname",ref:s({required:!0,minLength:2,maxLength:30,pattern:/^[a-z A-Z\xe4\xf6\xfc\xdf\xc4\xd6\xdc'-]+$/i}),autocomplete:!0,ariaInvalid:!!o.lastname,inputClassName:"create-account-input-text",labelClassName:o.lastname?"create-account-errors-field":"create-account-input-field"}),r.a.createElement("div",{className:"error-text"},o.lastname&&"required"===o.lastname.type&&"Kirjoita sukunimi",o.lastname&&("minLength"===o.lastname.type||"maxLength"===o.lastname.type)&&"Sukunimen tulee olla 2-30 merkki\xe4 pitk\xe4.",o.lastname&&"pattern"===o.lastname.type&&"Tarkista, ett\xe4 kirjoitit sukunimen oikein.")),r.a.createElement("div",{className:o.year&&"registrationError"===o.year.type?"select-birthdate-error-container":"select-birthdate-container","aria-invalid":!1},r.a.createElement("span",{className:"birthdate-content-label"},"Syntym\xe4aika"),r.a.createElement("div",{className:"birthdate-container"},r.a.createElement("div",{className:"formfield-container"},r.a.createElement(pt,{label:"P\xe4iv\xe4",name:"day",ref:()=>s({name:"day",type:"custom"},{required:!0}),errors:o.day,ariaInvalid:!!o.day,value:String(O),noOptionsMessage:()=>"Tarkista p\xe4iv\xe4.",onChange:e=>{e&&(d("day"),x(e.value)),u("day",e?e.value:null)},inputClassName:o.day&&"required"===o.day.type?"create-birthdate-errors-field":"create-account-input-date"})),r.a.createElement("div",{className:"formfield-container"},r.a.createElement(pt,{label:"Kuukausi",name:"month",ref:()=>s({name:"month"},{required:!0}),ariaInvalid:!!o.birthdate,errors:o.month,value:String(C),noOptionsMessage:()=>"Tarkista kuukausi.",onChange:e=>{e&&(d("month"),I(e.value)),u("month",e?e.value:null)},inputClassName:o.month&&"required"===o.month.type?"create-birthdate-errors-field":"create-account-input-date"})),r.a.createElement("div",{className:"formfield-container"},r.a.createElement(pt,{label:"Vuosi",name:"year",ref:()=>s({name:"year"},{required:!0}),ariaInvalid:!!o.year,errors:o.year,value:String(P),noOptionsMessage:()=>"Tarkista vuosi.",onChange:e=>{e&&(d("year"),K(e.value)),u("year",e?e.value:null)},inputClassName:o.year&&"required"===o.year.type?"create-birthdate-errors-field":"create-account-input-date"}))),r.a.createElement("div",{className:"birthdate-error-text"},(o.day&&"required"===o.day.type||o.month&&"required"===o.month.type||o.year&&"required"===o.year.type)&&"Anna syntym\xe4aika.",(o.day&&"registrationError"===o.day.type||o.month&&"registrationError"===o.month.type||o.year&&"registrationError"===o.year.type)&&"Voit k\xe4ytt\xe4\xe4 palvelua, jos olet yli 15-vuotias.")),r.a.createElement("div",{className:"formfield-container"},r.a.createElement(R,{label:"S\xe4hk\xf6posti",name:"email",ref:s({required:!0,pattern:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i}),onChange:e=>{e&&(d("email"),V({}))},ariaInvalid:!!o.email,inputClassName:"create-account-input-text",labelClassName:o.email||L&&L.fields&&L.fields.email?"create-account-errors-field":"create-account-input-field"}),r.a.createElement("div",{className:"error-text"},o.email&&"required"===o.email.type&&"Kirjoita s\xe4hk\xf6postiosoite.",o.email&&"pattern"===o.email.type&&"Tarkista s\xe4hk\xf6postiosoite.",L&&L.fields&&L.fields.email&&r.a.createElement("p",null,"Olet jo rekister\xf6itynyt t\xe4ll\xe4 s\xe4hk\xf6postilla palveluun."))),r.a.createElement("div",{className:"formfield-container"},r.a.createElement("div",{className:"info-circle-line"},r.a.createElement(R,{label:"Puhelinnumero",name:"phoneNumber",ref:s({required:!0,minLength:6,maxLength:20,pattern:/^(\+358|00358|358|\+7|007|\+372|00372|\+46|0046|04|050)[0-9- ]{4,14}$/i}),ariaInvalid:!!o.phoneNumber,inputClassName:"create-account-input-text",labelClassName:o.phoneNumber?"create-account-errors-field":"create-account-input-field"})),r.a.createElement("div",{className:"error-text"},o.phoneNumber&&"required"===o.phoneNumber.type&&"Kirjoita puhelinnumero",o.phoneNumber&&("pattern"===o.phoneNumber.type||"minLength"===o.phoneNumber.type||"maxLength"===o.phoneNumber.type)&&"Tarkista puhelinnumero.")),r.a.createElement("div",{className:"formfield-container"},r.a.createElement("div",{className:"info-circle-line"},r.a.createElement(R,{label:"Salasana",name:"password",ref:s({required:!0,maxLength:30,pattern:/^(?=.*[0-9]+.*)(?=.*[a-z\xe4\xf6\xfc\xdf]+.*)(?=.*[A-Z\xc4\xd6\xdc]+.*)[\w\W]{10,}$/}),type:"password",ariaInvalid:!!o.password,inputClassName:"create-account-input-text",labelClassName:o.password?"create-account-errors-field":"create-account-input-field"}),r.a.createElement("div",{className:"info-circle"},r.a.createElement("button",{type:"button",onClick:()=>{y(!0)},id:"password-info",className:"info-circle-button","aria-label":"salasana-info-nappi","aria-labelledby":"password-info"})),r.a.createElement(kt,{modalIsOpen:E,closeModal:()=>{y(!1)},label:"salasana-info-modaali",content:"Salasanassa t\xe4ytyy olla v\xe4hint\xe4\xe4n 10 merkki\xe4, yksi iso kirjain, yksi pieni kirjain ja yksi numero."})),r.a.createElement("div",{className:"error-text"},o.password&&"required"===o.password.type&&"Kirjoita salasana",o.password&&"pattern"===o.password.type&&"Salasanassa t\xe4ytyy olla v\xe4hint\xe4\xe4n 10 merkki\xe4, yksi iso kirjain, yksi pieni kirjain ja yksi numero.",o.password&&"maxLength"===o.password.type&&"Salasanan on oltava enint\xe4\xe4n 30 merkki\xe4 pitk\xe4.")),r.a.createElement("div",{className:"formfield-container"},r.a.createElement(R,{label:"Salasana uudestaan",name:"passwordConfirm",ref:s({required:!0,validate:e=>e===c("password")}),type:"password",ariaInvalid:!!o.passwordConfirm,inputClassName:"create-account-input-text",labelClassName:o.passwordConfirm?"create-account-errors-field":"create-account-input-field"}),r.a.createElement("div",{className:"error-text"},o.passwordConfirm&&"required"===o.passwordConfirm.type&&"Kirjoita salasana uudestaan",o.passwordConfirm&&"validate"===o.passwordConfirm.type&&"Salasanat eiv\xe4t ole samat.")),r.a.createElement(ut,{setRulesAccepted:k,setOpenErrorModal:q}),!v&&r.a.createElement(A,{modalIsOpen:J,closeModal:ee,label:"K\xe4ytt\xf6ehtoja ei hyv\xe4ksytty"},r.a.createElement("div",null,r.a.createElement(F,{className:"icon-btn go-back-button close-modal-icon-btn",onClick:ee,label:"Sulje"}),r.a.createElement("h3",{className:"accept-rules-modal-text"},"Jos haluat k\xe4ytt\xe4\xe4 palvelua, sinun t\xe4ytyy hyv\xe4ksy\xe4 k\xe4ytt\xf6ehdot."))),r.a.createElement("button",{type:"submit",className:"create-account-button",onKeyPress:i(ae),tabIndex:"0"},"Rekister\xf6idy ")),r.a.createElement("div",{className:"create-account-links-container"},r.a.createElement(l.b,{className:"create-account-link-block",to:"/login",tabIndex:0},"Olen vanha k\xe4ytt\xe4j\xe4 ja haluan kirjautua sis\xe4\xe4n."),r.a.createElement(l.b,{className:"create-account-link-block",to:"/registrationproblem"},"Tarvitsen apua rekister\xf6itymisess\xe4."),r.a.createElement(F,{className:"create-account-link-block create-account-link-item create-account-link",onClick:()=>Y(!0)},"Tutustu tietosuojaselosteeseen."),r.a.createElement(A,{modalIsOpen:W,closeModal:()=>Y(!1),label:"Tietosuojaseloste",isLong:!0,aria:{label:"Tietosuojaseloste",modal:!0}},r.a.createElement("aside",{id:"Tietosuojaseloste",className:"privacy-policy-container"},r.a.createElement(ot,{closeModal:()=>Y(!1)}))),r.a.createElement(F,{className:"create-account-link-block create-account-link-item create-account-link",role:"link",onClick:()=>X(!0)},"Tutustu saavutettavuusselosteeseen."),r.a.createElement(A,{modalIsOpen:Q,closeModal:()=>X(!1),label:"Saavutettavuusseloste",isLong:!0,aria:{label:"Saavutettavuusseloste",modal:!0}},r.a.createElement("aside",null,r.a.createElement(bt,{closeModal:()=>X(!1)}))))))};Et.defaultProps={apiErrors:{name:"",errors:[],fields:{}}};var yt=Object(n.memo)(Et),jt=Object(n.memo)(e=>{var a=e.history,t=Object(n.useState)(null),s=Object(j.a)(t,2),i=s[0],l=s[1];Object(n.useEffect)(()=>(document.body.className="create-account-body",()=>{document.body.className=""}));var o=function(){var e=Object(m.a)(u.a.mark((function e(t,n,r,s,i,o){var c,m,d,p,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((c=i.replace(/ /g,"")).startsWith("+358")?c=c.replace("+358","0"):c.startsWith("358")?c=c.replace("358","0"):c.startsWith("00358")?c=c.replace("00358","0"):(c.startsWith("+7")||c.startsWith("+372")||c.startsWith("+46"))&&(c=c.replace("+","00")),(m="".concat(lt()("-"))).length>22&&(m=m.slice(0,22)),e.prev=4,!(d={first_name:t,last_name:n,birthdate:r,email:s,phoneNumber:i,username:m,nickname:"K\xe4ytt\xe4j\xe4",password:o})){e.next=16;break}return e.next=9,z(d);case 9:if(!(p=e.sent)||!p.success){e.next=15;break}return h={email:s},e.next=14,le(h);case 14:a.push("/registration-success");case 15:l(p.error);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(4),console.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(a,t,n,r,s,i){return e.apply(this,arguments)}}();return r.a.createElement(yt,{handleAccountCreation:o,apiErrors:i})},(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)}),gt=(t(387),Object(n.memo)(()=>r.a.createElement("div",{className:"registration-title-container"},r.a.createElement("h1",{className:"registration-title"},"Kohdataan")))),Nt={info:{current:"info",next:"add-nickname"},"add-nickname":{current:"add-nickname",next:"add-show-age",previous:"info"},"add-show-age":{current:"add-show-age",next:"add-location",previous:"add-nickname"},"add-location":{current:"add-location",next:"add-description",previous:"add-show-age"},"add-description":{current:"add-description",next:"add-image",previous:"add-location"},"add-image":{current:"add-image",next:"add-interests",previous:"add-description"},"add-interests":{current:"add-interests",previous:"add-image",last:!0}},Ot=(t(388),Object(n.memo)(e=>{var a=e.params,t=a.next,n=a.previous,s=a.last,i=e.onClick,o=e.nextButtonActive,c=e.setOpenModal,d=e.history,p=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:d.push("/me");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"step-button-container"},n&&r.a.createElement(l.b,{className:"next-step-button",to:"/registration/".concat(n)},"Edellinen"),t&&o&&r.a.createElement(l.b,{className:"next-step-button",to:"/registration/".concat(t),onClick:i},"Seuraava"),t&&!o&&r.a.createElement("div",{className:"next-step-button-inactive"},"Seuraava"),s&&o&&r.a.createElement(F,{className:"next-step-button",onClick:p},"Tallenna"),s&&!o&&r.a.createElement(F,{className:"next-step-button-inactive",onClick:()=>c(!0)},"Tallenna"))})),xt=(t(389),Object(n.memo)(()=>r.a.createElement("main",{role:"main",className:"registration-info-container "},r.a.createElement("h2",{className:"registration-description"},"Tervetuloa tutustumaan uusiin ihmisiin!"),r.a.createElement("div",{className:"registration-info-text-container"},r.a.createElement("p",{className:"registration-info-text"},"Vastaa muutamaan kysymykseen, jotta muut voivat tutustua sinuun. Voit muokata kaikkia vastauksia my\xf6hemmin omassa profiilissa."))))),wt=(t(390),Object(n.memo)(e=>{var a=e.children;return r.a.createElement("div",{className:"shadow-box-container"},a)})),St=e=>{var a=e.label,t=e.labelClassName,n=e.showPlaceholder,s=e.showLabel,i=e.value,l=e.inputClassName,o=e.onChange,c=e.type,u=e.ariaRequired;return r.a.createElement("label",{htmlFor:a,className:l},s&&a,r.a.createElement("input",{type:c,name:a,id:a,"aria-label":a,value:i,placeholder:n?a:"",className:t,onChange:o,"aria-required":u}))};St.defaultProps={type:"text",showLabel:!0,value:"",inputClassName:"",labelClassName:"",showPlaceholder:!0,ariaRequired:!1};var Ct=Object(n.memo)(St),It=(t(391),e=>{var a=e.onChange,t=e.value,n=e.hideStep;return r.a.createElement(wt,null,r.a.createElement("main",{role:"main",className:"add-user-nickname-container"},r.a.createElement("div",{className:"profile-creation-title-container"},r.a.createElement("h2",{className:"profile-creation-title"},"Kerro kuka olet."),!n&&r.a.createElement("span",{className:"profile-creation-step-text"},"1/6")),r.a.createElement(Ct,{inputClassName:"add-user-nickname-text",labelClassName:"add-user-nickname-field",label:"Kutsumanimi",showLabel:!1,onChange:a,value:t,ariaRequired:!0}),r.a.createElement("p",{className:"add-user-nickname-title"},"T\xe4m\xe4 nimi n\xe4kyy muille.")))});It.defaultProps={hideStep:!1};var Tt=Object(n.memo)(It),At=(t(392),e=>{var a=e.name,t=e.labelClassName,n=e.inputClassName,s=e.value,i=e.onChange,l=e.label,o=e.checked;return r.a.createElement("label",{htmlFor:l,className:"radio-button ".concat(t)},l,r.a.createElement("input",{type:"radio",name:a,id:l,value:s,onChange:i,className:n,checked:o,onKeyPress:i,tabIndex:0}),r.a.createElement("span",{className:"radio-button-checkmark"}))});At.defaultProps={value:"",inputClassName:"",labelClassName:"",checked:!1};var _t=Object(n.memo)(At),Pt=(t(393),e=>{var a=e.onChange,t=e.showAge,n=e.age,s=e.hideStep;return r.a.createElement(wt,null,r.a.createElement("main",{role:"main",className:"add-user-show-age-container"},r.a.createElement("div",{className:"profile-creation-title-container"},r.a.createElement("h2",{className:"profile-creation-title"},"Ik\xe4si:",r.a.createElement("span",{className:"add-user-show-age-value"}," ".concat(n," vuotta"))),!s&&r.a.createElement("span",{className:"profile-creation-step-text"},"2/6")),r.a.createElement(_t,{label:"N\xe4yt\xe4 ik\xe4 muille.",name:"agePermission",value:"showAge",onChange:()=>a(!0),checked:"true"===t}),r.a.createElement(_t,{label:"\xc4l\xe4 n\xe4yt\xe4 ik\xe4\xe4 muille.",name:"agePermission",value:"hideAge",onChange:()=>a(!1),checked:"false"===t})))});Pt.defaultProps={hideStep:!1};var Kt=Object(n.memo)(Pt),Ft=(t(394),e=>{var a=e.label,t=e.showLabel,n=e.value,s=e.inputClassName,i=e.labelClassName,l=e.onChange,o=e.maxLength,c=e.rows;return r.a.createElement("label",{htmlFor:a,className:s},t&&a,r.a.createElement("textarea",{type:"text",name:a,id:a,"aria-label":a,value:n,placeholder:a,className:i,onChange:l,maxLength:o,rows:c}))});Ft.defaultProps={showLabel:!0,value:"",inputClassName:"",labelClassName:"",maxLength:1e3,rows:4};var Ut=Object(n.memo)(Ft),Dt=(t(395),e=>{var a=e.onChange,t=e.value,n=e.hideStep;return r.a.createElement(wt,null,r.a.createElement("main",{role:"main",className:"add-user-description-container"},r.a.createElement("div",{className:"profile-creation-title-container"},r.a.createElement("h2",{className:"profile-creation-title"},"Kerro itsest\xe4si."),!n&&r.a.createElement("span",{className:"profile-creation-step-text"},"4/6")),r.a.createElement(Ut,{inputClassName:"add-user-description-text",labelClassName:"add-user-description-field",label:"Kerro itsest\xe4si",showLabel:!1,onChange:a,value:t,maxLength:200}),r.a.createElement("div",{className:"add-user-description-details-container"},r.a.createElement("div",null,"T\xe4m\xe4 kuvaus n\xe4kyy muille.",r.a.createElement("br",null),"Voit lis\xe4t\xe4 kuvauksen my\xf6hemmin."),r.a.createElement("div",{className:"add-user-description-limit"},"".concat(t.length,"/").concat(200)))))});Dt.defaultProps={value:"",hideStep:!1};var Mt=Object(n.memo)(Dt),Lt=t(229),Rt=t(240),Vt=(t(398),t(399),t(234)),Ht=t.n(Vt),Bt=(t(400),Object(n.memo)(e=>{var a=e.onChange,t=e.setShowFileLoader,s=Object(n.useState)(!1),i=Object(j.a)(s,2),l=i[0],o=i[1],c=r.a.createRef(),u={fontSize:"115",width:"130px",height:"130px",display:"block",textAlign:"center",border:"1px solid #000000",borderStyle:"solid",borderRadius:"50%",margin:"10px",background:"url(".concat(Ht.a,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"40%"},m=e=>{if(e.preventDefault(),(e=>{e.target.files[0].size>5e7&&(o(!0),e.target.value="")})(e),e.target.value){var n=e.target.files[0];a(n),t(!1)}};return r.a.createElement("div",null,r.a.createElement("div",{className:"upload-file-container"},r.a.createElement("input",{onChange:e=>m(e),name:"image-upload",id:"image-upload",type:"file",accept:"image/*",className:"input-content",ref:c}),r.a.createElement(F,{className:"icon-btn",onClick:()=>{c.current.click()},label:"Lis\xe4\xe4 kuva"},r.a.createElement("div",{style:u},"\xa0"))),r.a.createElement(A,{modalIsOpen:l,label:"Tiedosto on liian suuri",closeModal:()=>o(!1)},r.a.createElement("div",null,r.a.createElement("p",{className:"image-max-size-exceeded-text"},"Tiedosto on liian suuri!"),r.a.createElement(F,{className:"icon-btn go-back-button image-max-size-exceeded",onClick:()=>o(!1),label:"Sulje"}))))})),Jt=e=>{var a=e.onChange,t=e.hideStep,s=Object(n.useState)(!0),i=Object(j.a)(s,2),l=i[0],o=i[1],c=Object(n.useState)(0),u=Object(j.a)(c,2),m=u[0],d=u[1],p=Object(n.useState)(1),h=Object(j.a)(p,2),v=h[0],k=h[1],f=Object(n.useState)({x:.5,y:.5}),b=Object(j.a)(f,2),E=b[0],y=b[1],g=Object(n.useState)(null),N=Object(j.a)(g,2),O=N[0],x=N[1],w=Object(n.useState)(!1),S=Object(j.a)(w,2),C=S[0],I=S[1],T=r.a.createRef(),A=(e,a)=>{k("down"===e&&1===v?1:"up"===e&&3===v?3:parseFloat(a))};return Object(n.useEffect)(()=>{(()=>{if(T&&T.current){var e=T.current.getImageScaledToCanvas().toDataURL();a(e)}})()},[m,v,C,T,a]),r.a.createElement(wt,null,r.a.createElement("main",{role:"main",className:"add-user-picture-container"},r.a.createElement("div",{className:"add-user-picture-title-container"},r.a.createElement("h2",{className:"profile-creation-title add-user",id:"add-user-picture-title-text"},"Valitse oma kuva."),!t&&r.a.createElement("span",{className:"profile-creation-step-text add-user-picture-step-text"},"5/6")),r.a.createElement("div",{className:"add-user-picture-content-container"},l?r.a.createElement(Bt,{onChange:x,setShowFileLoader:o}):r.a.createElement("div",{className:"image-preview-container"},r.a.createElement(F,{className:"icon-btn close-preview-button",onClick:()=>{a(null),k(1),d(0),o(!0),y({x:.5,y:.5}),I(!1)},label:"Sulje"},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement(Lt.a,{ref:T,image:O,width:200,height:200,border:50,borderRadius:100,color:[255,255,255,.8],scale:parseFloat(v),rotate:parseFloat(m),position:E,onPositionChange:e=>{y(e)},className:"add-user-picture-picker",onImageReady:()=>I(!0)}),r.a.createElement("div",{className:"controls-button-container"},r.a.createElement(F,{className:"icon-btn rotate-btn",onClick:()=>{d(m+90)},label:"K\xe4\xe4nn\xe4"},r.a.createElement("i",{className:"fas fa-retweet"})),r.a.createElement("br",null),r.a.createElement("div",{className:"zoom-controls-container"},r.a.createElement(F,{className:"icon-btn",onKeyPress:()=>A("down",v-.02),onClick:()=>A("down",v-.02),label:"Pienenn\xe4"},r.a.createElement("i",{className:"fas fa-minus zoom-control-sign"})),r.a.createElement(Rt.a,{defaultValue:1,ariaLabelForHandle:"zoom",tabIndex:0,handleStyle:{borderColor:"gray",height:20,width:20,marginLeft:10,marginRight:10,backgroundColor:"white"},railStyle:{height:15,marginLeft:10,marginRight:10},trackStyle:{height:15,marginLeft:10,marginRight:10,backgroundColor:"gray"},value:v,onChange:e=>{k(parseFloat(e))},min:1,max:3,step:.01}),r.a.createElement(F,{className:"icon-btn",onKeyDown:()=>A("up",v+.02),onClick:()=>A("up",v+.02),label:"Suurenna"},r.a.createElement("i",{className:"fas fa-plus zoom-control-sign"}))),r.a.createElement("br",null))),r.a.createElement("div",{className:"add-user-picture-text"},r.a.createElement("p",{className:"add-user-topmost-text"},"T\xe4m\xe4 kuva n\xe4kyy muille."),r.a.createElement("p",null,"Voit lis\xe4t\xe4 kuvan my\xf6s my\xf6hemmin.")))))};Jt.defaultProps={hideStep:!1};var qt=Object(n.memo)(Jt),zt=function(){var e=Object(m.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/location/"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 4:return t=e.sent,e.abrupt("return",B(t));case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),Gt=(t(401),e=>{var a=Object(n.useState)([]),t=Object(j.a)(a,2),s=t[0],i=t[1],l=e.value,o=e.onChange,c=e.setShowLocation,d=e.showLocation,p=e.hideStep;Object(n.useEffect)(()=>{function e(){return(e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zt(localStorage.getItem("authToken"));case 2:a=e.sent,i(a.map(e=>({value:e,label:e})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var h={menu:e=>Object(Je.a)(Object(Je.a)({},e),{},{borderRadius:0,border:"1px solid black"}),option:(e,a)=>Object(Je.a)(Object(Je.a)({},e),{},{color:"black",backgroundColor:a.isSelected?"lightgrey":"white"}),control:e=>Object(Je.a)(Object(Je.a)({},e),{},{borderRadius:0,marginTop:"5%",border:"1px solid black",boxShadow:"none"}),dropdownIndicator:e=>Object(Je.a)(Object(Je.a)({},e),{},{color:"#f59023"}),indicatorSeparator:()=>({border:0}),placeholder:e=>Object(Je.a)(Object(Je.a)({},e),{},{color:"white"})};return r.a.createElement(wt,null,r.a.createElement("main",{role:"main",className:"add-user-location-container"},r.a.createElement("div",{className:"profile-creation-title-container"},r.a.createElement("h2",{className:"profile-creation-title"},"Asuinpaikkasi:"),!p&&r.a.createElement("span",{className:"profile-creation-step-text"},"3/6")),r.a.createElement(mt.a,{className:"basic-single",classNamePrefix:"select",defaultValue:s[0],placeholder:"Kirjoita",isSearchable:!0,name:"color",options:s,value:l,onChange:o,styles:h,"aria-label":"Asuinpaikka","aria-required":!0}),r.a.createElement(_t,{label:"N\xe4yt\xe4 asuinpaikka muille.",name:"locationPermission",value:"showLocation",onChange:()=>c(!0),checked:"true"===d}),r.a.createElement(_t,{label:"\xc4l\xe4 n\xe4yt\xe4 asuinpaikkaa muille.",name:"locationPermission",value:"hideLocation",onChange:()=>c(!1),checked:"false"===d})))});Gt.defaultProps={hideStep:!1};var Wt=Object(n.memo)(Gt),Yt=(t(402),t(403),[{key:"El\xe4imet",icon:"fas fa-paw fa-fw"},{key:"Matkustus",icon:"fas fa-globe-europe fa-fw"},{key:"Urheilu",icon:"fas fa-volleyball-ball fa-fw"},{key:"Luonto",icon:"fas fa-tree fa-fw"},{key:"Elokuvat",icon:"fas fa-film fa-fw"},{key:"Ruoka",icon:"fas fa-utensils fa-fw"},{key:"Tekniikka",icon:"fas fa-cogs fa-fw"},{key:"Musiikki",icon:"fas fa-music fa-fw"},{key:"Taide",icon:"fas fa-palette fa-fw"},{key:"Lukeminen",icon:"fas fa-book fa-fw"},{key:"Politiikka",icon:"fas fa-gavel fa-fw"},{key:"Historia",icon:"fas fa-landmark fa-fw"},{key:"K\xe4sity\xf6t",icon:"fas fa-paint-brush fa-fw"},{key:"Pelaaminen",icon:"fas fa-gamepad fa-fw"},{key:"Valokuvaus",icon:"fas fa-camera fa-fw"}]),Zt=e=>Yt.find(a=>a.key===e).icon,$t=Object(n.memo)(e=>{var a=e.options,t=e.interests,s=e.setInterests,i=Object(n.useState)(a),l=Object(j.a)(i,2),o=l[0],c=l[1],u=Object(n.useRef)(t),m=Object(n.useState)(!1),d=Object(j.a)(m,2),p=d[0],h=d[1];Object(n.useEffect)(()=>{c(Object.values(a).sort((e,a)=>u.current.includes(e.id)?u.current.includes(a.id)&&e.name>a.name?1:-1:u.current.includes(a.id)||e.name>a.name?1:-1))},[a]);var v=()=>{h(!1)},k=e=>()=>{(e=>t.includes(e))(e)?(e=>{var a=[...t],n=t.indexOf(e);n>-1&&(a.splice(n,1),s(a))})(e):(e=>{if(t.length<5){var a=[...t];a.push(e),s(a)}else 5===t.length&&h(!0)})(e)};return r.a.createElement("div",{className:"interests-grid"},o.map(e=>r.a.createElement("button",{key:e.id,role:"checkbox","aria-checked":t.includes(e.id),type:"button",className:"".concat(t.includes(e.id)?"interests-grid-item-selected":""," interests-grid-edit-button interests-grid-edit-item"),onClick:k(e.id)},r.a.createElement("i",{"aria-hidden":"true",className:Zt(e.name),title:e.name}),r.a.createElement("span",{className:"interests-grid-label"},e.name))),r.a.createElement(A,{modalIsOpen:p,closeModal:v,label:"Voit valita korkeintaan viisi kiinnostusta"},r.a.createElement("div",null,r.a.createElement("h3",{className:"interests-modal-text"},"Voit valita enint\xe4\xe4n viisi kiinnostavaa asiaa."),r.a.createElement("p",null,"Voit poistaa valinnan, kun klikkaat sit\xe4 uudestaan."),r.a.createElement(F,{className:"icon-btn interests-icon-btn",onClick:v,label:"Sulje"},r.a.createElement("div",{className:"go-back-button"})))))}),Qt=e=>{var a=e.options,t=e.interests,n=e.setInterests,s=e.hideStep;return r.a.createElement("main",{role:"main",className:"add-user-interests-container"},r.a.createElement("h2",{className:"profile-creation-title"},"Kerro, mik\xe4 sinua kiinnostaa."),r.a.createElement("p",null,"Ehdotamme sinulle kiinnostustesi mukaan keskusteluryhmi\xe4, joissa voit tutustua uusiin ihmisiin."),r.a.createElement("div",{className:"profile-creation-title-container"},r.a.createElement("h2",{className:"profile-creation-title"},"Valitse 3-5"),!s&&r.a.createElement("span",{className:"profile-creation-step-text"},"6/6")),r.a.createElement($t,{options:a,interests:t,setInterests:n}))};Qt.defaultProps={hideStep:!1};var Xt=Object(n.memo)(Qt),en=e=>{if(e){var a="image/jpeg",t=e.toLowerCase();-1!==t.indexOf("png")?a="image/png":-1!==t.indexOf("jpg")?a="image/jpg":-1!==t.indexOf("jpeg")?a="image/jpeg":-1!==t.indexOf("bmp")&&(a="image/bmp");for(var n=atob(e.split(",")[1]),r=[],s=0;s<n.length;s++)r.push(n.charCodeAt(s));return new Blob([new Uint8Array(r)],{type:a})}},an=(t(404),Object(n.memo)(e=>{var a=(e||null).errorMessage;return r.a.createElement("div",{className:"error-notification-container"},r.a.createElement("p",null,a))})),tn=(e,a)=>{var t=e[0].toLowerCase(),n=a.username;return t.concat(n.substr(0,21))},nn=e=>{var a=e.match.params.step,t=e.mattermostId,s=e.interestOptions,i=e.registrationError,l=e.userBirthdate,o=e.mmuser,c=e.setDefaultProfileImage,d=e.history,p=Object(n.useState)(""),h=Object(j.a)(p,2),k=h[0],f=h[1],b=Object(n.useState)(""),E=Object(j.a)(b,2),y=E[0],g=E[1],N=Object(n.useState)(""),O=Object(j.a)(N,2),x=O[0],w=O[1],S=Object(n.useState)(""),C=Object(j.a)(S,2),I=C[0],T=C[1],_=Object(n.useState)(""),P=Object(j.a)(_,2),K=P[0],U=P[1],D=Object(n.useState)(null),M=Object(j.a)(D,2),L=M[0],R=M[1],V=Object(n.useState)(!1),H=Object(j.a)(V,2),B=H[0],J=H[1],q=Object(n.useState)([]),z=Object(j.a)(q,2),G=z[0],W=z[1],Y=Object(n.useState)(!0),Z=Object(j.a)(Y,2),$=Z[0],Q=Z[1],X=Object(n.useState)(!1),ee=Object(j.a)(X,2),ae=ee[0],te=ee[1],ne=e=>{e&&!$?Q(!0):!e&&$&&Q(!1)},re=e=>{switch(e){case"add-nickname":k.length<1?ne(!1):ne(!0);break;case"add-show-age":ne(""!==y);break;case"add-location":ne(""!==x&&""!==I);break;case"add-interests":G.length<3||G.length>5?ne(!1):ne(!0);break;default:ne(!0)}},se=function(){var n=Object(m.a)(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=a,n.next=n.t0===Nt["add-nickname"].current?3:n.t0===Nt["add-show-age"].current?7:n.t0===Nt["add-location"].current?8:n.t0===Nt["add-description"].current?9:n.t0===Nt["add-image"].current?10:n.t0===Nt["add-interests"].current?13:14;break;case 3:return r=tn(k,o),n.next=6,e.updateUser({nickname:k,username:r,mmid:t});case 6:return n.abrupt("return",c(t));case 7:return n.abrupt("return",e.updateUser({showAge:y}));case 8:return n.abrupt("return",e.updateUser({location:x.value,showLocation:I}));case 9:return n.abrupt("return",e.updateUser({description:K}));case 10:return n.next=12,e.updateUser({imageUploaded:B});case 12:return n.abrupt("return",e.uploadProfileImage(t,en(L)));case 13:return n.abrupt("return",e.addUserInterests({userInterests:G}));case 14:return n.abrupt("return",void 0);case 15:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),ie=function(){var t=Object(m.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Nt[a].last){t.next=3;break}return t.next=3,e.updateUser({profileReady:!0,imageUploaded:B});case 3:return t.next=5,se();case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),le=()=>{te(!1)};return r.a.createElement(v,{className:"registration-container"},r.a.createElement(gt,null),(()=>{switch(a){case Nt.info.current:return re("info"),r.a.createElement(xt,null);case Nt["add-nickname"].current:return re("add-nickname"),r.a.createElement(Tt,{value:k,onChange:e=>f(e.target.value)});case Nt["add-show-age"].current:return re("add-show-age"),r.a.createElement(Kt,{onChange:g,age:ft({birthdate:l}),showAge:y.toString()});case Nt["add-location"].current:return re("add-location"),r.a.createElement(Wt,{onChange:e=>w(e),value:x,setShowLocation:T,showLocation:I.toString()});case Nt["add-description"].current:return re("add-description"),r.a.createElement(Mt,{value:K,onChange:e=>U(e.target.value)});case Nt["add-image"].current:return re("add-image"),r.a.createElement(qt,{onChange:e=>(R(e),void J(!0))});case Nt["add-interests"].current:return re("add-interests"),r.a.createElement(Xt,{options:s,interests:G,setInterests:W});default:return}})(),!i&&r.a.createElement(Ot,{params:Nt[a],onClick:ie,nextButtonActive:$,setOpenModal:te,history:d}),r.a.createElement(A,{modalIsOpen:ae,closeModal:le,label:"K\xe4ytt\xe4j\xe4ll\xe4 voi olla enint\xe4\xe4n viisi kiinnostusta."},r.a.createElement("div",null,r.a.createElement("h3",{className:"interests-modal-text"},"Valitse v\xe4hint\xe4\xe4n kolme kiinnostavaa asiaa."),r.a.createElement("p",null,"Voit lis\xe4t\xe4 valinnan klikkaamalla."),r.a.createElement(F,{className:"icon-btn interests-icon-btn",onClick:le,label:"Sulje"},r.a.createElement("div",{className:"go-back-button"})))),i&&r.a.createElement(an,{errorMessage:i}))};nn.defaultProps={registrationError:null,interestOptions:[],userBirthdate:""};var rn=Object(d.g)(Object(o.b)(e=>{var a=e.entities.users.currentUserId;return{mattermostId:a,mmuser:e.entities.users.profiles&&e.entities.users.profiles[a],interestOptions:e.interests.results,registrationError:e.user.errorMessage,userBirthdate:e.user.birthdate}},e=>Object(p.bindActionCreators)({updateUser:Ge,uploadProfileImage:f.uploadProfileImage,addUserInterests:$e,getInterestsAction:na,getUser:f.getUser,setDefaultProfileImage:f.setDefaultProfileImage},e))(Object(n.memo)(nn,(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)}))),sn=(t(405),Object(n.memo)(()=>r.a.createElement("div",{className:"registration-success-container"},r.a.createElement("h1",{className:"main-title"},"Kohdataan"),r.a.createElement("div",{className:"registration-success-content-container"},r.a.createElement("p",{className:"registration-success-text"},"Kiitos rekister\xf6itymisest\xe4!"),r.a.createElement("p",null,"L\xe4hetimme sinulle s\xe4hk\xf6postilla linkin, josta p\xe4\xe4set vahvistamaan s\xe4hk\xf6postisi ja kirjautumaan palveluun."),r.a.createElement("div",{className:"registration-info-content"},r.a.createElement("ol",{className:"registration-info-list"},r.a.createElement("li",null,"Avaa s\xe4hk\xf6posti."),r.a.createElement("li",null,'Olet saanut viestin, jossa on l\xe4hett\xe4j\xe4n\xe4 "Kohdataan" ja aiheena "Rekister\xf6ityminen".'),r.a.createElement("li",null,"Kun klikkaat viestiss\xe4 olevaa linkki\xe4, vahvistat s\xe4hk\xf6postisi ja p\xe4\xe4set palvelun kirjautumissivulle."),r.a.createElement("li",null,"Kirjoita sivulle s\xe4hk\xf6postisi ja salasana, jonka annoit rekister\xf6itymisess\xe4."),r.a.createElement("li",null,'Kun klikkaat "Kirjaudu", olet palvelussa!')),r.a.createElement("p",{className:"reminder-content-text,"},"Jos et l\xf6yd\xe4 s\xe4hk\xf6postistasi viesti\xe4, muista tarkistaa my\xf6s roskapostikansio."),r.a.createElement("p",null,"Voit my\xf6s pyyt\xe4\xe4, ett\xe4 l\xe4het\xe4mme sinulle"," ",r.a.createElement(l.b,{className:"resend-verification-link",to:"/email-verification"},"vahvistuslinkin uudestaan."))),r.a.createElement("hr",{className:"divider"}),r.a.createElement("div",{className:"resend-verification-link-container"}),r.a.createElement("div",{className:"registration-link-container"},r.a.createElement(l.b,{className:"registration-link",to:"/registrationproblem"},"Tarvitsen apua rekister\xf6itymisess\xe4.")))))),ln=Object(n.memo)(()=>r.a.createElement(sn,null),(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)}),on=(t(406),Object(n.memo)(()=>r.a.createElement("div",{className:"thankyou-message-container"},r.a.createElement("h1",{className:"main-title"},"Kohdataan"),r.a.createElement("div",{className:"thankyou-message-content-container"},r.a.createElement("div",null,r.a.createElement("p",{className:"registration-success-text"},"Kiitos viestist\xe4."),r.a.createElement("p",null,"Vastaamme sinulle s\xe4hk\xf6postilla mahdollisimman pian.")),r.a.createElement("div",{className:"registration-problem-links-container"},r.a.createElement(l.b,{className:"registration-problem-link",to:"/login"},"Olen vanha k\xe4ytt\xe4j\xe4 ja haluan kirjautua sis\xe4\xe4n."),r.a.createElement(l.b,{className:"registration-problem-link",to:"/createaccount"},"Olen uusi k\xe4ytt\xe4j\xe4 ja haluan rekister\xf6ity\xe4."),r.a.createElement(l.b,{className:"registration-problem-link",to:"/reset-password"},"Olen unohtanut salasanani.")))))),cn=Object(n.memo)(()=>r.a.createElement(on,null),(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)}),un=(t(407),t(408),Object(n.memo)(e=>{var a=e.mmuser,t="".concat('"https://someapi.kohdataan.fi"',"/api/v4/users/").concat(a.id,"/image?").concat(Date.now());return r.a.createElement("div",{className:"profile-header-image"},a.id&&r.a.createElement("img",{className:"profile-img",src:t,alt:"Profiilikuva"}),r.a.createElement("span",{className:"sr-only"},"Profiilikuva"))}));t(409);class mn extends n.PureComponent{render(){var e=(this.props||"").text;return r.a.createElement("section",{className:"description-container"},r.a.createElement("h2",{className:"profile-secondary-header"},"Kuvaus"),r.a.createElement("div",{className:"description-text"},e))}}var dn=mn,pn=(t(410),Object(n.memo)(e=>{var a=[...e.interestList].sort((e,a)=>e.name>a.name?1:-1);return r.a.createElement("div",{className:"interests-grid"},a.map(e=>r.a.createElement("div",{className:"interests-grid-item-container",key:e.id},r.a.createElement("span",{className:"interests-grid-item"},r.a.createElement("i",{"aria-hidden":"true",className:Zt(e.name),title:e.name}),r.a.createElement("span",{className:"interests-grid-label"},e.name)))))})),hn=(t(411),e=>{var a=e.nickname,t=e.location,n=e.showAge,s=e.showLocation,i=e.birthdate;return r.a.createElement("div",{className:"profile-header-item"},r.a.createElement("span",{className:"sr-only"},"K\xe4ytt\xe4j\xe4n nimi"),r.a.createElement("h1",{className:"profile-header-nickname"},a),n&&r.a.createElement("p",{className:"profile-header-text"},"".concat(ft({birthdate:i})," vuotta")),s&&r.a.createElement("p",{className:"profile-header-text"},t))});hn.defaultProps={nickname:"",location:"",showAge:!1,showLocation:!1,birthdate:""};var vn=Object(n.memo)(hn),kn=(t(412),e=>{var a=e.isHighlighted,t=e.label,n=["user-edit-button",a?"user-edit-button-highlight":""];return r.a.createElement("div",{className:"profile-header-item"},r.a.createElement(F,{onClick:()=>{},className:n.join(" "),label:t},"Muokkaa"))});kn.defaultProps={isHighlighted:!1,label:""};var fn=Object(n.memo)(kn),bn=e=>{var a=e.currentUserId,t=e.mmuser,s=e.myUserInfo,i=e.ownProfile,o=e.userInterests,c=e.startDirectChannel,u=e.updateUser,m=e.history,d=Object(n.useState)(!1),p=Object(j.a)(d,2),h=p[0],v=p[1];Object(n.useEffect)(()=>{m.location.state&&m.location.state.navigateBack&&v(!0)},[m.location.state]);var k=s.location,f=s.description,b=s.tutorialWatched,E=s.nickname,y=s.birthdate,g=s.showAge,N=s.showLocation,O=[{content:r.a.createElement("div",{"aria-label":"tutoriaali-1"},r.a.createElement("p",{className:"tutorial-step"},"1/6"),r.a.createElement("h1",{className:"tutorial-header"},"Seuraavilla sivuilla esittelemme sinulle Kohdataan-somen!")),placement:"center",target:"body",disableBeacon:!0},{target:".nav-link-Profiili",content:r.a.createElement("div",{"aria-label":"tutoriaali-2",role:"dialog",tabIndex:-1},r.a.createElement("p",{className:"tutorial-step"},"2/6"),r.a.createElement("h1",{className:"tutorial-header"},"T\xe4m\xe4 on oma profiilisi!"),r.a.createElement("p",{className:"tutorial-text"},"L\xf6yd\xe4t sen kohdasta Profiili."))},{target:".user-edit-button",content:r.a.createElement("div",{"aria-label":"tutoriaali-3",role:"dialog",tabIndex:-1},r.a.createElement("p",{className:"tutorial-step"},"3/6"),r.a.createElement("h1",{className:"tutorial-header"},"Profiilisi tiedot n\xe4kyv\xe4t my\xf6s muille."),r.a.createElement("p",{className:"tutorial-text"},"Voit muokata tietoja kohdasta Muokkaa."))},{target:".nav-bot",content:r.a.createElement("div",{"aria-label":"tutoriaali-4",role:"dialog",tabIndex:-1},r.a.createElement("p",{className:"tutorial-step"},"4/6"),r.a.createElement("h1",{className:"tutorial-header"},"Jos tarvitset apua tai haluat l\xe4hett\xe4\xe4 valvojalle viestin, voit klikata Bottia."),r.a.createElement("p",{className:"tutorial-text"},"L\xf6yd\xe4t sen kohdasta Botti."))}],x=[{target:".nav-bot",content:r.a.createElement("div",{"aria-label":"tutoriaali-4",role:"dialog",tabIndex:-1},r.a.createElement("p",{className:"tutorial-step"},"4/6"),r.a.createElement("h1",{className:"tutorial-header"},"Jos tarvitset apua tai haluat l\xe4hett\xe4\xe4 valvojalle viestin, voit klikata Bottia."),r.a.createElement("p",{className:"tutorial-text"},"L\xf6yd\xe4t sen kohdasta Botti."),r.a.createElement(F,{className:"button profile-tutorial-btn",onClick:()=>{m.push({pathname:"/friends",state:{navigateBack:!1}})}},"Seuraava")),disableBeacon:!0},{target:".user-edit-button",content:r.a.createElement("div",{"aria-label":"tutoriaali-3",role:"dialog",tabIndex:-1},r.a.createElement("p",{className:"tutorial-step"},"3/6"),r.a.createElement("h1",{className:"tutorial-header"},"Profiilisi tiedot n\xe4kyv\xe4t my\xf6s muille."),r.a.createElement("p",{className:"tutorial-text"},"Voit muokata tietoja kohdasta Muokkaa."))},{target:".nav-link-Profiili",content:r.a.createElement("div",{"aria-label":"tutoriaali-2",role:"dialog",tabIndex:-1},r.a.createElement("p",{className:"tutorial-step"},"2/6"),r.a.createElement("h1",{className:"tutorial-header"},"T\xe4m\xe4 on oma profiilisi!"),r.a.createElement("p",{className:"tutorial-text"},"L\xf6yd\xe4t sen kohdasta Profiili."))},{content:r.a.createElement("div",{"aria-label":"tutoriaali-1",role:"dialog",tabIndex:-1},r.a.createElement("p",{className:"tutorial-step"},"1/6"),r.a.createElement("h1",{className:"tutorial-header"},"Seuraavilla sivuilla esittelemme sinulle Kohdataan-somen!")),placement:"center",target:"body",styles:{buttonNext:{display:"none"}}}];return r.a.createElement("main",{className:"profile-container"},r.a.createElement("div",{className:"go-back-button-container"},!i&&c&&r.a.createElement(F,{onClick:()=>{m.location&&m.location.state&&m.location.state.searchTerm?m.push({pathname:"/friends",state:{searchTerm:m.location.state.searchTerm}}):m.goBack()},className:"profile-modal-header-button"},"< Palaa")),r.a.createElement("div",{className:"profile-top-row"},r.a.createElement(un,{mmuser:t}),i&&r.a.createElement(l.b,{className:"edit-me-link",to:"/edit-me"},r.a.createElement(fn,{label:"muokkaa profiilia"}))),r.a.createElement("header",{className:"profile-header-container"},t&&s&&r.a.createElement(vn,{nickname:E,location:k,birthdate:y,showAge:g,showLocation:N})),r.a.createElement(dn,{text:f}),r.a.createElement("section",{className:"interests-container"},r.a.createElement("div",{className:"interests-header"},r.a.createElement("h2",{className:"profile-secondary-header"},"Minua kiinnostaa"),i&&r.a.createElement(l.b,{className:"edit-interests-link",to:"/edit-interests"},r.a.createElement(fn,{isHighlighted:!1,label:"muokkaa mielenkiinnon kohteita"}))),r.a.createElement(pn,{interestList:o})),!i&&c&&s.blockedUsers&&!s.blockedUsers.includes(a)&&r.a.createElement("div",{className:"start-conversation-button"},r.a.createElement(F,{onClick:c,className:"profile-dm-button"},"L\xe4het\xe4 viesti")),!b&&i&&r.a.createElement("aside",null,r.a.createElement(_e,{steps:h?x:O,history:m,updateTutorialWatched:()=>u({tutorialWatched:!0}),navigateBack:h})))};bn.defaultProps={ownProfile:!1,startDirectChannel:null,userInterests:[],history:null,updateUser:null,currentUserId:null};var En=Object(n.memo)(bn),yn=e=>{var a=e.currentUserId,t=e.mmuser,n=e.userInterests,s=e.myUserInfo,i=e.updateUser,l=e.history;return s&&!s.profileReady&&l.push("/registration/info"),r.a.createElement(En,{currentUserId:a,mmuser:t,ownProfile:!0,userInterests:n,myUserInfo:s,updateUser:i,history:l})};yn.defaultProps={userInterests:[],history:null};var jn=Object(o.b)(e=>{var a=e.entities.users.currentUserId;return{currentUserId:a,mmuser:e.entities.users.profiles[a],userInterests:e.user.interests,myUserInfo:e.user}},e=>Object(p.bindActionCreators)({updateUser:Ge},e))(Object(n.memo)(yn,(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)})),gn=e=>{var a=e.currentUser,t=e.username,s=e.getProfilesByUsernames,i=e.history,l=e.createDirectChannel,o=e.currentUserId,c=Object(n.useState)({}),d=Object(j.a)(c,2),p=d[0],h=d[1],v=Object(n.useState)([]),k=Object(j.a)(v,2),f=k[0],b=k[1],E=Object(n.useState)([]),y=Object(j.a)(E,2),g=y[0],N=y[1],O=function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(a.id,p.id);case 2:(t=e.sent)&&t.data&&t.data.id&&i.push("/chat/".concat(t.data.id));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(()=>{var e=function(){var e=Object(m.a)(u.a.mark((function e(){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te(localStorage.getItem("authToken"),t);case 3:return(a=e.sent).result[0]&&(n=a.result[0].interests,b(n)),e.next=7,Q(t,localStorage.getItem("authToken"));case 7:(r=e.sent)&&N(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();t&&(s([t]).then(e=>h(e.data[0])).catch(e=>console.error(e)),e())},[t,s]),r.a.createElement(En,{mmuser:p,userInterests:f,myUserInfo:g,startDirectChannel:O,history:i,currentUserId:o})};gn.defaultProps={currentUser:{},username:""};var Nn=Object(o.b)((e,a)=>{var t=e.entities.users.currentUserId,n=a.match.params.username;return{currentUserId:t,currentUser:e.entities.users.profiles[t],username:n,interestOptions:e.interests.results}},e=>Object(p.bindActionCreators)({getProfilesByUsernames:f.getProfilesByUsernames,createDirectChannel:fe.createDirectChannel},e))(Object(n.memo)(gn,(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)})),On=(t(413),e=>{var a=e.title,t=e.pagePurpose,s=e.handleRequest,i=e.apiError,o=e.setApiError,c=e.text,d=e.setText,p=Object(n.useState)(""),h=Object(j.a)(p,2),v=h[0],k=h[1],f=Object(n.useState)(!1),b=Object(j.a)(f,2),E=b[0],y=b[1],g=Object(U.a)(),N=g.register,O=g.handleSubmit,x=g.errors,w=g.setError,S=g.clearError;Object(n.useEffect)(()=>{i&&""===c?w("email","loginError"):i&&""!==c&&y(!0)},[i,c,w]);var C=function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(a.email.trim().toLowerCase());case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),I=()=>{d(""),o(!1),y(!1)};return r.a.createElement("div",{className:"email-sms-form-container"},r.a.createElement("h1",{className:"main-title"},"Kohdataan"),r.a.createElement("div",{className:"email-sms-form-content-container"},r.a.createElement("h2",{className:"email-sms-form-title"},a),r.a.createElement("p",null,"Anna s\xe4hk\xf6postiosoitteesi."),"changePassword"===t?r.a.createElement("p",null,"L\xe4het\xe4mme sinulle linkin, josta p\xe4\xe4set vaihtamaan unohtuneen salasanan."):r.a.createElement("p",null,"L\xe4het\xe4mme sinulle uudelleen linkin, josta p\xe4\xe4set vahvistamaan s\xe4hk\xf6postisi ja kirjautumaan sis\xe4\xe4n."),r.a.createElement("div",{className:"email-sms-form-input-container"},r.a.createElement("form",{className:"email-sms-input-fields-container",onSubmit:O(C)},r.a.createElement("div",{className:"formfield-container"},r.a.createElement(R,{label:"S\xe4hk\xf6posti",name:"email",ref:N({required:!0}),ariaInvalid:!!x.email,onChange:()=>{S(),o(!1)},inputClassName:"registration-problem-input-text",labelClassName:"registration-problem-input-field",showPlaceholder:!1}),r.a.createElement("div",{className:"error-text"},x.email&&"required"===x.email.type&&"Kirjoita s\xe4hk\xf6postiosoite.",x.email&&"loginError"===x.email.type&&"Tarkista s\xe4hk\xf6posti.")),r.a.createElement("div",{className:"hidden-field"},r.a.createElement(R,{label:"Puhelinnumero",value:v,name:"phoneNumber",onChange:e=>k(e.target.value),inputClassName:"registration-problem-input-text",labelClassName:"registration-problem-input-field",showPlaceholder:!1})),r.a.createElement("button",{type:"submit",className:"registration-problem-button email-sms-form-button",onClick:O(C),tabIndex:0},"L\xe4het\xe4")),r.a.createElement("div",{className:"registration-problem-link-container"},r.a.createElement(l.b,{className:"registration-problem-link",to:"/registrationproblem"},"Tarvitsen apua kirjautumisessa."),r.a.createElement(l.b,{className:"registration-problem-link",to:"/login"},"Haluan kirjautua sis\xe4\xe4n.")))),r.a.createElement(A,{modalIsOpen:E,closeModal:I,label:"Email already confirmed"},r.a.createElement("div",null,r.a.createElement("h3",{className:"edit-profile-modal-text"},c),r.a.createElement(F,{className:"icon-btn edit-profile-icon-btn",onClick:I,label:"Sulje"},r.a.createElement("div",{className:"go-back-button"})))))});On.defaultProps={apiError:!1,setApiError:null,text:"",setText:null};var xn=Object(n.memo)(On),wn=Object(n.memo)(e=>{var a=e.history,t=Object(n.useState)(!1),s=Object(j.a)(t,2),i=s[0],l=s[1],o=Object(n.useState)(""),c=Object(j.a)(o,2),d=c[0],p=c[1],h=function(){var e=Object(m.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t.toLowerCase(),phoneNumber:""},e.next=3,le(n);case 3:(r=e.sent).success?a.push("/registration-success"):"This account is already verified"===r.message?(p("S\xe4hk\xf6posti on jo vahvistettu."),l(!0)):(p(""),l(!0));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("main",null,r.a.createElement(xn,{handleRequest:h,title:"Vahvistuslinkin l\xe4hett\xe4minen uudelleen",pagePurpose:"verifyEmail",apiError:i,setApiError:l,text:d,setText:p}))},(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)}),Sn=Object(n.memo)(e=>{var a=e.history,t=Object(n.useState)(!1),s=Object(j.a)(t,2),i=s[0],l=s[1],o=function(){var e=Object(m.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t,phoneNumber:""},e.next=3,G(n);case 3:e.sent.success?a.push("/reset-password-info"):l(!0);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("main",null,r.a.createElement(xn,{title:"Salasanan vaihtaminen",pagePurpose:"changePassword",handleRequest:o,apiError:i,setApiError:l}))},(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)}),Cn=(t(414),e=>{var a=e.description,t=e.guide;return r.a.createElement("main",{role:"main",className:"email-sms-info-container"},r.a.createElement("h1",{className:"main-title"},"Kohdataan"),r.a.createElement("div",{className:"email-sms-info-content-container"},r.a.createElement("h2",{className:"email-sms-info-title"},"Salasanan vaihtaminen"),r.a.createElement("p",null,a),r.a.createElement("div",{className:"email-sms-info-input-container"},r.a.createElement("div",{className:"email-sms-info-content"},t,r.a.createElement("p",{className:"reminder-content-text"},"Jos et l\xf6yd\xe4 s\xe4hk\xf6postista viesti\xe4, muista tarkistaa my\xf6s roskapostikansio.")),r.a.createElement("div",{className:"divider","aria-hidden":"true"}),r.a.createElement("div",{className:"registration-problem-link-container email-sms-info-link-container"},r.a.createElement(l.b,{className:"registration-problem-link",to:"/registrationproblem"},"Tarvitsen apua salasanan vaihtamisessa."),r.a.createElement(l.b,{className:"registration-problem-link",to:"/login"},"Haluan kirjautua sis\xe4\xe4n.")))))});Cn.defaultProps={guide:{}};var In=Object(n.memo)(Cn),Tn=Object(n.memo)(()=>{var e=r.a.createElement("ol",{className:"email-sms-info-list"},r.a.createElement("li",null,"Avaa s\xe4hk\xf6posti."),r.a.createElement("li",null,'Olet saanut viestin, jossa on l\xe4hett\xe4j\xe4n\xe4 "Kohdataan" ja aiheena "Salasanan vaihtaminen".'),r.a.createElement("li",null,"Kun klikkaat viestiss\xe4 olevaa linkki\xe4, p\xe4\xe4set sivulle, jossa voit vaihtaa salasanan."),r.a.createElement("li",null,"Anna sivulla uusi salasana ohjeiden mukaan."),r.a.createElement("li",null,'Kun klikkaat "Vaihda", p\xe4\xe4set kirjautumaan palveluun!'));return r.a.createElement(In,{description:"L\xe4hetimme sinulle s\xe4hk\xf6postilla linkin, josta p\xe4\xe4set vaihtamaan salasanan.",guide:e})},(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)}),An=(t(415),Object(n.memo)(e=>{var a=e.handleNewPassword,t=Object(U.a)(),s=t.register,i=t.handleSubmit,o=t.errors,c=t.watch,u=Object(n.useState)(!1),m=Object(j.a)(u,2),d=m[0],p=m[1];return r.a.createElement("div",{className:"password-reset-container"},r.a.createElement("h1",{className:"main-title"},"Kohdataan"),r.a.createElement("div",{className:"password-reset-content-container"},r.a.createElement("h2",{className:"password-reset-title"},"Salasanan vaihtaminen"),r.a.createElement("form",{className:"password-reset-input-container",onSubmit:i(a)},r.a.createElement("div",{className:"formfield-container"},r.a.createElement("div",{className:"info-circle-line"},r.a.createElement(R,{label:"Salasana",name:"password",ref:s({required:!0,maxLength:30,pattern:/^(?=.*[0-9]+.*)(?=.*[a-z\xe4\xf6\xfc\xdf]+.*)(?=.*[A-Z\xc4\xd6\xdc]+.*)[\w\W]{10,}$/}),type:"password",ariaInvalid:!!o.password,inputClassName:"create-account-input-text",labelClassName:o.password?"create-account-errors-field":"create-account-input-field",showPlaceholder:!1}),r.a.createElement("div",{className:"info-circle"},r.a.createElement("button",{type:"button",onClick:()=>{p(!0)},className:"info-circle-button","aria-labelledby":"password-info"})),r.a.createElement(kt,{modalIsOpen:d,closeModal:()=>{p(!1)},label:"show-password-info-dialog",content:"Salasanassa tulee olla v\xe4hint\xe4\xe4n 10 merkki\xe4, ja siin\xe4 pit\xe4\xe4 olla isoja kirjaimia, pieni\xe4 kirjaimia ja numeroita."})),r.a.createElement("div",{className:"error-text"},o.password&&"required"===o.password.type&&"Kirjoita salasana",o.password&&"pattern"===o.password.type&&"Salasanan on oltava v\xe4hint\xe4\xe4n 10 merkki\xe4 pitk\xe4 ja siin\xe4 pit\xe4\xe4 olla isoja kirjaimia, pieni\xe4 kirjaimia ja numeroita.",o.password&&"maxLength"===o.password.type&&"Salasanan on oltava enint\xe4\xe4n 30 merkki\xe4 pitk\xe4.")),r.a.createElement("div",{className:"formfield-container"},r.a.createElement(R,{label:"Salasana uudestaan",name:"passwordConfirm",ref:s({required:!0,validate:e=>e===c("password")}),type:"password",ariaInvalid:!!o.passwordConfirm,inputClassName:"create-account-input-text",labelClassName:o.passwordConfirm?"create-account-errors-field":"create-account-input-field",showPlaceholder:!1}),r.a.createElement("div",{className:"error-text"},o.passwordConfirm&&"required"===o.passwordConfirm.type&&"Kirjoita salasana uudestaan",o.passwordConfirm&&"validate"===o.passwordConfirm.type&&"Salasanat eiv\xe4t ole samat.")),r.a.createElement("button",{type:"submit",className:"create-account-button",onKeyPress:i(a),tabIndex:"0"},"Vaihda")),r.a.createElement("div",{className:"password-reset-link-container"},r.a.createElement(l.b,{className:"password-reset-link",to:"/registrationproblem"},"Tarvitsen apua salasanan vaihtamisessa."),r.a.createElement(l.b,{className:"password-reset-link",to:"/login"},"Haluan kirjautua sis\xe4\xe4n."))))})),_n=Object(n.memo)(e=>{var a=e.match.params.uuid,t=e.history;Object(n.useEffect)(()=>{(function(){var e=Object(m.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={uuid:a},e.next=3,Y(n).then(e=>{e.success||t.push({pathname:"/login",state:{textToAdd:"Linkki on k\xe4ytetty. Vaihda salasana uudestaan."}})});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},[a,t]);var s=function(){var e=Object(m.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={uuid:a,password:n.password},e.next=3,W(r).then(e=>{e.success?t.push({pathname:"/login",state:{textToAdd:"Salasana vaihdettu."}}):t.push({state:{textToAdd:"Resetointilinkki on joko vanhentunut, k\xe4ytetty tai v\xe4\xe4r\xe4."}})});case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(An,{handleNewPassword:s})},(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)}),Pn=(t(416),t(170)),Kn=()=>r.a.createElement(Pn.a,{height:8,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},r.a.createElement("rect",{x:"0",y:"1",rx:"5",ry:"5",width:"120",height:"8"})),Fn=function(){var e=Object(m.a)(u.a.mark((function e(a,t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/blockUser"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 4:return n=e.sent,e.abrupt("return",B(n));case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t){return e.apply(this,arguments)}}(),Un=function(){var e=Object(m.a)(u.a.mark((function e(a,t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://someapi.kohdataan.fi/node_api",e.prev=1,e.next=4,fetch("".concat("https://someapi.kohdataan.fi/node_api","/blockUser"),{method:"DELETE",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 4:return n=e.sent,e.abrupt("return",B(n));case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t){return e.apply(this,arguments)}}(),Dn=Object(n.memo)(e=>{var a=e.channel,t=e.unreadCount,s=e.getUsername,i=e.getPosts,o=e.getLatestMessage,c=e.membersInChannel,d=e.myUserInfo,p=e.getStatusById,h=e.currentUserId,v=Object(n.useState)({}),k=Object(j.a)(v,2),f=k[0],b=k[1],E=Object(n.useState)({}),y=Object(j.a)(E,2),g=y[0],N=y[1],O=Object(n.useState)(d.blockedUsers),x=Object(j.a)(O,2),w=x[0],S=x[1],C=Object(n.useState)(!1),I=Object(j.a)(C,2),T=I[0],_=I[1],P=Object(n.useState)(!1),K=Object(j.a)(P,2),U=K[0],D=K[1],M=Object(n.useState)({}),L=Object(j.a)(M,2),R=L[0],V=L[1],H=f&&f.id?"".concat('"https://someapi.kohdataan.fi"',"/api/v4/users/").concat(f.id,"/image?").concat(Date.now()):null,B=o(g);Object(n.useEffect)(()=>{var e=Object.values(c[a.id]);(function(){var a=Object(m.a)(u.a.mark((function a(){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:(t=s(e))&&b(t);case 2:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()},[s,c,a]),Object(n.useEffect)(()=>{(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.id){e.next=5;break}return e.next=3,i(a.id,0,100);case 3:(t=e.sent).data&&N(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},[a,i]),Object(n.useEffect)(()=>{d&&f&&function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w&&-1!==w.indexOf(f.id)&&_(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()},[f,d,w]),Object(n.useEffect)(()=>{(function(){var e=Object(m.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f||0!==f.delete_at||"deleted"===f.position||"surveybot"===f.username||"kohdataan@kohdataan.fi"===f.email){e.next=9;break}return e.next=3,Q(f.username,localStorage.getItem("authToken"));case 3:if(!(a=e.sent)){e.next=9;break}return e.next=7,$(a.id,localStorage.getItem("authToken"));case 7:(t=e.sent)&&V(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},[f,"kohdataan@kohdataan.fi"]);var J,q=function(){var e=Object(m.a)(u.a.mark((function e(){var a,t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=f.id,t=localStorage.getItem("authToken"),!w.includes(a)){e.next=10;break}return S(w.filter(e=>e!==a)),n={unblockedUser:f.id},e.next=7,Un(n,t);case 7:_(!1),e.next=15;break;case 10:return S(w.concat(a)),r={blockedUser:f.id},e.next=14,Fn(r,t);case 14:_(!0);case 15:D(!1);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return 0!==f.delete_at||"surveybot"===f.username||!R.blockedUsers||R.blockedUsers.includes(h)||R.deleteAt?0!==f.delete_at||"deleted"===f.position?r.a.createElement("div",null,r.a.createElement("div",{className:"friend-box-container"},r.a.createElement("div",{className:"friend-icon-box"},r.a.createElement("i",{className:"fas fa-circle deleted-user-icon"})),r.a.createElement(l.b,{className:"friend-box",to:T?"/friends":"/chat/".concat(a.id)},r.a.createElement("div",{className:" friend-messages-content deleted-user-messages-content"},r.a.createElement("div",{className:"friend-box-content"},r.a.createElement("div",{className:"friend-header"},r.a.createElement("p",{className:"deleted-user-nickname"},"Poistunut k\xe4ytt\xe4j\xe4")),r.a.createElement("div",{className:"deleted-user-message text-content"},r.a.createElement("div",{className:T?"blocked-friend-text-content text-content":"friend-text-content text-content"},B&&!T?r.a.createElement(r.a.Fragment,null,B):r.a.createElement(Kn,{className:"text-content"})))),r.a.createElement("div",{className:"deleted-user-empty-fields"}))))):r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:"friend-box-container"},r.a.createElement("div",{className:"friend-icon-box"},!T&&r.a.createElement("div",null,r.a.createElement("img",{className:"friend-icon",src:H,alt:"Profiilikuva"}),r.a.createElement("div",{className:(J=f.id,"friends-".concat(p(J),"-status-icon"))})),T&&r.a.createElement("i",{className:"fas fa-ban fa-lg blocked-icon"})),r.a.createElement("div",{className:"friend-messages-content"},r.a.createElement(l.b,{className:"friend-box",to:T?"/friends":"/chat/".concat(a.id)},r.a.createElement("div",{className:"friend-box-content"},r.a.createElement("div",{className:T?"blocked-friend-header":"friend-header"},r.a.createElement("span",{className:"sr-only"},"Viesti k\xe4ytt\xe4j\xe4lt\xe4 "),r.a.createElement("p",{className:"friends-nickname"},f.nickname)),r.a.createElement("div",{className:T?"blocked-friend-text-content text-content":"friend-text-content text-content"},B&&!T?r.a.createElement(r.a.Fragment,null,B):r.a.createElement(Kn,{className:"text-content"})))),r.a.createElement(l.b,{className:"unread-box",to:T?"/friends":"/chat/".concat(a.id)},t>0&&!T?r.a.createElement("mark",{className:"unread-badge"},t):r.a.createElement("div",{className:"no-unread-messages"}),r.a.createElement("span",{className:"sr-only"},"`",t," lukemattomia viestej\xe4`")),r.a.createElement(F,{className:"icon-btn block-user-icon-btn",onClick:()=>D(!0),label:"Est\xe4 k\xe4ytt\xe4j\xe4"},r.a.createElement("i",{className:"fas fa-ellipsis-v fa-lg block-user-icon","aria-hidden":"true"}))),r.a.createElement(A,{modalIsOpen:U,closeModal:()=>D(!1),label:"Lis\xe4\xe4 tai poista kaverin esto"},r.a.createElement("div",{className:"block-user-modal-content"},r.a.createElement("h3",{className:"interests-modal-text"},T?"Haluatko poistaa kaverin eston?":"Haluatko varmasti est\xe4\xe4 t\xe4m\xe4n kaverin?"),r.a.createElement("p",null,T?"Voit taas viestitell\xe4 kaverin kanssa kahdestaan.":"Estetty kaveri ei voi en\xe4\xe4 l\xe4hett\xe4\xe4 sinulle yksityisviestej\xe4."),r.a.createElement(F,{onClick:()=>D(!1),className:"cancel-button block-user-modal-btn"},"En"),r.a.createElement(F,{onClick:q,className:"confirm-button block-user-modal-btn"},"Kyll\xe4"))))}),Mn=(t(417),Object(n.memo)(e=>{var a=e.profileData,t=e.searchTerm,n=a&&a.id?"".concat('"https://someapi.kohdataan.fi"',"/api/v4/users/").concat(a.id,"/image?").concat(Date.now()):null;return 0===a.delete_at&&a.nickname.toLowerCase().includes(t.toLowerCase())?r.a.createElement("div",{className:"found-profile-container"},r.a.createElement(l.b,{className:"found-profile-link",to:{pathname:"/profile/".concat(a.username),state:{searchTerm:t}}},r.a.createElement("div",{className:"found-profile-icon-box"},r.a.createElement("img",{className:"found-profile-icon",src:n,alt:"Profiilikuva"})),r.a.createElement("div",{className:"found-friend-messages-content"},r.a.createElement("div",{className:"found-profile-name"},r.a.createElement("p",null,a.nickname)),r.a.createElement("div",{className:"arrow-image-container"},r.a.createElement("div",{className:"fas fa-chevron-right"}))))):r.a.createElement(r.a.Fragment,null)})),Ln=(t(418),r.a.forwardRef((e,a)=>{var t=e.handleChange,n=e.handleClear,s=e.placeholder,i=e.label;return r.a.createElement("div",{className:"search-bar-container"},r.a.createElement("span",{className:"search-bar-description"},"Hae kaveria"),r.a.createElement("form",{className:"search-bar"},r.a.createElement("input",{className:"search-bar-input",placeholder:s,onChange:e=>t(e.target.value),onKeyPress:e=>(e=>{"Enter"===e.key&&e.preventDefault()})(e),ref:a,"aria-label":i}),r.a.createElement("div",{className:"search-bar-icon-clear"},r.a.createElement(F,{className:"search-clear-button",onClick:n,label:"Tyhjenn\xe4"},r.a.createElement("i",{className:"fas fa-times times-icon","aria-hidden":"true"})))))}));Ln.defaultProps={};var Rn=Ln,Vn=(t(419),Object(n.memo)(e=>{var a=e.channels,t=e.getUnreadCount,s=e.getUsername,i=e.getPosts,l=e.searchProfiles,o=e.getLatestMessage,c=e.membersInChannel,d=e.tutorialWatched,p=e.updateUser,h=e.history,v=e.myUserInfo,k=e.statuses,f=e.currentUserId,b=Object(n.useState)(""),E=Object(j.a)(b,2),y=E[0],g=E[1],N=Object(n.useState)([]),O=Object(j.a)(N,2),x=O[0],w=O[1],S=r.a.createRef(),C=[{target:".nav-link-Kaverit",content:r.a.createElement("div",null,r.a.createElement("p",{className:"tutorial-step"},"5/6"),r.a.createElement("h1",{className:"tutorial-header"},"Voit viestitell\xe4 kavereiden kanssa kahdestaan."),r.a.createElement("p",{className:"tutorial-text"},"L\xf6yd\xe4t kaverit t\xe4\xe4lt\xe4, kohdasta Kaverit."),r.a.createElement(F,{className:"button friends-tutorial-btn",onClick:()=>{h.push({pathname:"/me",state:{navigateBack:!0}})}},"Edellinen")),disableBeacon:!0}],I=e=>e?k[e]:"",T=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(""),w([]),S.current.value="";case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=(e,a)=>e&&e.filter(e=>e.id!==f&&"surveybot"!==e.username&&"deleted"!==e.position&&0===e.delete_at&&e.nickname.toLowerCase().includes(a.toLowerCase())),_=function(){var e=Object(m.a)(u.a.mark((function e(a){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(a),e.prev=1,""!==a){e.next=6;break}T(),e.next=13;break;case 6:return e.next=8,l(a);case 8:return t=e.sent,e.next=11,A(t.data,a);case 11:(n=e.sent)&&w(n);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),w([]);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)(()=>{if(h.location&&h.location.state&&h.location.state.searchTerm){var e=h.location.state.searchTerm;S.current.value=e,g(e),_(e)}},[]),r.a.createElement("section",{className:"friends-wrapper"},r.a.createElement("header",{className:"friends-header"},r.a.createElement("h1",null,"Kaverit")),r.a.createElement("div",{className:"friends-search"},r.a.createElement(Rn,{handleChange:_,placeholder:"Kirjoita nimi",handleClear:T,label:"Hae kaveria",ref:S})),0===y.length?r.a.createElement("div",{className:"friends-boxes"},a&&a.length>0?Object.values(a).sort((e,a)=>t(a.id)-t(e.id)===0?a.last_post_at-e.last_post_at:t(a.id)-t(e.id)).map(e=>r.a.createElement(Dn,{key:e.id,channel:e,unreadCount:t(e.id),getUsername:s,getPosts:i,getLatestMessage:o,membersInChannel:c,myUserInfo:v,getStatusById:I,currentUserId:f})):r.a.createElement("section",null,r.a.createElement("h2",{className:"no-friends-yet-header"},"Et ole viel\xe4 viestitellyt kenenk\xe4\xe4n kanssa kahdestaan."),r.a.createElement("p",{className:"no-friends-yet-text"},"Voit l\xe4hett\xe4\xe4 toiselle k\xe4ytt\xe4j\xe4lle yksityisviestin h\xe4nen profiilinsa alareunasta."),r.a.createElement("p",{className:"no-friends-yet-text"},"P\xe4\xe4set toisen k\xe4ytt\xe4j\xe4n profiiliin, kun klikkaat ryhm\xe4ss\xe4 h\xe4nen kuvakettaan. Voit my\xf6s hakea k\xe4ytt\xe4j\xe4\xe4 h\xe4nen kutsumanimell\xe4\xe4n."))):r.a.createElement("div",{className:"friends-boxes"},Object.values(x).map(e=>r.a.createElement(Mn,{key:e.id,profileData:e,searchTerm:y})),r.a.createElement("p",{className:"found-friends-count-info"},"L\xf6ydettiin ".concat(x.length," k\xe4ytt\xe4j\xe4\xe4"))),!d&&r.a.createElement(_e,{steps:C,history:h,updateTutorialWatched:()=>p({tutorialWatched:!0}),navigateBack:!1}))})),Hn=()=>function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"KOHDATAAN_START_FRIENDS_FETCHING"});case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Bn=()=>function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"KOHDATAAN_FRIENDS_FETCHING_READY"});case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Jn=()=>function(){var e=Object(m.a)(u.a.mark((function e(a,t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t().entities.channels.channels,r=[],Object.values(n).forEach(e=>{r.push(a(Object(fe.getChannelMembers)(e.id)))}),e.next=5,Promise.all(r);case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),qn=()=>function(){var e=Object(m.a)(u.a.mark((function e(a,t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(Hn());case 2:return e.next=4,a(la());case 4:return e.next=6,a(oa());case 6:return n=t().entities.teams.teams,r=Object.keys(n)[0],e.next=10,a(Object(fe.fetchMyChannelsAndMembers)(r));case 10:return e.next=12,a(Jn());case 12:return e.next=14,a(Object(f.getProfiles)());case 14:return e.next=16,a(Bn());case 16:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),zn=Object(o.b)(e=>{var a=e.entities.users.currentUserId,t=e.entities.channels.channels,n=e.entities.channels.membersInChannel,r=e.entities.users.profiles[a],s=e.entities.users.profiles,i=e.entities.posts.posts,l=e.entities.channels.membersInChannel,o=e.entities.channels.myMembers;return{currentUserId:a,user:e.user,mmUser:r,profiles:s,posts:i,channels:t,members:l,myChannels:o,membersInChannel:n,statuses:e.entities.users.statuses}},e=>Object(p.bindActionCreators)({getPosts:be.getPosts,searchProfiles:f.searchProfiles,fetchFriendsPageData:qn,updateUser:Ge},e))(Object(n.memo)(e=>{var a=e.channels,t=e.currentUserId,s=e.myChannels,i=e.profiles,l=e.getPosts,o=e.searchProfiles,c=e.fetchFriendsPageData,d=e.membersInChannel,p=e.updateUser,h=e.user,v=e.history,k=e.statuses;h.profileReady||v.push("/registration/info");var f=Object(n.useState)([]),b=Object(j.a)(f,2),E=b[0],y=b[1],g=Object(n.useState)(!1),N=Object(j.a)(g,2),O=N[0],x=N[1];Object(n.useEffect)(()=>{(function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:x(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},[c]),Object(n.useEffect)(()=>{var e,t=Object.values(a).filter(e=>Object.keys(s).includes(e.id));y((e=t,Object.values(e).filter(e=>"D"===e.type&&e.total_msg_count>0)))},[a,s]);return O?r.a.createElement("main",null,r.a.createElement(Vn,{channels:E,getUnreadCount:e=>{if(a){var t=Object.values(a).find(a=>a.id===e);if(t)return t.total_msg_count-s[t.id].msg_count}return 0},getUsername:e=>{if(e.length>0){var a=e.find(e=>e.user_id!==t),n=a&&a.user_id;return n&&Object.values(i).find(e=>e.id===n)}return null},getPosts:l,searchProfiles:o,getLatestMessage:e=>{var a=e&&Object.values(e)[1];if(a){var n=Object.values(a);n.sort((e,a)=>e.create_at-a.create_at).reverse();var r=n[0],s=r&&r.user_id===t?"Sin\xe4: ":"";return r?"".concat(s).concat(n[0].message):null}return null},membersInChannel:d,tutorialWatched:h.tutorialWatched,updateUser:p,history:v,myUserInfo:h,statuses:k,currentUserId:t})):r.a.createElement(He,null)},(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)})),Gn=(t(420),Object(n.memo)(({history:e,match:a})=>{var t=a.params.fileId;return r.a.createElement("main",{className:"view-image-content"},r.a.createElement(F,{className:"view-image-go-back-button go-back-button",onClick:()=>{e.goBack()}},r.a.createElement("span",{className:"sr-only"},"Sulje")),r.a.createElement("div",{className:"image"},r.a.createElement("img",{className:"view-image",src:"".concat('"https://someapi.kohdataan.fi"',"/api/v4/files/").concat(t),alt:"attachment",width:"100%",height:"100%"})))})),Wn=Object(d.g)(Object(n.memo)(e=>{var a=e.history,t=e.match;return r.a.createElement(Gn,{history:a,match:t})},(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)})),Yn=(t(421),Object(n.memo)(e=>{var a=e.text,t=e.history;return r.a.createElement("header",{className:"edit-header-container"},r.a.createElement("h1",{className:"edit-header-text"},a),r.a.createElement(F,{className:"icon-btn go-back-button edit-header-btn",onClick:()=>{t.goBack()},label:"Sulje"}," "))})),Zn=(t(422),Object(n.memo)(e=>{var a=e.history,t=e.myUserInfo,s=e.handleEditReady,i=Object(n.useState)(t.description||""),o=Object(j.a)(i,2),c=o[0],u=o[1],m=Object(n.useState)(t.nickname),d=Object(j.a)(m,2),p=d[0],h=d[1],v=Object(n.useState)(t.showAge),k=Object(j.a)(v,2),f=k[0],b=k[1],E=Object(n.useState)(t.showLocation),y=Object(j.a)(E,2),g=y[0],N=y[1],O=Object(n.useState)({label:t.location,value:t.location}),x=Object(j.a)(O,2),w=x[0],S=x[1],C=Object(n.useState)(null),I=Object(j.a)(C,2),T=I[0],_=I[1],P=Object(n.useState)(!1),K=Object(j.a)(P,2),U=K[0],D=K[1],M=Object(n.useState)(!1),L=Object(j.a)(M,2),R=L[0],V=L[1];Object(n.useEffect)(()=>{R&&D(!0)},[R]);var H=()=>{D(!1),V(!1)};return r.a.createElement("main",{className:"profile-edit-container"},r.a.createElement(A,{modalIsOpen:U,closeModal:H,label:"Tiedosto liian suuri"},r.a.createElement("div",null,r.a.createElement("h3",{className:"edit-profile-modal-text"},"Tiedosto on liian suuri!"),r.a.createElement(F,{className:"icon-btn edit-profile-icon-btn",onClick:H,label:"Sulje"},r.a.createElement("div",{className:"go-back-button"})))),r.a.createElement(Yn,{text:"Muokkaa profiiliasi",history:a}),r.a.createElement("div",{className:"edit-wrapper"},r.a.createElement("div",{className:"edit-profilepic"},r.a.createElement(qt,{hideStep:!0,onChange:_,image:T})),r.a.createElement("div",{className:"edit-nickname"},r.a.createElement(Tt,{hideStep:!0,value:p,onChange:e=>h(e.target.value)})),r.a.createElement("div",{className:"edit-nickname"},r.a.createElement(Kt,{hideStep:!0,showAge:f.toString(),age:ft(t),onChange:b})),r.a.createElement("div",{className:"edit-nickname"},r.a.createElement(Wt,{hideStep:!0,showLocation:g.toString(),value:w,setShowLocation:N,onChange:e=>S(e)})),r.a.createElement("div",{className:"edit-nickname"},r.a.createElement(Mt,{value:c,hideStep:!0,onChange:e=>u(e.target.value)})),r.a.createElement("div",{className:"save-profile-button",style:{marginBottom:"100px",textAlign:"center"}},r.a.createElement(l.b,{to:"/me"},r.a.createElement(F,{secondary:!0,className:"save-profile-button",onClick:()=>{s(c,p,f,g,w.value,T)}},"Tallenna")))))})),$n=Object(o.b)(e=>{var a=e.entities.users.currentUserId;return{mmuserId:a,currentUser:e.entities.users.profiles[a],userInterests:e.user.interests,interestOptions:e.interests.results,myUserInfo:e.user}},e=>Object(p.bindActionCreators)({updateUser:Ge,uploadProfileImage:f.uploadProfileImage,getUser:f.getUser,setDefaultProfileImage:f.setDefaultProfileImage},e))(Object(n.memo)(e=>{var a=e.history,t=e.mmuserId,n=e.currentUser,s=e.interestOptions,i=e.updateUser,l=e.myUserInfo;l.profileReady||a.push("/registration/info");var o=function(){var a=Object(m.a)(u.a.mark((function a(r){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r||l.imageUploaded){a.next=5;break}return a.next=3,e.setDefaultProfileImage(t);case 3:a.next=8;break;case 5:if(!r){a.next=8;break}return a.next=8,e.uploadProfileImage(n.id,en(r));case 8:return a.abrupt("return",null);case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),c=function(){var e=Object(m.a)(u.a.mark((function e(a,r,s,c,m,d){var p,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=n.username,l.nickname===r||l.imageUploaded||(p=tn(r,n)),h=d&&!l.imageUploaded?Object(Je.a)(Object(Je.a)({},l),{},{mmid:t,description:a,nickname:r,showAge:s,showLocation:c,location:m,username:p,imageUploaded:!0}):Object(Je.a)(Object(Je.a)({},l),{},{mmid:t,description:a,nickname:r,showAge:s,showLocation:c,location:m,username:p}),e.next=5,i(h);case 5:return e.next=7,o(d);case 7:case"end":return e.stop()}}),e)})));return function(a,t,n,r,s,i){return e.apply(this,arguments)}}();return r.a.createElement(Zn,{history:a,myUserInfo:l,interestOptions:s,handleEditReady:c})},(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)})),Qn=(t(423),Object(n.memo)(e=>{var a=e.currentInterestIds,t=e.handleInterestEditReady,s=e.interestOptions,i=e.history,l=Object(n.useState)([...a]),o=Object(j.a)(l,2),c=o[0],u=o[1],m=Object(n.useState)(!1),d=Object(j.a)(m,2),p=d[0],h=d[1],v=()=>{h(!1)};return r.a.createElement("div",{className:"interests-container"},r.a.createElement(Yn,{text:"Muokkaa profiiliasi",history:i}),r.a.createElement(Xt,{options:s,interests:c,setInterests:u,hideStep:!0}),r.a.createElement("div",{style:{marginBottom:"100px",textAlign:"center"}},r.a.createElement(F,{secondary:!0,onClick:()=>{c.length<3?h(!0):(t(c),i.push("/me"))},className:"save-interests-button"},"Tallenna")),r.a.createElement(A,{modalIsOpen:p,closeModal:v,label:"User must have at least 3 interests"},r.a.createElement("div",null,r.a.createElement("h3",{className:"interests-modal-text"},"Valitse ainakin kolme kiinnostavaa asiaa."),r.a.createElement("p",null,"Voit lis\xe4t\xe4 valinnan klikkaamalla."),r.a.createElement(F,{className:"icon-btn interests-icon-btn",onClick:v,label:"Sulje"},r.a.createElement("div",{className:"go-back-button"})))))})),Xn=e=>{var a=e.history,t=e.userInterests,n=e.interestOptions,s=e.addUserInterests;return r.a.createElement(Qn,{history:a,currentInterestIds:t.map(e=>e.id),handleInterestEditReady:e=>{s({userInterests:e})},interestOptions:n})};Xn.defaultProps={history:{},userInterests:[],interestOptions:[]};var er=Object(o.b)((e,a)=>{var t=e.entities.users.currentUserId,n=a.match.params.username;return{currentUserId:t,currentUser:e.entities.users.profiles[t],username:n,userInterests:e.user.interests,interestOptions:e.interests.results}},e=>Object(p.bindActionCreators)({addUserInterests:$e,getInterestsAction:na},e))(Object(n.memo)(Xn,(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)})),ar=(t(424),Object(n.memo)(()=>r.a.createElement("div",{className:"full-screen-loading"},r.a.createElement("h1",{className:"loading-text"},"Kohdataan")))),tr=(t(425),{email:"Uusi s\xe4hk\xf6posti",phoneNumber:"Uusi puhelinnumero",password:"Uusi salasana",firstname:"Uusi etunimi",lastname:"Uusi sukunimi"}),nr={email:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,phoneNumber:/^(\+358|00358|358|\+7|007|\+372|00372|\+46|0046|04|050)[0-9- ]{4,14}$/i,password:/^(?=.*[0-9]+.*)(?=.*[a-z\xe4\xf6\xfc\xdf]+.*)(?=.*[A-Z\xc4\xd6\xdc]+.*)[\w\W]{10,}$/,firstname:/^[a-z A-Z\xe4\xf6\xfc\xdf\xc4\xd6\xdc'-]+$/i,lastname:/^[a-z A-Z\xe4\xf6\xfc\xdf\xc4\xd6\xdc'-]+$/i},rr={email:"Tarkista s\xe4hk\xf6postiosoite.",phoneNumber:"Tarkista puhelinnumero",password:"Salasanassa t\xe4ytyy olla v\xe4hint\xe4\xe4n 10 merkki\xe4, yksi iso kirjain, yksi pieni kirjain ja yksi numero.",firstname:"Etunimen tulee olla 2-20 merkki\xe4 pitk\xe4.",lastname:"Sukunimen tulee olla 2-30 merkki\xe4 pitk\xe4."},sr=Object(n.memo)(e=>{var a=e.showModal,t=e.updateUser,n=e.field,s=e.closeModal,i=Object(U.a)(),l=i.register,o=i.handleSubmit,c=i.errors,u=i.watch,m=e=>{t(e)};return r.a.createElement("div",{className:"leave-channel-modal-wrapper"},r.a.createElement(A,{modalIsOpen:a,label:"Muokkaa tietoja",closeModal:s,editModal:!0},r.a.createElement(F,{className:"icon-btn go-back-button edit-account-close-button",onClick:s},r.a.createElement("span",{className:"sr-only"},"Sulje")),r.a.createElement("form",{className:"edit-account-input-content-container",onSubmit:o(m)},"password"===n&&r.a.createElement(R,{label:"Nykyinen salasana",name:"passwordCurrent",type:"password",ref:l({required:!0,pattern:nr[n]}),ariaInvalid:!!c[n],inputClassName:"edit-account-input-text",labelClassName:c[n]?"edit-account-errors-field":"edit-account-input-field"}),r.a.createElement(R,{label:tr[n],name:n,ref:l({required:!0,pattern:nr[n]}),ariaInvalid:!!c[n],type:"password"===n?"password":"text",inputClassName:"edit-account-input-text",labelClassName:c[n]?"edit-account-errors-field":"edit-account-input-field"}),"password"===n&&r.a.createElement(R,{label:"Salasana uudestaan",type:"password",name:"passwordConfirm",ref:l({required:!0,validate:e=>e===u("password")}),ariaInvalid:!!c.passwordConfirm,inputClassName:"edit-account-input-text",labelClassName:c[n]?"edit-account-errors-field":"edit-account-input-field"}),r.a.createElement("div",{className:"edit-account-error-text"},c[n]&&rr[n],c.passwordConfirm&&"validate"===c.passwordConfirm.type&&"Salasanat eiv\xe4t ole samat.",c.passwordConfirm&&"required"===c.passwordConfirm.type&&"Kirjoita salasana uudestaan"),r.a.createElement("button",{type:"submit",className:"edit-account-button",onKeyPress:()=>o(m),onClick:()=>o(m),tabIndex:"0"},"Tallenna "))))}),ir=(t(426),e=>{var a=e.showModal,t=e.deleteUser,n=e.closeModal,s=e.deleteError;return r.a.createElement("div",{className:"leave-channel-modal-wrapper"},r.a.createElement(A,{modalIsOpen:a,label:"K\xe4ytt\xe4j\xe4tilin poistaminen",closeModal:n},r.a.createElement("p",null,"Poistamme k\xe4ytt\xe4j\xe4tilisi viikon p\xe4\xe4st\xe4, jos et ota tili\xe4si ennen sit\xe4 uudelleen k\xe4ytt\xf6\xf6n. Voit ottaa tilisi uudelleen k\xe4ytt\xf6\xf6n, kun kirjaudut palveluun. Viikon j\xe4lkeen poistamme tilisi ja profiilisi pysyv\xe4sti. Viestisi j\xe4\xe4v\xe4t palveluun nimett\xf6m\xe4n\xe4."),r.a.createElement("p",null,"Haluatko varmasti poistaa k\xe4ytt\xe4j\xe4tilisi?"),r.a.createElement("div",{className:"account-delete-buttons-wrapper"},r.a.createElement(F,{className:"account-cancel-delete-button",onClick:n,secondary:!0},"En"),r.a.createElement(F,{className:"account-delete-button",onClick:t},"Kyll\xe4")),s&&r.a.createElement("p",{className:"edit-account-error-text",style:{textAlign:"center"}},"K\xe4ytt\xe4j\xe4tilin poistaminen ep\xe4onnistui!")))});ir.defaultProps={deleteError:null};var lr=Object(n.memo)(ir),or=(t(427),Object(n.memo)(e=>{var a=e.nodeUser,t=e.mmuser,s=e.updateUser,i=e.updatePassword,l=e.history,o=e.userLogout,c=Object(n.useState)(!1),d=Object(j.a)(c,2),p=d[0],h=d[1],v=Object(n.useState)(!1),k=Object(j.a)(v,2),f=k[0],b=k[1],E=Object(n.useState)(null),y=Object(j.a)(E,2),g=y[0],N=y[1],O=Object(n.useState)(""),x=Object(j.a)(O,2),w=x[0],S=x[1],C=e=>{h(!p),S(e)},I=()=>{h(!1)},T=()=>{l.goBack()},A=function(){var e=Object(m.a)(u.a.mark((function e(){var a,n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={mmid:t.id},n=localStorage.getItem("userId"),r=localStorage.getItem("authToken"),e.next=6,re(a,n,r);case 6:(s=e.sent)&&s.success?o():s&&s.message&&N(s.message),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("main",{className:"account-update-container"},r.a.createElement("div",{className:"account-header"},r.a.createElement("h1",null,"Muokkaa tietojasi"),r.a.createElement(F,{className:"icon-btn go-back-button close-edit-btn",onClick:T},r.a.createElement("span",{className:"sr-only"},"Sulje"))),r.a.createElement("div",{className:"account-info-text"},r.a.createElement("p",null,"N\xe4m\xe4 tiedot n\xe4kyv\xe4t vain sinulle. Kaikki tiedot ovat pakollisia.")),r.a.createElement("div",{className:"account-box-outer"},r.a.createElement("div",{className:"account-box-inner"},r.a.createElement("div",{className:"account-label-text"},"Etunimi"),r.a.createElement(F,{className:"account-edit-button",onClick:()=>C("firstname"),label:"Muokkaa etunime\xe4"},"Muokkaa")),r.a.createElement("div",{className:"account-box"},a.first_name)),r.a.createElement("div",{className:"account-box-outer"},r.a.createElement("div",{className:"account-box-inner"},r.a.createElement("div",{className:"account-label-text"},"Sukunimi"),r.a.createElement(F,{className:"account-edit-button",onClick:()=>C("lastname"),label:"Muokkaa sukunime\xe4"},"Muokkaa")),r.a.createElement("div",{className:"account-box"},a.last_name)),r.a.createElement("div",{className:"account-box-outer"},r.a.createElement("div",{className:"account-box-inner"},r.a.createElement("div",{className:"account-label-text"},"S\xe4hk\xf6posti"),r.a.createElement(F,{className:"account-edit-button",onClick:()=>C("email"),label:"Muokkaa s\xe4hk\xf6postia"},"Muokkaa")),r.a.createElement("div",{className:"account-box"},t.email)),r.a.createElement("div",{className:"account-box-outer"},r.a.createElement("div",{className:"account-box-inner"},r.a.createElement("div",{className:"account-label-text"},"Puhelinnumero"),r.a.createElement(F,{className:"account-edit-button",onClick:()=>C("phoneNumber"),label:"Muokkaa puhelinnumeroa"},"Muokkaa")),r.a.createElement("div",{className:"account-box"},a.phoneNumber)),r.a.createElement("div",{className:"account-box-outer"},r.a.createElement("div",{className:"account-box-inner"},r.a.createElement("div",{className:"account-label-text"},"Salasana"),r.a.createElement(F,{className:"account-edit-button",onClick:()=>C("password"),label:"Muokkaa salasanaa"},"Muokkaa")),r.a.createElement("div",{className:"account-box"},"**************"),a&&a.errorMessage&&a.errorMessage.includes("password")&&r.a.createElement("div",{className:"edit-account-error-text"},"Salasanan p\xe4ivitt\xe4minen ep\xe4onnistui!")),r.a.createElement("div",{className:"account-box-outer account-box-reduced-padding"},r.a.createElement(F,{className:"account-delete-button button",onClick:()=>b(!0)},"Poista k\xe4ytt\xe4j\xe4tili")),r.a.createElement(F,{className:"button-secondary account-save-button",onClick:T},"Tallenna"),r.a.createElement(sr,{showModal:p,updateUser:e=>{"email"===w?s({mmid:t.id,email:e.email.trim().toLowerCase()}):"phoneNumber"===w?s({phoneNumber:e.phoneNumber}):"firstname"===w?s({first_name:e.firstname}):"lastname"===w?s({last_name:e.lastname}):"password"===w&&i({mmid:t.id,id:a.id,email:t.email,current_password:e.passwordCurrent,new_password:e.password}),I()},closeModal:I,field:w}),r.a.createElement(lr,{showModal:f,closeModal:()=>b(!1),deleteUser:A,deleteError:g}))})),cr=Object(o.b)(e=>{var a=e.entities.users.currentUserId;return{mmuserId:a,currentUser:e.entities.users.profiles[a],userInterests:e.user.interests,myUserInfo:e.user}},e=>Object(p.bindActionCreators)({updateUser:Ge,updatePassword:We,logout:f.logout},e))(Object(n.memo)(e=>{var a=e.myUserInfo,t=e.currentUser,n=e.updateUser,s=e.updatePassword,i=e.history,l=e.logout;return r.a.createElement(or,{nodeUser:a,mmuser:t,updateUser:n,updatePassword:s,history:i,userLogout:()=>ve(q,l)})},(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)})),ur=(t(428),Object(n.memo)(e=>{var a=e.handleRestore,t=e.handleDeleteNow,s=Object(n.useState)(!0),i=Object(j.a)(s,2),l=i[0],o=i[1];return r.a.createElement(A,{modalIsOpen:l,label:"restore-user-container",closeModal:()=>o(!1)},r.a.createElement("h3",null,"Haluatko ottaa k\xe4ytt\xe4j\xe4tilisi uudelleen k\xe4ytt\xf6\xf6n?"),r.a.createElement("div",{className:"account-delete-buttons-wrapper"},r.a.createElement(F,{className:"account-cancel-delete-button",secondary:!0,onClick:()=>{t(),o(!1)}},"En"),r.a.createElement(F,{className:"account-cancel-delete-button",onClick:a},"Kyll\xe4")))})),mr=Object(d.g)(Object(o.b)(e=>{var a=e.entities.users.currentUserId;return{user:e.user,mmid:a}},e=>Object(p.bindActionCreators)({restoreUserAccount:Ye,matterMostLogout:f.logout},e))(Object(n.memo)(e=>{var a=e.restoreUserAccount,t=e.mmid,n=e.matterMostLogout,s=function(){var e=Object(m.a)(u.a.mark((function e(){var a,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a={mmid:t},r=localStorage.getItem("userId"),s=localStorage.getItem("authToken"),ve(q,n),se(a,r,s)}catch(i){console.error(i)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({mmid:t});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(ur,{handleRestore:i,handleDeleteNow:s})},(e,a)=>{a.match;var t=Object(k.a)(a,["match"]),n=(e.match,Object(k.a)(e,["match"]));return JSON.stringify(n)===JSON.stringify(t)}))),dr=(t(429),Object(n.memo)(()=>{var e=Object(d.f)();return Object(n.useEffect)(()=>{localStorage.removeItem("userId"),localStorage.removeItem("authToken")}),r.a.createElement("div",{className:"account-locked-container"},r.a.createElement("h1",{className:"account-locked-text"},"Kohdataan"),r.a.createElement("p",{className:"account-locked-paragraph"},"K\xe4ytt\xe4j\xe4tilisi on t\xe4ll\xe4 hetkell\xe4 pois k\xe4yt\xf6st\xe4."),r.a.createElement("p",{className:"account-locked-paragraph"},"Ota tarvittaessa yhteytt\xe4 osoitteeseen"," ",r.a.createElement("a",{href:"mailto:kohdataan@kohdataan.fi",className:"account-locked-email-link"},"kohdataan@kohdataan.fi.")),r.a.createElement("div",{className:"login-links-container"},r.a.createElement(F,{className:"login-link login-link-button",onClick:()=>{e.push("/login"),e.go()}},"Kirjautumissivulle.")))})),pr=t(121),hr=t.n(pr),vr=(t(430),()=>{var e=Object(n.useState)(!0),a=Object(j.a)(e,2),t=a[0],s=a[1],i=Object(n.useState)(!1),l=Object(j.a)(i,2),o=l[0],c=l[1];return r.a.createElement(A,{label:"cookie-banner-modal",modalIsOpen:t,closeModal:()=>{},cookie:!0},r.a.createElement("div",{className:"cookie-info-container"},r.a.createElement(hr.a,{buttonText:"Hyv\xe4ksy",onAccept:()=>{s(!1)},style:{flexDirection:"column",flexWrap:"nowrap",alignItems:"center",justifyContent:"space-around",padding:"10px",position:"absolute",top:"2%"},buttonStyle:{color:"#3a3a3a",fontSize:"0.900rem",background:"#f59023",margin:"0 auto 10px",padding:"5px 10px",borderRadius:"30px"},contentStyle:{flex:"0 auto",margin:"15px"}},"Kohdataan-somessa k\xe4yt\xe4mme ev\xe4steit\xe4, jotta palvelu toimii ja sit\xe4 voi k\xe4ytt\xe4\xe4. Voit lukea lis\xe4\xe4 ev\xe4steist\xe4"," ",r.a.createElement(F,{className:"modal-btn",role:"link",onClick:()=>c(!0)},"tietosuojaselosteesta.")),r.a.createElement(A,{modalIsOpen:o,closeModal:()=>c(!1),label:"Tietosuojaseloste",isLong:!0,aria:{labelledby:"Tietosuojaseloste",modal:!0}},r.a.createElement("aside",{id:"Tietosuojaseloste"},r.a.createElement(ot,{closeModal:()=>c(!1)})))))}),kr=(t(431),()=>{var e=Object(n.useState)(!0),a=Object(j.a)(e,2),t=a[0],s=a[1],i=Object(n.useState)(!1),l=Object(j.a)(i,2),o=l[0],c=l[1];return r.a.createElement(A,{label:"ie-banner-modal",modalIsOpen:t,closeModal:()=>{},cookie:!0},r.a.createElement("div",{className:"ie-info-container"},r.a.createElement(hr.a,{buttonText:"Hyv\xe4ksy",onAccept:()=>{s(!1)},cookieName:"IEBadAcknowledged",style:{flexDirection:"column",flexWrap:"nowrap",alignItems:"center",padding:"5px",position:"absolute",top:"2%"},buttonStyle:{color:"#3a3a3a",fontSize:"0.900rem",background:"#f59023",margin:"0 auto 10px",padding:"5px 10px",borderRadius:"30px",flex:"0 auto"},contentStyle:{flex:"0 auto",margin:"15px"}},"Palvelu ei valitettavasti toimi kunnolla Microsoft Internet Explorer -selaimella. Microsoft ei en\xe4\xe4 tue ja kehit\xe4 sit\xe4. Suosittelemme k\xe4ytt\xe4m\xe4\xe4n jotain muuta selainta."),r.a.createElement(A,{modalIsOpen:o,closeModal:()=>c(!1),label:"Internet explorer varoitus",aria:{labelledby:"Internet explorer varoitus",modal:!0}},r.a.createElement("aside",{id:"Internet explorer varoitus"},r.a.createElement(ot,null),r.a.createElement(F,{className:"accept-rules-icon-btn icon-btn",onClick:()=>c(!1),label:"Sulje"},r.a.createElement("div",{className:"go-back-button"})),r.a.createElement(F,{className:"profile-modal-button accept-rules-modal-button",onClick:()=>c(!1)},"Sulje")))))});t(432);class fr extends n.Component{componentDidMount(){var e=this;return Object(m.a)(u.a.mark((function a(){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.props.rootStartUp,a.next=3,t();case 3:case"end":return a.stop()}}),a)})))()}shouldComponentUpdate(e){var a=this.props,t=a.history,n=a.rootStartUp,r=a.user,s=a.loading;return!(e.history===t&&e.user===r&&e.loading===s&&e.rootStartUp===n)}render(){var e=this.props,a=e.loading,t=e.user,n=e.mmuser;return a.root&&localStorage.getItem("authToken")?r.a.createElement(ar,null):a.root||n||!localStorage.getItem("authToken")?r.a.createElement(v,{className:"main-container"},localStorage.getItem("authToken")&&r.a.createElement(ke,null),r.a.createElement(d.b,{exact:!0,path:"/login",component:st}),r.a.createElement(d.b,{path:"/login/:uuid",component:st}),r.a.createElement(d.b,{exact:!0,path:"/email-verification",component:wn}),r.a.createElement(d.b,{exact:!0,path:"/reset-password",component:Sn}),r.a.createElement(d.b,{path:"/reset-password-info",component:Tn}),r.a.createElement(d.b,{path:"/reset-password/:uuid",component:_n}),r.a.createElement(d.b,{path:"/registration-success",component:ln}),r.a.createElement(d.b,{path:"/messagesent",component:cn}),r.a.createElement(d.b,{path:"/createaccount",component:jt}),r.a.createElement(d.b,{path:"/registrationproblem",component:ue}),r.a.createElement(ja,{path:"/registration/:step",component:rn}),r.a.createElement(ja,{exact:!0,path:"/",component:Ea}),r.a.createElement(ja,{exact:!0,path:"/friends",component:zn}),r.a.createElement(ja,{path:"/profile/:username",component:Nn}),r.a.createElement(ja,{path:"/me",component:jn}),r.a.createElement(ja,{path:"/edit-me",component:$n}),r.a.createElement(ja,{exact:!0,path:"/chat/:id",component:at}),r.a.createElement(ja,{path:"/chat/:id/:fileId",component:Wn}),r.a.createElement(ja,{path:"/edit-interests",component:er}),r.a.createElement(ja,{path:"/account",component:cr}),localStorage.getItem("authToken")&&t&&t.deleteAt&&r.a.createElement(mr,null),!document.cookie.includes("CookieConsent=true")&&r.a.createElement(vr,null),h.isIE&&!document.cookie.includes("IEBadAcknowledged=true")&&r.a.createElement(kr,null)):r.a.createElement(dr,null)}}fr.defaultProps={mmuser:null};var br=Object(o.b)(e=>{var a=e&&e.entities&&e.entities.users&&e.entities.users.currentUserId,t=e&&e.entities&&e.entities.users&&e.entities.users.profiles;return{loading:e.loading,user:e.user,mmuser:t[a]}},e=>Object(p.bindActionCreators)({rootStartUp:ca},e))(Object(d.g)(fr)),Er=t(235),yr=t.n(Er),jr=t(158),gr=t.n(jr),Nr=t(236),Or=t(104),xr=t(21),wr=t(239),Sr=t.n(wr),Cr=t(159),Ir=t.n(Cr),Tr="STORAGE_REHYDRATE";function Ar(e,a){return(t,n)=>{var r=n();return a.pause(),Object.keys(e).forEach(a=>{var n={};try{var s=JSON.parse(e[a]);if(null===s)n[a]={value:s,timestamp:new Date};else if("undefined"===typeof r.storage.storage[a])"undefined"===typeof s.timestamp?n[a]={value:s,timestamp:new Date}:n[a]={value:s.value,timestamp:new Date(s.timestamp)};else if("undefined"===typeof s.timestamp)n[a]={value:s,timestamp:new Date};else if("undefined"===typeof r.storage.storage[a].timestamp)n[a]={value:s.value,timestamp:new Date(s.timestamp)};else{if(!(new Date(s.timestamp)>r.storage.storage[a].timestamp))return;n[a]={value:s.value,timestamp:new Date(s.timestamp)}}}catch(i){0}t({type:Tr,data:n})}),a.resume(),{data:!0}}}function _r(e={},a){switch(a.type){case"KOHDATAAN_ADD_USER_TO_STATE":return Object(Je.a)({},a.user);case"KOHDATAAN_UPDATE_USER":return Object(Je.a)(Object(Je.a)({},e),a.user);case"UPDATE_USER_PASSWORD_FAILURE":return Object(Je.a)(Object(Je.a)({},e),{},{errorMessage:a.payload});case"KOHDATAAN_SIGNUP_SIGNIN_FAILURE":case"KOHDATAAN_GET_USER_FAILURE":case"KOHDATAAN_UPDATE_USER_FAILURE":case"KOHDATAAN_USER_LOGIN_FAILURE":return Object(Je.a)(Object(Je.a)({},e),{},{errorMessage:a.payload.message});case"KOHDATAAN_GET_USER_INTERESTS":return Object(Je.a)(Object(Je.a)({},e),a.userInterests);case"KOHDATAAN_RESTORE_USER":return Object(Je.a)(Object(Je.a)({},e),{},{deleteAt:null});default:return e}}function Pr(e={},a){switch(a.type){case"KOHDATAAN_GET_INTERESTS":return Object(Je.a)({},a.interests);default:return e}}var Kr={loading:!1};function Fr(e=Kr,a){switch(a.type){case"KOHDATAAN_GET_CHANNEL_INVITATIONS":return Object(Je.a)(Object(Je.a)({},e),a.channelInvitations);case"KOHDATAAN_RESET_CHANNEL_INVITATIONS":return{loading:!1};case"KOHDATAAN_GET_CHANNEL_INVITATION_MEMBERS":return Object(Je.a)(Object(Je.a)({},e),{},{members:Object(Je.a)(Object(Je.a)({},e.members),{},{[a.channelId]:a.members})});case"KOHDATAAN_START_INVITATION_FETCHING":return Object(Je.a)(Object(Je.a)({},e),{},{loading:!0});case"KOHDATAAN_INVITATION_FETCHING_READY":return Object(Je.a)(Object(Je.a)({},e),{},{loading:!1});default:return e}}var Ur={loading:!1};function Dr(e=Ur,a){switch(a.type){case"KOHDATAAN_START_FRIENDS_FETCHING":return Object(Je.a)(Object(Je.a)({},e),{},{loading:!0});case"KOHDATAAN_FRIENDS_FETCHING_READY":return Object(Je.a)(Object(Je.a)({},e),{},{loading:!1});default:return e}}var Mr={root:!0};function Lr(e=Mr,a){switch(a.type){case"KOHDATAAN_ROOT_LOADING_READY":return Object(Je.a)(Object(Je.a)({},e),{},{root:!1});case"KOHDATAAN_START_ROOT_LOADING":return Object(Je.a)(Object(Je.a)({},e),{},{root:!0});default:return e}}var Rr=()=>({loading:Lr,user:_r,interests:Pr,channels:Fr,friends:Dr});function Vr(e){var a=Object(Je.a)({},e);for(var t in a)a.hasOwnProperty(t)&&a[t]instanceof Set&&(a[t]=Array.from([...a[t]]));return a}function Hr(e){var a=Object(Je.a)({},e);for(var t in a)a.hasOwnProperty(t)&&(a[t]=new Set(a[t]));return a}function Br(e,a,t=!0){var n=Object(Je.a)({},e),r=t?Vr:Hr;for(var s in n)n.hasOwnProperty(s)&&a.includes(s)&&(n[s]=r(n[s]));return n}var Jr,qr;function zr(e,a){window.requestAnimationFrame?window.requestAnimationFrame(()=>e(a)):setTimeout(()=>e(a),0)}function Gr(){return Wr.apply(this,arguments)}function Wr(){return(Wr=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.navigator||!window.navigator.onLine){e.next=2;break}return e.abrupt("return",!0);case 2:return e.prev=2,e.next=5,Xe.Client4.ping();case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",!1);case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}function Yr(e){return Zr.apply(this,arguments)}function Zr(){return(Zr=Object(m.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gr();case 2:if(!e.sent){e.next=8;break}return qr=0,clearTimeout(Jr),zr(a,!0),e.abrupt("return");case 8:t=3e3,qr>7&&(t=3e3*qr)>3e5&&(t=3e5),qr+=1,Jr=setTimeout(()=>Yr(a),t),zr(a,!1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $r(e){return Qr.apply(this,arguments)}function Qr(){return(Qr=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.addEventListener("online",()=>Yr(a)),window.addEventListener("offline",()=>Yr(a)),Yr(a);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xr=t(41);var es=["profilesInChannel","profilesNotInChannel","profilesInTeam","profilesNotInTeam","membersInTeam"],as={keys:[],prefixes:["storage"],indexOf:function(e){if(-1!==this.keys.indexOf(e))return 0;for(var a=0;a<this.prefixes.length;a++)if(e.startsWith(this.prefixes[a]))return 0;return-1}};window.Observable=yr.a;var ts=function(e){var a=Object(Or.createTransform)((e,a)=>{if("entities"===a){var t=Object(Je.a)({},e);for(var n in t)t.hasOwnProperty(n)&&(t[n]=Br(t[n],es));return t}return e},(e,a)=>{if("entities"===a){var t=Object(Je.a)({},e);for(var n in t)t.hasOwnProperty(n)&&(t[n]=Br(t[n],es,!1));return t}return e}),t={persist:(a,t)=>{var n=Object(Nr.extendPrototype)(gr.a),r=n;n.ready().then(()=>{var s=Object(Or.persistStore)(a,Object(Je.a)({storage:r,keyPrefix:"reduxPersist:"},t),()=>{a.dispatch({type:xr.General.STORE_REHYDRATION_COMPLETE,complete:!0})});n.configObservables({crossTabNotification:!0});var i=n.newObservable({crossTabNotification:!0,changeDetection:!0}),l={};n.iterate((e,a)=>{if(a&&0===a.indexOf("".concat("reduxPersist:","storage:"))){var t=a.substr("".concat("reduxPersist:","storage:").length);l[t]=e}}).then(()=>{Ar(l,s)(a.dispatch,a.getState)}),i.subscribe({next:e=>{if(e.key&&0===e.key.indexOf("".concat("reduxPersist:","storage:"))&&null===e.oldValue){var t={};t[e.key.substr("".concat("reduxPersist:","storage:").length)]=e.newValue,Ar(t,s)(a.dispatch,a.getState)}}});var o=!1;a.subscribe(()=>{var t=a.getState(),n=function(e){var a=Object(Xr.getConfig)(e)||{};return a.SiteURL?new URL(a.SiteURL).pathname:window.basename||window.location.origin}(t);t.requests.users.logout.status!==xr.RequestStatus.SUCCESS||o||(o=!0,s.purge().then(()=>{document.cookie="MMUSERID=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/",document.cookie="MMUSERID=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=".concat(window.location.hostname,";path=/"),document.cookie="MMCSRF=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/",document.cookie="MMCSRF=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=".concat(window.location.hostname,";path=/"),window.location.href="".concat(n).concat(window.location.search),a.dispatch({type:xr.General.OFFLINE_STORE_RESET,data:Object.assign({},Ir.a,e)}),setTimeout(()=>{o=!1},500)}))})}).catch(e=>{a.dispatch({type:"KOHDATAAN_STORE_REHYDRATION_FAILED",error:e})})},persistOptions:{autoRehydrate:{log:!1},whitelist:as,debounce:30,transforms:[a],_stateIterator:(e,a)=>Object.keys(e).forEach(t=>{"storage"===t?Object.keys(e.storage.storage).forEach(t=>{a(e.storage.storage[t],"storage:".concat(t))}):a(e[t],t)}),_stateGetter:(e,a)=>{var t=e.storage;return 0===a.indexOf("storage:")?(t=t||{storage:{}}).storage[a.substr(8)]:e[a]},_stateSetter:(e,a,t)=>{var n=e.storage;return 0===a.indexOf("storage:")&&((n=n||{storage:{}}).storage[a.substr(8)]=t),e[a]=t,e}},detectNetwork:$r};return Sr()({},Rr(),t,Object(p.combineReducers)(Rr()),{enableBuffer:!1})}(),ns=()=>{i.a.render(r.a.createElement(o.a,{store:ts},r.a.createElement(l.a,null,r.a.createElement(br,null))),document.getElementById("root"))};ns(),ts.subscribe(ns),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[241,1,2]]]);
//# sourceMappingURL=main.6f2dbaa9.chunk.js.map